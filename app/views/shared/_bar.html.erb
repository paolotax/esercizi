<div class="bar fixed bottom-0 left-0 right-0 z-40 flex flex-col justify-center bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl border-t border-gray-200/50 dark:border-gray-700/50 text-gray-700 dark:text-white text-[0.9em] px-4 py-4 pb-[calc(1rem+env(safe-area-inset-bottom))] shadow-[0_-2px_10px_rgba(0,0,0,0.1)] dark:shadow-none"
     data-controller="bar"
     data-bar-dialog-outlet="#bar-modal"
     data-bar-search-url-value="<%= search_path %>">

  <div class="bar__placeholder relative flex justify-center" data-bar-target="buttonsContainer">
    <%= yield :footer %>

    <button class="bar__search-btn btn-press bg-transparent border-none text-inherit text-xs font-semibold opacity-65 px-1 uppercase whitespace-nowrap cursor-pointer flex items-center gap-2 transition-opacity duration-150 hover:text-coral dark:hover:text-coral hover:opacity-100"
            data-controller="hotkey"
            data-action="bar#search keydown.k@document->hotkey#click"
            type="button">
      <span>Cerca</span>
      <kbd class="hide-on-touch bg-black/10 dark:bg-white/10 rounded text-[0.8em] py-0.5 px-1.5">K</kbd>
    </button>
  </div>

  <div class="bar__input translate-y-1/2 transition-transform duration-350" data-bar-target="search" hidden>
    <%= render "shared/bar/search_form" %>
  </div>

  <dialog id="bar-modal" class="bar__modal fixed bottom-0 left-0 right-0 w-screen h-[75dvh] bg-white/90 dark:bg-gray-800/90 backdrop-blur-xl border-y border-gray-200/50 dark:border-gray-700/50 text-gray-700 dark:text-white p-4 overflow-y-auto shadow-[0_-4px_20px_rgba(0,0,0,0.15)] dark:shadow-none -z-10"
          data-controller="dialog"
          data-dialog-target="dialog"
          data-dialog-modal-value="true"
          data-action="keydown.esc@document->bar#reset:stop">
    <%= turbo_frame_tag "bar_content", data: { bar_target: "turboFrame" } %>
  </dialog>
</div>
