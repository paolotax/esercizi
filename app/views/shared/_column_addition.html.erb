<%
  # Parametri:
  # - addend1: array di 3 cifre [h, da, u] per il primo addendo
  # - addend2: array di 3 cifre [h, da, u] per il secondo addendo
  # - result: array di 3 cifre [h, da, u] per il risultato
  # - title: titolo dell'operazione (opzionale)
  
  addend1 ||= ["", "", ""]
  addend2 ||= ["", "", ""]
  result ||= ["", "", ""]
  title ||= nil
%>

<div class="text-center">
  <% if title.present? %>
    <div class="text-xl font-bold mb-4"><%= title %></div>
  <% end %>
  
  <div class="flex items-start justify-center gap-2">
    <div class="inline-block border-4 border-blue-400 rounded-lg" data-controller="column-input">
      
      <div class="grid grid-cols-3 gap-0 border-b-2 border-gray-300">
        <div class="text-center text-green-600 font-bold border-r-2 border-gray-300 p-2">h</div>
        <div class="text-center text-red-500 font-bold border-r-2 border-gray-300 p-2">da</div>
        <div class="text-center text-blue-600 font-bold p-2">u</div>
      </div>
      
      <div class="grid grid-cols-3 gap-0">
        <input type="text" class="p-2 text-center text-2xl font-bold border-r-2 border-gray-300" data-column-input-target="input" data-correct-answer="<%= addend1[0] %>" maxlength="1" placeholder=".......">
        <input type="text" class="p-2 text-center text-2xl font-bold border-r-2 border-gray-300" data-column-input-target="input" data-correct-answer="<%= addend1[1] %>" maxlength="1" placeholder=".......">
        <input type="text" class="p-2 text-center text-2xl font-bold" data-column-input-target="input" data-correct-answer="<%= addend1[2] %>" maxlength="1" placeholder=".......">
      </div>
      
      <div class="grid grid-cols-3 gap-0">
        <input type="text" class="p-2 text-center text-2xl font-bold border-r-2 border-gray-300" data-column-input-target="input" data-correct-answer="<%= addend2[0] %>" maxlength="1" placeholder=".......">
        <input type="text" class="p-2 text-center text-2xl font-bold border-r-2 border-gray-300" data-column-input-target="input" data-correct-answer="<%= addend2[1] %>" maxlength="1" placeholder=".......">
        <input type="text" class="p-2 text-center text-2xl font-bold" data-column-input-target="input" data-correct-answer="<%= addend2[2] %>" maxlength="1" placeholder=".......">
      </div>
      
      <div class="border-t-4 border-gray-500">
        <div class="grid grid-cols-3 gap-0">
          <input type="text" class="p-2 text-center text-2xl font-bold border-r-2 border-gray-300" data-column-input-target="result" data-correct-answer="<%= result[0] %>" maxlength="1" placeholder=".......">
          <input type="text" class="p-2 text-center text-2xl font-bold border-r-2 border-gray-300" data-column-input-target="result" data-correct-answer="<%= result[1] %>" maxlength="1" placeholder=".......">
          <input type="text" class="p-2 text-center text-2xl font-bold" data-column-input-target="result" data-correct-answer="<%= result[2] %>" maxlength="1" placeholder=".......">
        </div>
      </div>
    
    </div>
    <div class="flex flex-col" style="padding-top: 42px">
      <div class="text-2xl font-bold text-blue-600 h-[52px] flex items-center">+</div>
      <div class="text-2xl font-bold text-blue-600 h-[50px] flex items-center">=</div>
    </div>
  </div>
</div>

