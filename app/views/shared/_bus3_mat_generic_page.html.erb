<%
  # Partial per pagine generiche di bus3_mat
  # Parametri:
  # - numero: numero della pagina (es: 1, 25, 74)
  # - titolo: titolo opzionale (default: "Pagina #{numero}")
  
  numero = local_assigns[:numero] || @pagina&.numero
  titolo = local_assigns[:titolo] || "Pagina #{numero}"
  numero_str = numero.to_s.rjust(3, '0')
  image_path = "bus3_mat/p#{numero_str}/page.png"
%>

<% content_for :titolo, "#{titolo} - Pagina #{numero}" %>

<div class="max-w-7xl mx-auto p-6 bg-gradient-to-b from-blue-50 to-white" data-controller="exercise-checker">
  <!-- Header -->
  <div class="mb-8">
    <div class="flex items-start sm:items-center justify-between gap-4 mb-4">
      <div class="flex flex-col-reverse sm:flex-row items-start sm:items-center gap-2 sm:gap-4">
        <div class="bg-blue-500 text-white text-md sm:text-xl px-2 sm:px-4 py-1.5 sm:py-2 rounded-lg font-bold">
          MATEMATICA
        </div>
        <h1 class="text-2xl sm:text-3xl font-bold text-blue-600"><%= titolo.upcase %></h1>
      </div>
      <div class="flex-shrink-0 bg-red-600 text-white rounded-full w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center font-bold text-lg sm:text-xl">
        <%= numero %>
      </div>
    </div>
  </div>

  <!-- Immagine della pagina -->
  <div class="bg-white rounded-xl shadow-lg p-8 mb-8">
    <div class="flex justify-center">
      <%= image_tag image_path,
          alt: "#{titolo} - Pagina #{numero}",
          class: "w-full h-auto max-w-5xl" %>
    </div>
  </div>

  <!-- Footer con controlli -->
  <%= render 'shared/exercise_controls', color: 'blue', current_page: "bus3_mat_p#{numero_str}" %>
</div>

