<nav class="nav relative"
    data-controller="dialog"
    data-action="keydown.esc->dialog#close click@document->dialog#closeOnClickOutside">

  <%# Trigger Button %>
  <button class="nav__trigger btn-press bg-white/80 dark:bg-gray-700/80 backdrop-blur-xl border border-coral/20 dark:border-coral/10 rounded-2xl py-1.5 pr-4 pl-2 font-semibold inline-flex items-center gap-2 cursor-pointer transition-all duration-150 hover:bg-white dark:hover:bg-gray-700 shadow-lg hover:shadow-xl dark:text-white"
          data-controller="hotkey"
          data-action="click->dialog#toggle keydown.m@document->hotkey#click"
          type="button">
    <svg class="h-8 w-8" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M4 19.5C4 18.837 4.26339 18.2011 4.73223 17.7322C5.20107 17.2634 5.83696 17 6.5 17H20" stroke="#F78930" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M6.5 2H20V22H6.5C5.83696 22 5.20107 21.7366 4.73223 21.2678C4.26339 20.7989 4 20.163 4 19.5V4.5C4 3.83696 4.26339 3.20107 4.73223 2.73223C5.20107 2.26339 5.83696 2 6.5 2Z" stroke="#0095DA" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M8 7H16M8 11H14" stroke="#C657A0" stroke-width="2" stroke-linecap="round"/>
    </svg>
    <span class="font-bold text-gray-800 dark:text-white">Esercizi</span>
    <kbd class="kbd hide-on-touch bg-gray-100 dark:bg-gray-600 rounded text-[0.65em] py-0.5 px-1.5 ml-2">M</kbd>
  </button>

  <%# Dialog Menu %>
  <dialog class="nav__menu popup popup--animated
                 hidden open:grid fixed top-2 left-1/2 -translate-x-1/2
                 max-h-[calc(100dvh-1rem)] w-[min(90vw,420px)]
                 overflow-hidden z-[9999]
                 bg-white/90 dark:bg-gray-800/90 backdrop-blur-xl rounded-3xl border border-gray-200/50 dark:border-gray-700/50 shadow-2xl
                 grid-rows-[auto_1fr_auto] gap-0.5 p-3 pb-0
                 opacity-0 scale-95 origin-top transition-all duration-200
                 open:opacity-100 open:scale-100"
          data-controller="filter navigable-list nav-section-expander"
          data-dialog-target="dialog"
          data-action="keydown->navigable-list#navigate filter:changed->navigable-list#reset filter:changed->nav-section-expander#showWhileFiltering"
          data-navigable-list-focus-on-selection-value="false"
          data-navigable-list-actionable-items-value="true">
    <%= render "shared/nav_menu/jump" %>
  </dialog>
</nav>
