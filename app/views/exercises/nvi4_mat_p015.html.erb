<div class="max-w-6xl mx-auto bg-white dark:bg-gray-900 p-3 md:p-6 transition-colors duration-300"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">

    <!-- Introduzione -->
    <div class="text-gray-700 dark:text-gray-200">
      <p class="mb-4">
        In un numero la posizione delle cifre è organizzata in classi e ordini. Ogni <span class="font-bold">classe</span> è suddivisa in tre ordini: <span class="font-bold text-green-600 dark:text-green-400">unità</span>, <span class="font-bold text-blue-600 dark:text-blue-400">decine</span>, <span class="font-bold text-red-600 dark:text-red-400">centinaia</span>. Ogni ordine vale 10 volte di più del precedente.
      </p>
      <p>Osserva.</p>
    </div>

    <!-- Tabella classi e ordini -->
    <div class="overflow-x-auto">
      <table class="w-full border-collapse">
        <thead>
          <tr>
            <th colspan="3" class="p-2 bg-<%= @pagina.base_color %>-500 text-white border-2 border-<%= @pagina.base_color %>-500 font-bold">CLASSE DELLE MIGLIAIA</th>
            <th colspan="3" class="p-2 bg-cyan-500 text-white border-2 border-cyan-500 font-bold">CLASSE DELLE UNITÀ SEMPLICI</th>
          </tr>
          <tr>
            <td class="p-2 border-2 border-<%= @pagina.base_color %>-400 dark:border-<%= @pagina.base_color %>-600 text-center bg-<%= @pagina.base_color %>-100 dark:bg-<%= @pagina.base_color %>-900/40 dark:text-gray-200">ordine delle centinaia di migliaia</td>
            <td class="p-2 border-2 border-<%= @pagina.base_color %>-400 dark:border-<%= @pagina.base_color %>-600 text-center bg-<%= @pagina.base_color %>-100 dark:bg-<%= @pagina.base_color %>-900/40 dark:text-gray-200">ordine delle decine di migliaia</td>
            <td class="p-2 border-2 border-<%= @pagina.base_color %>-400 dark:border-<%= @pagina.base_color %>-600 text-center bg-<%= @pagina.base_color %>-100 dark:bg-<%= @pagina.base_color %>-900/40 dark:text-gray-200">ordine delle unità di migliaia</td>
            <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-cyan-100 dark:bg-cyan-900/40 dark:text-gray-200">ordine delle centinaia</td>
            <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-cyan-100 dark:bg-cyan-900/40 dark:text-gray-200">ordine delle decine</td>
            <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-cyan-100 dark:bg-cyan-900/40 dark:text-gray-200">ordine delle unità</td>
          </tr>
          <tr>
            <td class="p-2 border-2 border-<%= @pagina.base_color %>-400 dark:border-<%= @pagina.base_color %>-600 text-center bg-<%= @pagina.base_color %>-50 dark:bg-<%= @pagina.base_color %>-900/40 font-bold text-red-600 dark:text-red-400">hk</td>
            <td class="p-2 border-2 border-<%= @pagina.base_color %>-400 dark:border-<%= @pagina.base_color %>-600 text-center bg-<%= @pagina.base_color %>-50 dark:bg-<%= @pagina.base_color %>-900/40 font-bold text-blue-600 dark:text-blue-400">dak</td>
            <td class="p-2 border-2 border-<%= @pagina.base_color %>-400 dark:border-<%= @pagina.base_color %>-600 text-center bg-<%= @pagina.base_color %>-50 dark:bg-<%= @pagina.base_color %>-900/40 font-bold text-green-600 dark:text-green-400">uk</td>
            <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-cyan-50 dark:bg-cyan-900/40 font-bold text-red-600 dark:text-red-400">h</td>
            <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-cyan-50 dark:bg-cyan-900/40 font-bold text-blue-600 dark:text-blue-400">da</td>
            <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-cyan-50 dark:bg-cyan-900/40 font-bold text-green-600 dark:text-green-400">u</td>
          </tr>
          <tr>
            <td class="p-2 border-2 border-<%= @pagina.base_color %>-400 dark:border-<%= @pagina.base_color %>-600 text-center bg-white dark:bg-gray-800 dark:text-gray-200"><span class="whitespace-nowrap">100 000</span></td>
            <td class="p-2 border-2 border-<%= @pagina.base_color %>-400 dark:border-<%= @pagina.base_color %>-600 text-center bg-white dark:bg-gray-800 dark:text-gray-200"><span class="whitespace-nowrap">10 000</span></td>
            <td class="p-2 border-2 border-<%= @pagina.base_color %>-400 dark:border-<%= @pagina.base_color %>-600 text-center bg-white dark:bg-gray-800 dark:text-gray-200"><span class="whitespace-nowrap">1 000</span></td>
            <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-800 dark:text-gray-200">100</td>
            <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-800 dark:text-gray-200">10</td>
            <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-800 dark:text-gray-200">1</td>
          </tr>
          <tr>
            <td class="p-2 border-2 border-<%= @pagina.base_color %>-400 dark:border-<%= @pagina.base_color %>-600 text-center bg-white dark:bg-gray-800 dark:text-gray-200">centomila</td>
            <td class="p-2 border-2 border-<%= @pagina.base_color %>-400 dark:border-<%= @pagina.base_color %>-600 text-center bg-white dark:bg-gray-800 dark:text-gray-200">diecimila</td>
            <td class="p-2 border-2 border-<%= @pagina.base_color %>-400 dark:border-<%= @pagina.base_color %>-600 text-center bg-white dark:bg-gray-800 dark:text-gray-200">mille</td>
            <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-800 dark:text-gray-200">cento</td>
            <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-800 dark:text-gray-200">dieci</td>
            <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-800 dark:text-gray-200">uno</td>
          </tr>
        </thead>
      </table>
    </div>

    <!-- Sezione Completa -->
    <div class="mb-8">
      <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
        <span class="text-<%= @pagina.base_color %>-500">•</span>
        Completa.
      </p>

      <!-- Tabella formano -->
      <div class="bg-white dark:bg-gray-800 overflow-hidden border-2 border-cyan-400 dark:border-cyan-600 mb-6">
        <table class="w-full border-collapse">
          <tbody>
            <tr class="border-b-2 border-cyan-400 dark:border-cyan-600">
              <td class="p-3 border-r-2 border-cyan-400 dark:border-cyan-600 text-gray-700 dark:text-gray-200"><span class="font-bold text-cyan-600 dark:text-cyan-400">10</span> <span class="font-bold text-cyan-600 dark:text-cyan-400">unità</span> formano <span class="font-bold text-cyan-600 dark:text-cyan-400">1 decina</span></td>
              <td class="p-3 bg-orange-100 dark:bg-orange-900/40 dark:text-gray-200">10 u = <span class="font-bold text-cyan-600 dark:text-cyan-400">1 da</span></td>
            </tr>
            <tr class="border-b-2 border-cyan-400 dark:border-cyan-600">
              <td class="p-3 border-r-2 border-cyan-400 dark:border-cyan-600 flex items-center gap-2 flex-wrap text-gray-700 dark:text-gray-200">
                <span class="font-bold text-cyan-600 dark:text-cyan-400">10</span> decine formano <span class="font-bold text-cyan-600 dark:text-cyan-400">1</span>
                <input type="text" data-correct-answer="centinaio" class="w-32 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
              </td>
              <td class="p-3 bg-orange-100 dark:bg-orange-900/40 dark:text-gray-200">10 da = <span class="font-bold text-cyan-600 dark:text-cyan-400">1 h</span></td>
            </tr>
            <tr class="border-b-2 border-cyan-400 dark:border-cyan-600">
              <td class="p-3 border-r-2 border-cyan-400 dark:border-cyan-600 flex items-center gap-2 flex-wrap text-gray-700 dark:text-gray-200">
                <span class="font-bold text-cyan-600 dark:text-cyan-400">10</span>
                <input type="text" data-correct-answer="centinaia" class="w-32 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                formano <span class="font-bold text-cyan-600 dark:text-cyan-400">1</span>
                <input type="text" data-correct-answer="migliaio" class="w-32 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
              </td>
              <td class="p-3 bg-orange-100 dark:bg-orange-900/40 dark:text-gray-200">10 h = <span class="font-bold text-cyan-600 dark:text-cyan-400">1 uk</span></td>
            </tr>
            <tr class="border-b-2 border-cyan-400 dark:border-cyan-600">
              <td class="p-3 border-r-2 border-cyan-400 dark:border-cyan-600 flex items-center gap-2 flex-wrap text-gray-700 dark:text-gray-200">
                <span class="font-bold text-cyan-600 dark:text-cyan-400">10</span>
                <input type="text" data-correct-answer="migliaia" class="w-32 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                formano <span class="font-bold text-cyan-600 dark:text-cyan-400">1</span>
                <input type="text" data-correct-answer="decina di migliaia" class="w-44 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
              </td>
              <td class="p-3 bg-orange-100 dark:bg-orange-900/40 dark:text-gray-200">10 uk = <span class="font-bold text-cyan-600 dark:text-cyan-400">1 dak</span></td>
            </tr>
            <tr>
              <td class="p-3 border-r-2 border-cyan-400 dark:border-cyan-600 flex items-center gap-2 flex-wrap text-gray-700 dark:text-gray-200">
                <span class="font-bold text-cyan-600 dark:text-cyan-400">10</span>
                <input type="text" data-correct-answer="decine di migliaia" class="w-44 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                formano <span class="font-bold text-cyan-600 dark:text-cyan-400">1</span>
                <input type="text" data-correct-answer="centinaio di migliaia" class="w-52 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
              </td>
              <td class="p-3 bg-orange-100 dark:bg-orange-900/40 dark:text-gray-200">10 dak = <span class="font-bold text-cyan-600 dark:text-cyan-400">1 hk</span></td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Equivalenze -->
      <div class="space-y-3">
        <p class="text-gray-700 dark:text-gray-200"><span class="font-bold">1 u</span> = 1</p>
        <p class="text-gray-700 dark:text-gray-200"><span class="font-bold">1 da</span> = 10 u</p>
        <div class="flex flex-wrap items-center gap-2">
          <span class="text-gray-700 dark:text-gray-200"><span class="font-bold">1 h</span> = 10 da =</span>
          <input type="text" data-correct-answer="100" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          <span class="text-gray-700 dark:text-gray-200">u</span>
        </div>
        <div class="flex flex-wrap items-center gap-2">
          <span class="text-gray-700 dark:text-gray-200"><span class="font-bold">1 uk</span> = 10 h =</span>
          <input type="text" data-correct-answer="100" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          <span class="text-gray-700 dark:text-gray-200">da =</span>
          <input type="text" data-correct-answer="1000" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          <span class="text-gray-700 dark:text-gray-200">u</span>
        </div>
        <div class="flex flex-wrap items-center gap-2">
          <span class="text-gray-700 dark:text-gray-200"><span class="font-bold">1 dak</span> = 10 uk =</span>
          <input type="text" data-correct-answer="100" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          <span class="text-gray-700 dark:text-gray-200">h =</span>
          <input type="text" data-correct-answer="1000" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          <span class="text-gray-700 dark:text-gray-200">da =</span>
          <input type="text" data-correct-answer="10000" class="w-24 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          <span class="text-gray-700 dark:text-gray-200">u</span>
        </div>
        <div class="flex flex-wrap items-center gap-2">
          <span class="text-gray-700 dark:text-gray-200"><span class="font-bold">1 hk</span> = 10 dak =</span>
          <input type="text" data-correct-answer="100" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          <span class="text-gray-700 dark:text-gray-200">uk =</span>
          <input type="text" data-correct-answer="1000" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          <span class="text-gray-700 dark:text-gray-200">h =</span>
          <input type="text" data-correct-answer="10000" class="w-24 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          <span class="text-gray-700 dark:text-gray-200">da =</span>
          <input type="text" data-correct-answer="100000" class="w-28 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          <span class="text-gray-700 dark:text-gray-200">u</span>
        </div>
      </div>
    </div>

    <!-- Container ESERCIZI -->
    <div class="p-4 md:p-6 bg-orange-100 dark:bg-orange-900/30 rounded-2xl">

      <!-- Sezione ESERCIZI -->
      <div class="bg-<%= @pagina.base_color %>-600 text-white px-4 py-2 rounded-lg inline-block font-bold mb-4">
        ESERCIZI
      </div>

      <!-- Esercizio 1: Valore posizionale della cifra 8 -->
      <div>
        <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
          <%= numero_esercizio_badge(1) %>
          Indica il valore posizionale della cifra <span class="font-bold">8</span> nei seguenti numeri. Segui l'esempio.
        </p>

        <div>
          <!-- Esempio -->
          <div class="flex items-center gap-2 mb-4 text-gray-700 dark:text-gray-200">
            <span class="font-bold whitespace-nowrap">5 864</span>
            <span class="text-<%= @pagina.base_color %>-500">→</span>
            <span class="font-bold text-<%= @pagina.base_color %>-600">8 h</span>
          </div>

          <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-gray-700 dark:text-gray-200">
            <div class="flex items-center gap-2">
              <span>208</span>
              <span class="text-<%= @pagina.base_color %>-500">→</span>
              <span>8</span>
              <input type="text" data-correct-answer="u" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            </div>
            <div class="flex items-center gap-2">
              <span class="whitespace-nowrap">85 721</span>
              <span class="text-<%= @pagina.base_color %>-500">→</span>
              <span>8</span>
              <input type="text" data-correct-answer="dak" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            </div>
            <div class="flex items-center gap-2">
              <span class="whitespace-nowrap">1 786</span>
              <span class="text-<%= @pagina.base_color %>-500">→</span>
              <span>8</span>
              <input type="text" data-correct-answer="da" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            </div>
            <div class="flex items-center gap-2">
              <span class="whitespace-nowrap">18 524</span>
              <span class="text-<%= @pagina.base_color %>-500">→</span>
              <span>8</span>
              <input type="text" data-correct-answer="uk" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            </div>
            <div class="flex items-center gap-2">
              <span class="whitespace-nowrap">27 865</span>
              <span class="text-<%= @pagina.base_color %>-500">→</span>
              <span>8</span>
              <input type="text" data-correct-answer="h" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            </div>
            <div class="flex items-center gap-2">
              <span class="whitespace-nowrap">805 472</span>
              <span class="text-<%= @pagina.base_color %>-500">→</span>
              <span>8</span>
              <input type="text" data-correct-answer="hk" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            </div>
            <div class="flex items-center gap-2">
              <span class="whitespace-nowrap">98 235</span>
              <span class="text-<%= @pagina.base_color %>-500">→</span>
              <span>8</span>
              <input type="text" data-correct-answer="uk" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            </div>
            <div class="flex items-center gap-2">
              <span class="whitespace-nowrap">284 126</span>
              <span class="text-<%= @pagina.base_color %>-500">→</span>
              <span>8</span>
              <input type="text" data-correct-answer="dak" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            </div>
          </div>
        </div>
      </div>

    </div>

    <%= render 'shared/quaderno_link', pagine: [172, 173, 174, 175, 176] %>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
