<div class="max-w-6xl mx-auto p-3 md:p-6"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <!-- Header -->
  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">
    <!-- Titolo sezione -->
    <div class="p-4 md:p-6 bg-orange-100 rounded-lg">
      <h2 class="font-bold text-orange-700 mb-2">ESERCIZI</h2>
      <p class="font-bold text-gray-800"><span class="text-pink-600">&#8226;</span> Risolvi i problemi.</p>
    </div>

    <!-- Esercizio 1 -->
    <div class="p-4 md:p-6 bg-white border-3 border-blue-500 rounded-3xl">
      <div class="flex items-start gap-3 mb-4">
        <div class="bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">1</div>
        <div class="flex-1">
          <p class="text-gray-800 mb-4">Il papà di Marco compra 3 biglietti di sola andata per il treno Milano-Roma e 4 di andata e ritorno Milano-Roma. Quanto spende?</p>

          <table class="w-full border-2 border-blue-400 rounded-lg overflow-hidden mb-4">
            <thead>
              <tr class="bg-blue-100">
                <th class="border border-blue-400 px-4 py-2 text-left font-bold">Milano-Roma</th>
                <th class="border border-blue-400 px-4 py-2 text-center font-bold">1 persona</th>
                <th class="border border-blue-400 px-4 py-2 text-center font-bold">4 persone</th>
                <th class="border border-blue-400 px-4 py-2 text-center font-bold">10 persone</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="border border-blue-400 px-4 py-2 font-bold">Solo andata</td>
                <td class="border border-blue-400 px-4 py-2 text-center text-cyan-600 font-bold">50 euro</td>
                <td class="border border-blue-400 px-4 py-2 text-center">180 euro</td>
                <td class="border border-blue-400 px-4 py-2 text-center">420 euro</td>
              </tr>
              <tr>
                <td class="border border-blue-400 px-4 py-2 font-bold">Andata-ritorno</td>
                <td class="border border-blue-400 px-4 py-2 text-center text-cyan-600 font-bold">85 euro</td>
                <td class="border border-blue-400 px-4 py-2 text-center">320 euro</td>
                <td class="border border-blue-400 px-4 py-2 text-center">790 euro</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <div class="p-4 bg-blue-50 rounded-lg">
        <p class="font-bold text-gray-700 mb-2">Risposta:</p>
        <input type="text" class="w-full px-3 py-2 border-2 border-blue-300 rounded focus:border-blue-500 focus:outline-none" placeholder="Scrivi la tua risposta...">
      </div>
    </div>

    <!-- Esercizio 2 -->
    <div class="p-4 md:p-6 bg-white border-3 border-green-500 rounded-3xl">
      <div class="flex items-start gap-3 mb-4">
        <div class="bg-green-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">2</div>
        <div class="flex-1">
          <p class="text-gray-800 mb-4">Amir fa 4 telefonate di 5 minuti a mezzogiorno e una di 10 minuti a mezzanotte. Quanto spende?</p>

          <table class="w-full border-2 border-green-400 rounded-lg overflow-hidden mb-4">
            <thead>
              <tr class="bg-green-100">
                <th class="border border-green-400 px-4 py-2 text-left font-bold">Fascia oraria</th>
                <th class="border border-green-400 px-4 py-2 text-center font-bold">8-14</th>
                <th class="border border-green-400 px-4 py-2 text-center font-bold">14-22</th>
                <th class="border border-green-400 px-4 py-2 text-center font-bold">22-8</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="border border-green-400 px-4 py-2 font-bold">1 min</td>
                <td class="border border-green-400 px-4 py-2 text-center">€ 1</td>
                <td class="border border-green-400 px-4 py-2 text-center">€ 0,50</td>
                <td class="border border-green-400 px-4 py-2 text-center">€ 0,30</td>
              </tr>
              <tr>
                <td class="border border-green-400 px-4 py-2 font-bold">5 min</td>
                <td class="border border-green-400 px-4 py-2 text-center text-cyan-600 font-bold">€ 4</td>
                <td class="border border-green-400 px-4 py-2 text-center">€ 2</td>
                <td class="border border-green-400 px-4 py-2 text-center">€ 1,20</td>
              </tr>
              <tr>
                <td class="border border-green-400 px-4 py-2 font-bold">10 min</td>
                <td class="border border-green-400 px-4 py-2 text-center">€ 7</td>
                <td class="border border-green-400 px-4 py-2 text-center">€ 3,50</td>
                <td class="border border-green-400 px-4 py-2 text-center text-cyan-600 font-bold">€ 2</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <div class="p-4 bg-green-50 rounded-lg">
        <p class="font-bold text-gray-700 mb-2">Risposta:</p>
        <input type="text" class="w-full px-3 py-2 border-2 border-green-300 rounded focus:border-green-500 focus:outline-none" placeholder="Scrivi la tua risposta...">
      </div>
    </div>

    <!-- Esercizio 3 -->
    <div class="p-4 md:p-6 bg-white border-3 border-cyan-500 rounded-3xl">
      <div class="flex items-start gap-3 mb-4">
        <div class="bg-cyan-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">3</div>
        <p class="font-bold text-gray-700">Il grafico rappresenta l'andamento della costruzione della rete ferroviaria italiana dal 1840 al 2000. Osservalo e rispondi.</p>
      </div>

      <div class="flex flex-col md:flex-row gap-6">
        <div class="flex-1 space-y-4">
          <div class="flex flex-col md:flex-row items-start gap-3">
            <span class="text-gray-700"><span class="text-pink-600 font-bold">–</span> In quale anno si è cominciato a costruire la rete ferroviaria italiana?</span>
            <input type="text" class="w-32 px-3 py-2 border-2 border-cyan-300 rounded focus:border-cyan-500 focus:outline-none">
          </div>
          <div class="flex flex-col md:flex-row items-start gap-3">
            <span class="text-gray-700"><span class="text-pink-600 font-bold">–</span> In quanti anni è raddoppiata la lunghezza della rete ferroviaria dal 1880?</span>
            <input type="text" class="w-32 px-3 py-2 border-2 border-cyan-300 rounded focus:border-cyan-500 focus:outline-none">
          </div>
          <div class="flex flex-col md:flex-row items-start gap-3">
            <span class="text-gray-700"><span class="text-pink-600 font-bold">–</span> A partire da quale anno è diminuita la lunghezza della rete ferroviaria?</span>
            <input type="text" class="w-32 px-3 py-2 border-2 border-cyan-300 rounded focus:border-cyan-500 focus:outline-none">
          </div>
        </div>
        <div class="flex justify-center">
          <%= image_tag "nvi5_mat/p073/p073_01.jpg", alt: "Grafico rete ferroviaria", class: "max-w-xs rounded-lg" %>
        </div>
      </div>
    </div>

    <!-- Esercizio 4 -->
    <div class="p-4 md:p-6 bg-white border-3 border-purple-500 rounded-3xl">
      <div class="flex items-start gap-3 mb-4">
        <div class="bg-purple-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">4</div>
        <p class="font-bold text-gray-700">Un trapezio è formato da un quadrato centrale con il lato di 6 cm e da due triangoli rettangoli isosceli. Realizza il disegno e calcola l'area del trapezio.</p>
      </div>

      <div class="p-4 bg-purple-50 rounded-lg mb-4">
        <div class="h-40 bg-white rounded border-2 border-dashed border-purple-300 flex items-center justify-center">
          <span class="text-gray-400">Spazio per il disegno</span>
        </div>
      </div>

      <div class="p-4 bg-purple-50 rounded-lg">
        <p class="font-bold text-gray-700 mb-2">Calcolo dell'area:</p>
        <input type="text" class="w-full px-3 py-2 border-2 border-purple-300 rounded focus:border-purple-500 focus:outline-none" placeholder="Scrivi i tuoi calcoli...">
      </div>
    </div>

    <!-- Riferimento quaderno -->
    <div class="p-4 text-right">
      <p class="text-gray-700">
        <span class="font-bold">Quaderno</span> esercizi pp. <a href="#" class="text-red-600 font-bold hover:underline">215</a>-<a href="#" class="text-red-600 font-bold hover:underline">218</a>
      </p>
    </div>

    <!-- Exercise Controls -->
    <%= render 'shared/exercise_controls', color: 'blue' %>
  </div>
</div>
