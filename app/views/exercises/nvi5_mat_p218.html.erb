<div class="max-w-6xl mx-auto bg-white p-3 md:p-6"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">
    <!-- Esercizio 1 -->
    <div>
      <p class="font-bold text-gray-700 mb-4">
        <%= numero_esercizio_badge(1) %>
        Nel seguente problema sottolinea i dati utili per rispondere alla domanda 1 e cerchia i dati inutili. Poi aggiungi un'altra domanda in modo da utilizzare i dati inutili.
      </p>

      <div class="p-4 bg-gray-50 rounded-lg mb-4">
        <p class="text-gray-700">
          In cartoleria Paolo ha acquistato delle penne a € 11, un temperamatite a € 0,50 e 3 quadernoni a € 1,20 l'uno. Paga con una banconota da € 20.
        </p>
      </div>

      <div class="space-y-3">
        <div class="flex items-center gap-2">
          <span class="text-gray-700"><span class="text-cyan-500">•</span> <span class="font-bold">Domanda 1:</span> Quanto spende Paolo?</span>
        </div>
        <div class="flex items-center gap-2">
          <span class="text-gray-700"><span class="text-cyan-500">•</span> <span class="font-bold">Domanda 2:</span></span>
          <input type="text" class="flex-1 border-b-2 border-dotted border-gray-400 bg-transparent" placeholder="Quanto resta a Paolo?">
        </div>
      </div>
    </div>

    <!-- Esercizio 2 -->
    <div>
      <p class="font-bold text-gray-700 mb-4">
        <%= numero_esercizio_badge(2) %>
        Copia sul quaderno i problemi e al posto dell'asterisco (<span class="font-bold">*</span>) scrivi la domanda intermedia. Poi risolvi.
      </p>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="p-3 border border-gray-200 rounded">
          <p class="text-gray-700">
            <span class="font-bold text-cyan-600">a.</span> Per il compleanno di Paolo i suoi genitori acquistano un elicottero radiocomandato che costa € 52,80 e 3 pile. Spendono in tutto € 56,85. (<span class="font-bold">*</span>) Quanto costa una pila?
          </p>
        </div>
        <div class="p-3 border border-gray-200 rounded">
          <p class="text-gray-700">
            <span class="font-bold text-cyan-600">b.</span> 4 insegnanti e 56 alunni partono per una gita.<br>
            Il biglietto del treno costa € 27 a persona e la sistemazione in albergo € 85 a persona. (<span class="font-bold">*</span>) Quanto spendono in totale tutti i partecipanti?
          </p>
        </div>
      </div>
    </div>

    <!-- Esercizio 3 -->
    <div>
      <p class="font-bold text-gray-700 mb-4">
        <%= numero_esercizio_badge(3) %>
        Rappresenta sul quaderno con i segmenti e risolvi.
      </p>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="p-3 border border-gray-200 rounded">
          <p class="text-gray-700">
            <span class="font-bold text-cyan-600">a.</span> In una città ci sono due squadre di atletica con un totale di 63 atleti. La prima squadra ha 7 atleti in più della seconda.<br>
            Quanti atleti ci sono nella seconda squadra?
          </p>
        </div>
        <div class="p-3 border border-gray-200 rounded">
          <p class="text-gray-700">
            <span class="font-bold text-cyan-600">b.</span> Marco e Alessandro si dividono una vincita di € 680 in base ai loro accordi: Alessandro avrà € 65 in più di Marco.<br>
            Quanti euro avrà Alessandro?
          </p>
        </div>
      </div>
    </div>

    <!-- Esercizio 4 -->
    <div>
      <p class="font-bold text-gray-700 mb-4">
        <%= numero_esercizio_badge(4) %>
        Osserva i seguenti diagrammi a striscia e per ciascuno scrivi il testo di un problema sul quaderno. Poi risolvili.
      </p>

      <div class="flex justify-center">
        <%= image_tag "nvi5_mat/p218/p218_01.jpg", class: "max-w-full", alt: "Diagrammi a striscia" %>
      </div>
    </div>

    <!-- Esercizio 5 -->
    <div>
      <p class="font-bold text-gray-700 mb-4">
        <%= numero_esercizio_badge(5) %>
        Per ciascun problema scegli l'espressione che lo risolve. Poi calcola sul quaderno.
      </p>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- Problema a -->
        <div class="space-y-4 p-3 border border-gray-200 rounded">
          <p class="text-gray-700">
            <span class="font-bold text-cyan-600">a.</span> Un puzzle costa al negoziante € 8.<br>
            Viene rivenduto a € 10,50. Quanto guadagnerà il negoziante vendendo 10 puzzle?
          </p>
          <div class="space-y-2">
            <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded border border-gray-200">
              <input type="checkbox" class="w-5 h-5" data-correct-answer="false">
              <span>(8 + 10,50) × 10</span>
            </label>
            <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded border border-gray-200">
              <input type="checkbox" class="w-5 h-5" data-correct-answer="false">
              <span>(10,50 – 8) : 10</span>
            </label>
            <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded border border-gray-200">
              <input type="checkbox" class="w-5 h-5" data-correct-answer="true">
              <span>(10,50 – 8) × 10</span>
            </label>
          </div>
        </div>

        <!-- Problema b -->
        <div class="space-y-4 p-3 border border-gray-200 rounded">
          <p class="text-gray-700">
            <span class="font-bold text-cyan-600">b.</span> La famiglia Rossetti, composta da 2 adulti e 3 ragazzi, va al Museo della Scienza.<br>
            Quanto spende se il biglietto d'ingresso costa € 11 per gli adulti ed € 7,90 per i ragazzi?
          </p>
          <div class="space-y-2">
            <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded border border-gray-200">
              <input type="checkbox" class="w-5 h-5" data-correct-answer="false">
              <span>(11 + 7,90) × (2 + 3)</span>
            </label>
            <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded border border-gray-200">
              <input type="checkbox" class="w-5 h-5" data-correct-answer="true">
              <span>(11 × 2) + (7,90 × 3)</span>
            </label>
            <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded border border-gray-200">
              <input type="checkbox" class="w-5 h-5" data-correct-answer="false">
              <span>(2 + 11) × (3 + 7,90)</span>
            </label>
          </div>
        </div>
      </div>
    </div>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
