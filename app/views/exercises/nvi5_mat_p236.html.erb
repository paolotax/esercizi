<div class="max-w-6xl mx-auto bg-white p-3 md:p-6"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">
    <!-- Box teoria: classificazione poligoni -->
    <div class="p-4 bg-custom-blue-light rounded-lg">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-center">
        <div class="p-2">
          <p class="font-bold text-cyan-600">Poligono equilatero</p>
          <p class="text-gray-700">tutti i lati congruenti</p>
        </div>
        <div class="p-2 border-l border-r border-cyan-300">
          <p class="font-bold text-cyan-600">Poligono equiangolo</p>
          <p class="text-gray-700">tutti gli angoli congruenti</p>
        </div>
        <div class="p-2">
          <p class="font-bold text-cyan-600">Poligono regolare</p>
          <p class="text-gray-700">tutti i lati e gli angoli congruenti</p>
        </div>
      </div>
    </div>

    <!-- Esercizio 1: IMPARARE TUTTI -->
    <div class="p-4 bg-white rounded-2xl border-3 border-yellow-400">
      <p class="font-bold text-gray-700 mb-4">
        <%= imparare_tutti_badge(1) %>
        Colora come indicato.
      </p>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 items-start">
        <div class="p-3 bg-gray-50 rounded-lg">
          <ul class="space-y-1 text-gray-700">
            <li><span class="inline-block w-4 h-4 bg-red-400 rounded mr-2"></span>rosso = triangoli</li>
            <li><span class="inline-block w-4 h-4 bg-yellow-400 rounded mr-2"></span>giallo = quadrilateri</li>
            <li><span class="inline-block w-4 h-4 bg-green-400 rounded mr-2"></span>verde = pentagoni</li>
            <li><span class="inline-block w-4 h-4 bg-cyan-400 rounded mr-2"></span>azzurro = esagoni</li>
            <li><span class="inline-block w-4 h-4 bg-pink-400 rounded mr-2"></span>rosa = ettagoni</li>
            <li><span class="inline-block w-4 h-4 bg-gray-400 rounded mr-2"></span>grigio = ottagoni</li>
          </ul>
        </div>
        <div class="p-4 bg-gray-50 rounded-lg">
          <%= image_tag "nvi5_mat/p236/output-1715938802236_346_340_609_244.png", alt: "Poligoni da colorare", class: "w-full" %>
        </div>
      </div>
    </div>

    <!-- Esercizio 2 -->
    <div>
      <p class="font-bold text-gray-700 mb-4">
        <%= numero_esercizio_badge(2) %>
        Cerchia di rosso i poligoni equiangoli, di blu i poligoni equilateri e di verde i poligoni regolari.
      </p>

      <div class="p-4 bg-gray-50 rounded-lg">
        <%= image_tag "nvi5_mat/p236/output-1715938802236_152_671_813_119.png", alt: "Poligoni da classificare", class: "w-full max-w-3xl mx-auto" %>
        <p class="text-gray-600 italic mt-2 text-center">
          <span class="text-red-500">Rosso</span> = equiangoli |
          <span class="text-blue-500">Blu</span> = equilateri |
          <span class="text-green-500">Verde</span> = regolari
        </p>
      </div>
    </div>

    <!-- Esercizio 3 -->
    <div>
      <p class="font-bold text-gray-700 mb-4">
        <%= numero_esercizio_badge(3) %>
        Misura lati e angoli dei triangoli con riga e goniometro. Poi classificali inserendo le lettere in tabella.
      </p>

      <div class="mb-4">
        <%= image_tag "nvi5_mat/p236/p236_01.jpg", alt: "Triangoli da classificare", class: "w-full max-w-3xl mx-auto" %>
      </div>

      <div class="overflow-x-auto">
        <table class="w-full border-collapse border border-cyan-400 max-w-xl mx-auto">
          <thead>
            <tr>
              <th class="p-2 border border-cyan-400 bg-white text-center text-gray-800"></th>
              <th class="p-2 border border-cyan-400 bg-custom-blue-light text-center text-gray-800 font-bold">Scaleno</th>
              <th class="p-2 border border-cyan-400 bg-custom-blue-light text-center text-gray-800 font-bold">Isoscele</th>
              <th class="p-2 border border-cyan-400 bg-custom-blue-light text-center text-gray-800 font-bold">Equilatero</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="p-2 border border-cyan-400 bg-white text-center font-bold">Acutangolo</td>
              <td class="p-2 border border-cyan-400 bg-white text-center">
                <input type="text" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
              </td>
              <td class="p-2 border border-cyan-400 bg-white text-center">
                <input type="text" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
              </td>
              <td class="p-2 border border-cyan-400 bg-white text-center">
                <input type="text" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
              </td>
            </tr>
            <tr>
              <td class="p-2 border border-cyan-400 bg-white text-center font-bold">Rettangolo</td>
              <td class="p-2 border border-cyan-400 bg-white text-center">
                <input type="text" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
              </td>
              <td class="p-2 border border-cyan-400 bg-white text-center">
                <input type="text" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
              </td>
              <td class="p-2 border border-cyan-400 bg-white text-center text-gray-500">/</td>
            </tr>
            <tr>
              <td class="p-2 border border-cyan-400 bg-white text-center font-bold">Ottusangolo</td>
              <td class="p-2 border border-cyan-400 bg-white text-center">
                <input type="text" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
              </td>
              <td class="p-2 border border-cyan-400 bg-white text-center">
                <input type="text" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
              </td>
              <td class="p-2 border border-cyan-400 bg-white text-center text-gray-500">/</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
