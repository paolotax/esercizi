<div class="max-w-6xl mx-auto bg-white dark:bg-gray-900 p-3 md:p-6 transition-colors duration-300"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">

    <!-- Esercizi 1, 2, 3 IMPARARE TUTTI -->
    <div class="p-5 bg-white dark:bg-gray-800 rounded-2xl border-3 border-yellow-400 dark:border-yellow-500 space-y-6">

      <!-- Esercizio 1 -->
      <div>
        <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
          <%= imparare_tutti_badge(1) %>
          Scrivi il corrispondente valore in euro. Segui l'esempio.
        </p>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div class="space-y-3">
            <div class="flex items-center gap-2 flex-wrap text-gray-700 dark:text-gray-200">
              <span class="font-bold">trenta euro e venti centesimi =</span>
              <span class="font-bold text-cyan-600 dark:text-cyan-400">€ 30,20</span>
            </div>
            <div class="flex items-center gap-2 flex-wrap text-gray-700 dark:text-gray-200">
              <span>centosettantatré euro = €</span>
              <input type="text" data-correct-answer="173,00" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            </div>
            <div class="flex items-center gap-2 flex-wrap text-gray-700 dark:text-gray-200">
              <span>novantanove centesimi = €</span>
              <input type="text" data-correct-answer="0,99" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            </div>
            <div class="flex items-center gap-2 flex-wrap text-gray-700 dark:text-gray-200">
              <span>sedici euro e venti centesimi = €</span>
              <input type="text" data-correct-answer="16,20" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            </div>
          </div>
          <div class="space-y-3">
            <div class="flex items-center gap-2 flex-wrap text-gray-700 dark:text-gray-200">
              <span>tre euro e dodici centesimi = €</span>
              <input type="text" data-correct-answer="3,12" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            </div>
            <div class="flex items-center gap-2 flex-wrap text-gray-700 dark:text-gray-200">
              <span>quattro euro e un centesimo = €</span>
              <input type="text" data-correct-answer="4,01" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            </div>
            <div class="flex items-center gap-2 flex-wrap text-gray-700 dark:text-gray-200">
              <span>ventidue euro e sette centesimi = €</span>
              <input type="text" data-correct-answer="22,07" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            </div>
            <div class="flex items-center gap-2 flex-wrap text-gray-700 dark:text-gray-200">
              <span>cento euro e zero centesimi = €</span>
              <input type="text" data-correct-answer="100,00" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            </div>
          </div>
        </div>
      </div>

      <!-- Esercizio 2 -->
      <div>
        <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
          <%= imparare_tutti_badge(2) %>
          Componi in tre modi diversi <span class="text-cyan-600 dark:text-cyan-400 font-bold">1 euro</span>.
        </p>

        <div class="space-y-2">
          <div class="flex items-center gap-2 flex-wrap text-gray-700 dark:text-gray-200">
            <span class="font-bold">€ 1 =</span>
            <span class="font-bold text-cyan-600 dark:text-cyan-400">€ 0,50</span>
            <span>+</span>
            <input type="text" data-correct-answer="€ 0,50" class="flex-1 min-w-0 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          </div>
          <div class="flex items-center gap-2 flex-wrap text-gray-700 dark:text-gray-200">
            <span>€ 1 =</span>
            <input type="text" class="flex-1 min-w-0 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          </div>
          <div class="flex items-center gap-2 flex-wrap text-gray-700 dark:text-gray-200">
            <span>€ 1 =</span>
            <input type="text" class="flex-1 min-w-0 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          </div>
        </div>
      </div>

      <!-- Esercizio 3 -->
      <div>
        <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
          <%= imparare_tutti_badge(3) %>
          Componi in tre modi diversi <span class="text-cyan-600 dark:text-cyan-400 font-bold">10 euro</span>.
        </p>

        <div class="space-y-2">
          <div class="flex items-center gap-2 flex-wrap text-gray-700 dark:text-gray-200">
            <span>€ 10 =</span>
            <input type="text" class="flex-1 min-w-0 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          </div>
          <div class="flex items-center gap-2 flex-wrap text-gray-700 dark:text-gray-200">
            <span>€ 10 =</span>
            <input type="text" class="flex-1 min-w-0 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          </div>
          <div class="flex items-center gap-2 flex-wrap text-gray-700 dark:text-gray-200">
            <span>€ 10 =</span>
            <input type="text" class="flex-1 min-w-0 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          </div>
        </div>
      </div>
    </div>

    <!-- Esercizio 4 -->
    <div>
      <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
        <%= numero_esercizio_badge(4) %>
        Colora nello stesso modo le nuvole con valori equivalenti.
      </p>

      <div class="flex justify-center">
        <%= image_tag "nvi4_mat/p228/p228_01.jpg", class: "max-w-full h-auto dark:bg-white dark:rounded-lg dark:p-1" %>
      </div>
    </div>

    <!-- Esercizio 5 -->
    <div>
      <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
        <%= numero_esercizio_badge(5) %>
        In ogni riquadro scrivi il valore della somma di denaro in due modi. Segui l'esempio.
      </p>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
        <!-- Esempio -->
        <div class="p-3 border-2 border-cyan-400 dark:border-cyan-600 rounded-lg">
          <div class="flex justify-center mb-2">
            <%= image_tag "nvi4_mat/p228/output-1715932804228_164_867_205_96.png", class: "h-20 w-auto dark:bg-white dark:rounded-lg dark:p-1" %>
          </div>
          <p class="text-center font-bold text-cyan-600 dark:text-cyan-400">2 euro e 15 centesimi</p>
          <p class="text-center font-bold text-cyan-600 dark:text-cyan-400">€ 2,15</p>
        </div>

        <!-- Riquadro 2: 10+10+5+0,50+0,20+0,20 = 25,90 -->
        <div class="p-3 border-2 border-cyan-400 dark:border-cyan-600 rounded-lg">
          <div class="flex justify-center mb-2">
            <%= image_tag "nvi4_mat/p228/output-1715932804228_453_863_209_114.png", class: "h-20 w-auto dark:bg-white dark:rounded-lg dark:p-1" %>
          </div>
          <input type="text" data-correct-answer="25 euro e 90 centesimi" class="w-full border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white mb-2">
          <input type="text" data-correct-answer="€ 25,90" class="w-full border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
        </div>

        <!-- Riquadro 3: 10+10+10+0,50+0,50+0,20 = 31,20 -->
        <div class="p-3 border-2 border-cyan-400 dark:border-cyan-600 rounded-lg">
          <div class="flex justify-center mb-2">
            <%= image_tag "nvi4_mat/p228/output-1715932804228_739_863_216_118.png", class: "h-20 w-auto dark:bg-white dark:rounded-lg dark:p-1" %>
          </div>
          <input type="text" data-correct-answer="31 euro e 20 centesimi" class="w-full border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white mb-2">
          <input type="text" data-correct-answer="€ 31,20" class="w-full border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
        </div>
      </div>
    </div>

    <!-- Esercizio 6 -->
    <div>
      <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
        <%= numero_esercizio_badge(6) %>
        Collega come nell'esempio.
      </p>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <!-- € 6 -->
        <div class="space-y-2">
          <p class="text-center text-gray-700 dark:text-gray-200 font-bold">€ 6</p>
          <div class="space-y-1">
            <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 p-2 rounded text-gray-700 dark:text-gray-200">
              <input type="checkbox" class="w-4 h-4" data-correct-answer="false">
              <span>6 centesimi</span>
            </label>
            <label class="flex items-center gap-2 cursor-pointer bg-cyan-50 dark:bg-cyan-900/40 p-2 rounded text-gray-700 dark:text-gray-200">
              <input type="checkbox" class="w-4 h-4" checked disabled>
              <span class="font-bold text-cyan-600 dark:text-cyan-400">600 centesimi</span>
            </label>
          </div>
        </div>

        <!-- € 0,85 -->
        <div class="space-y-2">
          <p class="text-center text-gray-700 dark:text-gray-200 font-bold">€ 0,85</p>
          <div class="space-y-1">
            <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 p-2 rounded text-gray-700 dark:text-gray-200">
              <input type="checkbox" class="w-4 h-4" data-correct-answer="false">
              <span>8,50 centesimi</span>
            </label>
            <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 p-2 rounded text-gray-700 dark:text-gray-200">
              <input type="checkbox" class="w-4 h-4" data-correct-answer="true">
              <span>85 centesimi</span>
            </label>
          </div>
        </div>

        <!-- € 0,07 -->
        <div class="space-y-2">
          <p class="text-center text-gray-700 dark:text-gray-200 font-bold">€ 0,07</p>
          <div class="space-y-1">
            <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 p-2 rounded text-gray-700 dark:text-gray-200">
              <input type="checkbox" class="w-4 h-4" data-correct-answer="true">
              <span>7 centesimi</span>
            </label>
            <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 p-2 rounded text-gray-700 dark:text-gray-200">
              <input type="checkbox" class="w-4 h-4" data-correct-answer="false">
              <span>70 centesimi</span>
            </label>
          </div>
        </div>
      </div>
    </div>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
