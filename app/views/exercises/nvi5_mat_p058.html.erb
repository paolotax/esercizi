<div class="max-w-6xl mx-auto p-3 md:p-6"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <!-- Header -->
  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">
    <!-- Introduzione -->
    <div class="p-4 md:p-6">
      <p class="text-gray-700 mb-4">
        Solitamente, quando lavoriamo con le frazioni, partiamo da un intero, lo frazioniamo e consideriamo
        un certo numero di parti uguali.
      </p>
      <p class="text-gray-800 font-semibold">
        È però possibile anche fare l'operazione inversa, cioè <strong class="text-blue-700">ricostruire l'intero a partire dalle parti</strong>.
      </p>
    </div>

    <!-- Problema iniziale -->
    <div class="p-4 md:p-6 bg-white border-3 border-blue-500 rounded-3xl">
      <p class="text-gray-700 mb-4">
        La maestra ha dato a Elena, Walter e Ilaria una tessera quadrata uguale. Ha detto che la tessera corrisponde
        a <span class="inline-flex flex-col items-center mx-1 font-bold text-cyan-500 align-middle"><span>1</span><span class="border-t-2 border-gray-700 px-2">4</span></span> di una figura più grande, dalla quale sono state tagliate. Ha chiesto a ognuno di ricostruire l'intero.
      </p>

      <h3 class="font-bold text-cyan-700 mb-4"><span class="text-pink-600">&#8226;</span> Osserva il lavoro fatto da Elena, da Walter e da Ilaria.</h3>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
        <!-- Elena -->
        <div class="p-4 bg-blue-50 rounded-lg text-center">
          <h4 class="font-bold text-blue-600 mb-3">Elena</h4>
          <%= image_tag "nvi5_mat/p058/p058_elena.png", alt: "Lavoro di Elena", class: "max-w-full mx-auto" %>
        </div>
        <!-- Walter -->
        <div class="p-4 bg-green-50 rounded-lg text-center">
          <h4 class="font-bold text-green-600 mb-3">Walter</h4>
          <%= image_tag "nvi5_mat/p058/p058_walter.png", alt: "Lavoro di Walter", class: "max-w-full mx-auto" %>
        </div>
        <!-- Ilaria -->
        <div class="p-4 bg-yellow-50 rounded-lg text-center">
          <h4 class="font-bold text-yellow-600 mb-3">Ilaria</h4>
          <%= image_tag "nvi5_mat/p058/p058_ilaria.png", alt: "Lavoro di Ilaria", class: "max-w-full mx-auto" %>
        </div>
      </div>

      <div class="p-4 bg-pink-50 rounded-lg">
        <p class="text-gray-800">
          Ciascuno di loro ha ricostruito l'intero in modo diverso: ognuna è una possibile ricostruzione dell'intero.
        </p>
      </div>
    </div>

    <!-- Esercizio 1 - Rettangolo -->
    <div class="p-4 md:p-6 bg-white border-3 border-green-500 rounded-3xl">
      <p class="text-gray-700 mb-4">
        Il rettangolo che vedi corrisponde a
        <span class="inline-flex flex-col items-center mx-1 font-bold text-cyan-500 align-middle">
          <span>1</span>
          <span class="border-t-2 border-gray-700 px-2">3</span>
        </span>
        di una figura più grande.
      </p>

      <div class="p-4 mb-4 flex justify-center">
        <%= image_tag "nvi5_mat/p058/p058_rettangolo.png", alt: "Rettangolo", class: "max-w-xs" %>
      </div>

      <h3 class="font-bold text-green-700 mb-4"><span class="text-pink-600">&#8226;</span> Qual è l'intero? Disegnalo.</h3>

      <div class="p-4 mb-4 flex justify-center">
        <%= image_tag "nvi5_mat/p058/p058_griglia1.png", alt: "Griglia per disegnare", class: "max-w-md" %>
      </div>

      <div class="p-4 bg-green-50 rounded-lg">
        <p class="text-gray-700">
          Confronta il tuo lavoro con quello dei compagni e delle compagne. Avete disegnato tutti la stessa
          figura? Ognuna è una possibile ricostruzione dell'intero? Verificalo.
        </p>
      </div>
    </div>

    <!-- Esercizio 2 - Triangolo -->
    <div class="p-4 md:p-6 bg-white border-3 border-yellow-500 rounded-3xl">
      <p class="text-gray-700 mb-4">
        Il triangolo che vedi corrisponde a
        <span class="inline-flex flex-col items-center mx-1 font-bold text-cyan-500 align-middle">
          <span>1</span>
          <span class="border-t-2 border-gray-700 px-2">4</span>
        </span>
        di una figura più grande.
      </p>

      <div class="p-4 mb-4 flex justify-center">
        <%= image_tag "nvi5_mat/p058/p058_triangolo.png", alt: "Triangolo", class: "max-w-xs" %>
      </div>

      <h3 class="font-bold text-yellow-700 mb-4"><span class="text-pink-600">&#8226;</span> Qual è l'intero? Disegnalo.</h3>

      <div class="p-4 mb-4 flex justify-center">
        <%= image_tag "nvi5_mat/p058/p058_griglia2.png", alt: "Griglia per disegnare", class: "max-w-md" %>
      </div>

      <div class="p-4 bg-yellow-50 rounded-lg">
        <p class="text-gray-700">
          Confronta il tuo lavoro con quello dei compagni e delle compagne. Avete disegnato tutti la stessa
          figura? Ognuna è una possibile ricostruzione dell'intero? Verificalo.
        </p>
      </div>
    </div>

    <!-- Conclusione -->
    <div class="p-4 md:p-6 bg-cyan-50 border-3 border-cyan-500 rounded-3xl">
      <p class="font-bold text-blue-600">
        <span class="text-blue-600">&#9654;</span> In tutti questi casi hai ricostruito l'intero a partire dall'unità frazionaria.
      </p>
    </div>

    <!-- Exercise Controls -->
    <%= render 'shared/exercise_controls', color: 'blue' %>
  </div>
</div>
