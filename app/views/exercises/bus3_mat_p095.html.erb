<% content_for :titolo, "#{@pagina.titolo} - #{@pagina.numero}" %>

<div class="max-w-7xl mx-auto p-3 md:p-6 bg-white font-mono text-base lg:text-lg xl:text-xl"
     data-controller="exercise-checker page-viewer text-toggle font-controls"
     data-page-viewer-image-url-value="<%= asset_path('bus3_mat/p095/page.png') %>"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <!-- Header -->
  <%= render 'shared/page_header', pagina: @pagina %>

  <!-- Esercizio 2 -->
  <div class="mb-8" data-controller="fill-blanks auto-advance">
    <div class="flex items-start gap-3 mb-4">
      <div class="bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">
        2
      </div>
      <p class="text-gray-700">
        <strong>Usa lo strumento che hai costruito e confronta l'ampiezza di questi due angoli con quella dell'angolo retto. Poi completa con:</strong> maggiore â€¢ minore.
      </p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6 mb-6">
      <!-- Angolo acuto -->
      <div class="bg-white border-2 border-dashed border-cyan-400 rounded-lg p-4 text-center">
        <%= image_tag "bus3_mat/p095/output-1743504902095_186_225_208_189.png", alt: "Angolo acuto", class: "mx-auto mb-3 max-h-40" %>
        <p class="mb-2">L'angolo ha un'ampiezza
          <input type="text" data-fill-blanks-target="input" data-correct-answer="minore"
                 class="w-24 px-2 py-1 border-b-2 border-dotted border-gray-400 text-center">
          dell'angolo retto.</p>
        <p>Ãˆ un angolo <span class="text-cyan-600 font-bold">acuto</span>.</p>
      </div>

      <!-- Angolo ottuso -->
      <div class="bg-white border-2 border-dashed border-cyan-400 rounded-lg p-4 text-center">
        <%= image_tag "bus3_mat/p095/output-1743504902095_617_225_233_191.png", alt: "Angolo ottuso", class: "mx-auto mb-3 max-h-40" %>
        <p class="mb-2">L'angolo ha un'ampiezza
          <input type="text" data-fill-blanks-target="input" data-correct-answer="maggiore"
                 class="w-24 px-2 py-1 border-b-2 border-dotted border-gray-400 text-center">
          dell'angolo retto.</p>
        <p>Ãˆ un angolo <span class="text-cyan-600 font-bold">ottuso</span>.</p>
      </div>
    </div>
  </div>

  <!-- Esercizio 3 -->
  <div class="mb-8" data-controller="fill-blanks auto-advance">
    <div class="flex items-start gap-3 mb-4">
      <div class="bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">
        3
      </div>
      <p class="text-gray-700">
        <strong>Scrivi il nome di ciascun angolo.</strong>
      </p>
    </div>

    <div class="flex justify-center mb-4">
      <%= image_tag "bus3_mat/p095/output-1743504902095_114_606_873_120.png", alt: "Angoli diversi", class: "max-w-full" %>
    </div>

    <div class="grid grid-cols-3 sm:grid-cols-5 gap-2 md:gap-4 text-center">
      <div class="space-y-2">
        <input type="text" data-fill-blanks-target="input" data-correct-answer="retto"
               class="w-full px-2 py-1 border-b-2 border-dotted border-gray-400 text-center text-sm">
      </div>
      <div class="space-y-2">
        <input type="text" data-fill-blanks-target="input" data-correct-answer="acuto"
               class="w-full px-2 py-1 border-b-2 border-dotted border-gray-400 text-center text-sm">
      </div>
      <div class="space-y-2">
        <input type="text" data-fill-blanks-target="input" data-correct-answer="piatto"
               class="w-full px-2 py-1 border-b-2 border-dotted border-gray-400 text-center text-sm">
      </div>
      <div class="space-y-2">
        <input type="text" data-fill-blanks-target="input" data-correct-answer="ottuso"
               class="w-full px-2 py-1 border-b-2 border-dotted border-gray-400 text-center text-sm">
      </div>
      <div class="space-y-2">
        <input type="text" data-fill-blanks-target="input" data-correct-answer="giro"
               class="w-full px-2 py-1 border-b-2 border-dotted border-gray-400 text-center text-sm">
      </div>
    </div>
  </div>

  <!-- MateVIVA -->
  <div class="bg-white border-4 border-green-400 rounded-2xl p-4 md:p-6 mb-8" data-controller="fill-blanks auto-advance">
    <div class="flex items-center gap-2 mb-4">
      <span class="bg-blue-600 text-white px-3 py-1 rounded font-bold text-sm">mate VIVA</span>
      <span class="font-bold text-cyan-700 text-lg md:text-xl">ANGOLI CON LE BRACCIA</span>
    </div>

    <p class="mb-4"><strong>ðŸ”´ Metti anche tu le braccia come le bambine e il bambino qui sotto. Quali angoli formi? Scrivi i nomi giusti.</strong></p>

    <div class="flex justify-center mb-4">
      <%= image_tag "bus3_mat/p095/output-1743504902095_146_929_784_207.png", alt: "Bambini con braccia angolate", class: "max-w-full" %>
    </div>

    <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 text-center">
      <div class="flex justify-center">
        <input type="text" data-fill-blanks-target="input" data-correct-answer="piatto"
               class="w-full max-w-[180px] px-3 py-2 border-4 border-cyan-400 rounded-lg text-center bg-transparent">
      </div>
      <div class="flex justify-center">
        <input type="text" data-fill-blanks-target="input" data-correct-answer="retto"
               class="w-full max-w-[180px] px-3 py-2 border-4 border-cyan-400 rounded-lg text-center bg-transparent">
      </div>
      <div class="flex justify-center">
        <input type="text" data-fill-blanks-target="input" data-correct-answer="acuto"
               class="w-full max-w-[180px] px-3 py-2 border-4 border-cyan-400 rounded-lg text-center bg-transparent">
      </div>
    </div>
  </div>

  <!-- Footer con controlli -->
  <%= render 'shared/exercise_controls' %>
</div>
