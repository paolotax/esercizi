<div class="max-w-6xl mx-auto bg-white dark:bg-gray-900 p-3 md:p-6 transition-colors duration-300"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">

    <!-- Titolo sezione -->
    <h2 class="font-bold italic text-<%= @pagina.base_color %>-600 dark:text-<%= @pagina.base_color %>-400">STATISTICA, RELAZIONI, LOGICA</h2>

    <!-- Container ESERCIZI -->
    <div class="p-4 md:p-6 bg-orange-100 dark:bg-orange-900/30 rounded-2xl space-y-8">

      <!-- Esercizio 1 - IMPARARE TUTTI -->
      <div class="p-4 bg-white dark:bg-gray-800 rounded-2xl -mx-4 md:-mx-6 -mt-4 md:-mt-6 mb-6 border-3 border-blue-500">
        <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
          <%= imparare_tutti_badge(1) %>
          Osserva la tabella, poi cerchia di rosso il cibo con più preferenze, di blu quello con meno preferenze.
        </p>

        <div class="overflow-x-auto">
          <table class="border-2 border-cyan-400 dark:border-cyan-600">
            <thead>
              <tr>
                <th class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-cyan-100 dark:bg-cyan-900/40 text-gray-800 dark:text-gray-200 font-bold text-center">cibo</th>
                <th class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-cyan-100 dark:bg-cyan-900/40 text-gray-800 dark:text-gray-200 font-bold text-center">n. bambini</th>
              </tr>
            </thead>
            <tbody class="text-gray-700 dark:text-gray-200">
              <tr>
                <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center">zuppa di verdura</td>
                <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center">5</td>
              </tr>
              <tr>
                <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center">risotto al pomodoro</td>
                <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center">4</td>
              </tr>
              <tr>
                <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center">pasta al pesto</td>
                <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center">6</td>
              </tr>
              <tr>
                <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center font-bold text-red-600 dark:text-red-400">polpette fritte</td>
                <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center font-bold">10</td>
              </tr>
              <tr>
                <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center">bastoncini di pesce</td>
                <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center">8</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="mt-4 flex flex-col md:flex-row gap-4 text-gray-700 dark:text-gray-200">
          <div class="flex items-center gap-2">
            <span>Più preferenze (rosso):</span>
            <input type="text" data-correct-answer="polpette fritte" class="w-40 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          </div>
          <div class="flex items-center gap-2">
            <span>Meno preferenze (blu):</span>
            <input type="text" data-correct-answer="risotto al pomodoro" class="w-40 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          </div>
        </div>
      </div>

      <!-- Esercizio 2 - Grafico giochi -->
      <div>
        <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
          <%= numero_esercizio_badge(2) %>
          Osserva il grafico dei giochi preferiti e completa le frasi.
        </p>

        <div class="flex justify-center mb-4">
          <%= image_tag "nvi4_mat/p159/p159_01.jpg", class: "h-auto dark:bg-white dark:rounded-lg dark:p-2 max-w-full", alt: "Grafico giochi preferiti" %>
        </div>

        <div class="space-y-3 text-gray-700 dark:text-gray-200">
          <div class="flex items-center gap-2 flex-wrap">
            <span>I giochi preferiti sono i</span>
            <input type="text" data-correct-answer="videogiochi" class="w-32 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          </div>
          <div class="flex items-center gap-2 flex-wrap">
            <span>I giochi meno graditi sono i</span>
            <input type="text" data-correct-answer="puzzle" class="w-32 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          </div>
          <div class="flex items-center gap-2 flex-wrap">
            <span>La moda è rappresentata dal numero di</span>
            <input type="text" data-correct-answer="videogiochi" class="w-32 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            <span>, cioè dal numero</span>
            <input type="text" data-correct-answer="12" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          </div>
        </div>
      </div>

      <!-- Esercizio 3 - Relazione -->
      <div>
        <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
          <%= numero_esercizio_badge(3) %>
          Qual è la relazione indicata dalla freccia?
        </p>

        <div class="flex justify-center mb-4">
          <%= image_tag "nvi4_mat/p159/p159_02.jpg", class: "h-auto dark:bg-white dark:rounded-lg dark:p-2 max-w-full", alt: "Diagramma relazione" %>
        </div>

        <div class="flex items-center gap-2 text-gray-700 dark:text-gray-200">
          <span>La relazione è:</span>
          <input type="text" data-correct-answer="va al lavoro con" class="w-48 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
        </div>
      </div>

      <!-- Esercizio 4 - Tabella trasporti -->
      <div>
        <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
          <%= numero_esercizio_badge(4) %>
          Osserva la tabella che rappresenta come si reca al lavoro ciascuna delle persone indicate e rispondi.
        </p>

        <div class="overflow-x-auto mb-4">
          <table class="border-2 border-cyan-400 dark:border-cyan-600">
            <thead>
              <tr>
                <th class="p-2 border-2 border-cyan-400 dark:border-cyan-600 border-t-transparent border-l-transparent dark:border-t-transparent dark:border-l-transparent"></th>
                <th class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700">
                  <%= image_tag "nvi4_mat/p159/output-1715932804159_596_261_82_104.png", class: "h-16 mx-auto dark:bg-white dark:rounded", alt: "auto" %>
                </th>
                <th class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700">
                  <%= image_tag "nvi4_mat/p159/output-1715932804159_681_261_82_104.png", class: "h-16 mx-auto dark:bg-white dark:rounded", alt: "bici" %>
                </th>
                <th class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700">
                  <%= image_tag "nvi4_mat/p159/output-1715932804159_766_261_82_104.png", class: "h-16 mx-auto dark:bg-white dark:rounded", alt: "autobus" %>
                </th>
                <th class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700">
                  <%= image_tag "nvi4_mat/p159/output-1715932804159_851_261_82_104.png", class: "h-16 mx-auto dark:bg-white dark:rounded", alt: "treno" %>
                </th>
              </tr>
            </thead>
            <tbody class="text-gray-700 dark:text-gray-200">
              <tr>
                <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center font-bold">Ugo</td>
                <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center font-bold">X</td>
                <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center"></td>
                <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center"></td>
                <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center"></td>
              </tr>
              <tr>
                <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center font-bold">Lia</td>
                <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center"></td>
                <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center"></td>
                <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center font-bold">X</td>
                <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center"></td>
              </tr>
              <tr>
                <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center font-bold">Leo</td>
                <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center"></td>
                <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center font-bold">X</td>
                <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center"></td>
                <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center"></td>
              </tr>
              <tr>
                <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center font-bold">Piera</td>
                <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center"></td>
                <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center"></td>
                <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center"></td>
                <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center font-bold">X</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="space-y-3 text-gray-700 dark:text-gray-200">
          <div class="flex items-center gap-2 flex-wrap">
            <span>Chi si reca al lavoro in auto?</span>
            <input type="text" data-correct-answer="Ugo" class="w-24 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          </div>
          <div class="flex items-center gap-2 flex-wrap">
            <span>Quale mezzo utilizza Leo?</span>
            <input type="text" data-correct-answer="bici" class="w-24 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          </div>
          <div class="flex items-center gap-2 flex-wrap">
            <span>Chi va a lavorare in autobus?</span>
            <input type="text" data-correct-answer="Lia" class="w-24 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          </div>
          <div class="flex items-center gap-2 flex-wrap">
            <span>Quale mezzo utilizza Ugo?</span>
            <input type="text" data-correct-answer="auto" class="w-24 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          </div>
        </div>
      </div>

      <!-- Esercizio 5 - Enunciati logici -->
      <div>
        <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
          <%= numero_esercizio_badge(5) %>
          Segna con una X gli enunciati logici.
        </p>

        <div class="space-y-2 text-gray-700 dark:text-gray-200">
          <label class="flex items-center gap-2 cursor-pointer">
            <input type="checkbox" class="w-5 h-5">
            <span>Il presentatore è molto bravo.</span>
          </label>
          <label class="flex items-center gap-2 cursor-pointer">
            <input type="checkbox" class="w-5 h-5" data-correct-answer="true">
            <span>Lo zero non è un numero.</span>
          </label>
          <label class="flex items-center gap-2 cursor-pointer">
            <input type="checkbox" class="w-5 h-5" data-correct-answer="true">
            <span>Il quadrato è un quadrilatero.</span>
          </label>
          <label class="flex items-center gap-2 cursor-pointer">
            <input type="checkbox" class="w-5 h-5" data-correct-answer="true">
            <span>7 è un numero pari.</span>
          </label>
          <label class="flex items-center gap-2 cursor-pointer">
            <input type="checkbox" class="w-5 h-5">
            <span>L'inverno è una stagione triste.</span>
          </label>
          <label class="flex items-center gap-2 cursor-pointer">
            <input type="checkbox" class="w-5 h-5" data-correct-answer="true">
            <span>L'angolo retto ha un'ampiezza di 90°.</span>
          </label>
          <label class="flex items-center gap-2 cursor-pointer">
            <input type="checkbox" class="w-5 h-5" data-correct-answer="true">
            <span>L'acqua non è inodore.</span>
          </label>
        </div>
      </div>

      <!-- Esercizio 6 - Vero/Falso -->
      <div>
        <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
          <%= numero_esercizio_badge(6) %>
          Indica con una X se ciascuno dei seguenti enunciati logici è vero (V) o falso (F).
        </p>

        <div class="space-y-3 text-gray-700 dark:text-gray-200">
          <div class="flex items-center gap-4 flex-wrap">
            <span class="flex-1 min-w-48">Cinque è maggiore di sette.</span>
            <div class="flex gap-4">
              <label class="flex items-center gap-1 cursor-pointer">
                <input type="radio" name="vf1" value="V" class="w-5 h-5">
                <span>V</span>
              </label>
              <label class="flex items-center gap-1 cursor-pointer">
                <input type="radio" name="vf1" value="F" class="w-5 h-5" data-correct-answer="true">
                <span>F</span>
              </label>
            </div>
          </div>
          <div class="flex items-center gap-4 flex-wrap">
            <span class="flex-1 min-w-48">Il rettangolo è un parallelogramma.</span>
            <div class="flex gap-4">
              <label class="flex items-center gap-1 cursor-pointer">
                <input type="radio" name="vf2" value="V" class="w-5 h-5" data-correct-answer="true">
                <span>V</span>
              </label>
              <label class="flex items-center gap-1 cursor-pointer">
                <input type="radio" name="vf2" value="F" class="w-5 h-5">
                <span>F</span>
              </label>
            </div>
          </div>
          <div class="flex items-center gap-4 flex-wrap">
            <span class="flex-1 min-w-48">La balena non è un pesce.</span>
            <div class="flex gap-4">
              <label class="flex items-center gap-1 cursor-pointer">
                <input type="radio" name="vf3" value="V" class="w-5 h-5" data-correct-answer="true">
                <span>V</span>
              </label>
              <label class="flex items-center gap-1 cursor-pointer">
                <input type="radio" name="vf3" value="F" class="w-5 h-5">
                <span>F</span>
              </label>
            </div>
          </div>
          <div class="flex items-center gap-4 flex-wrap">
            <span class="flex-1 min-w-48">Se aggiungo 7 a 0 non ottengo 7.</span>
            <div class="flex gap-4">
              <label class="flex items-center gap-1 cursor-pointer">
                <input type="radio" name="vf4" value="V" class="w-5 h-5">
                <span>V</span>
              </label>
              <label class="flex items-center gap-1 cursor-pointer">
                <input type="radio" name="vf4" value="F" class="w-5 h-5" data-correct-answer="true">
                <span>F</span>
              </label>
            </div>
          </div>
          <div class="flex items-center gap-4 flex-wrap">
            <span class="flex-1 min-w-48">Il numero 9 è dispari e multiplo di 3.</span>
            <div class="flex gap-4">
              <label class="flex items-center gap-1 cursor-pointer">
                <input type="radio" name="vf5" value="V" class="w-5 h-5" data-correct-answer="true">
                <span>V</span>
              </label>
              <label class="flex items-center gap-1 cursor-pointer">
                <input type="radio" name="vf5" value="F" class="w-5 h-5">
                <span>F</span>
              </label>
            </div>
          </div>
          <div class="flex items-center gap-4 flex-wrap">
            <span class="flex-1 min-w-48">L'aquila è un mammifero e ha 2 zampe.</span>
            <div class="flex gap-4">
              <label class="flex items-center gap-1 cursor-pointer">
                <input type="radio" name="vf6" value="V" class="w-5 h-5">
                <span>V</span>
              </label>
              <label class="flex items-center gap-1 cursor-pointer">
                <input type="radio" name="vf6" value="F" class="w-5 h-5" data-correct-answer="true">
                <span>F</span>
              </label>
            </div>
          </div>
        </div>
      </div>

    </div>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
