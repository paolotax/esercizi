<div class="max-w-6xl mx-auto bg-white dark:bg-gray-900 p-3 md:p-6 transition-colors duration-300"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">

    <!-- Intestazione MODELLO INVALSI -->
    <div class="text-center mb-6">
      <div class="inline-block bg-pink-500 text-white px-6 py-2 rounded-lg font-bold mb-4">
        MODELLO INVALSI
      </div>
      <h2 class="font-bold text-pink-600 dark:text-pink-400">MISURA</h2>
    </div>

    <!-- Istruzioni -->
    <p class="text-gray-700 dark:text-gray-200 mb-6">
      Segna con una <strong class="text-pink-600 dark:text-pink-400">X</strong> le risposte corrette.
    </p>

    <!-- Container esercizi -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

      <!-- Colonna sinistra -->
      <div class="space-y-6">

        <!-- Esercizio 1 -->
        <div class="p-4 bg-gray-50 dark:bg-gray-800 rounded-2xl">
          <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
            <%= numero_esercizio_badge(1) %>
            A quanti ettometri corrispondono 3460,5 m?
          </p>
          <div class="grid grid-cols-2 gap-3">
            <label class="flex items-center gap-2 p-2 bg-white dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600">
              <input type="checkbox" class="w-5 h-5 accent-pink-500" data-correct-answer="false">
              <span class="text-gray-700 dark:text-gray-200">34 605 hm</span>
            </label>
            <label class="flex items-center gap-2 p-2 bg-white dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600">
              <input type="checkbox" class="w-5 h-5 accent-pink-500" data-correct-answer="true">
              <span class="text-gray-700 dark:text-gray-200">34,605 hm</span>
            </label>
            <label class="flex items-center gap-2 p-2 bg-white dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600">
              <input type="checkbox" class="w-5 h-5 accent-pink-500" data-correct-answer="false">
              <span class="text-gray-700 dark:text-gray-200">3,4605 hm</span>
            </label>
            <label class="flex items-center gap-2 p-2 bg-white dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600">
              <input type="checkbox" class="w-5 h-5 accent-pink-500" data-correct-answer="false">
              <span class="text-gray-700 dark:text-gray-200">346,05 hm</span>
            </label>
          </div>
        </div>

        <!-- Esercizio 2 -->
        <div class="p-4 bg-gray-50 dark:bg-gray-800 rounded-2xl">
          <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
            <%= numero_esercizio_badge(2) %>
            Quale tra le seguenti equivalenze è sbagliata?
          </p>
          <div class="grid grid-cols-2 gap-3">
            <label class="flex items-center gap-2 p-2 bg-white dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600">
              <input type="checkbox" class="w-5 h-5 accent-pink-500" data-correct-answer="false">
              <span class="text-gray-700 dark:text-gray-200">25 m = 2,5 dam</span>
            </label>
            <label class="flex items-center gap-2 p-2 bg-white dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600">
              <input type="checkbox" class="w-5 h-5 accent-pink-500" data-correct-answer="true">
              <span class="text-gray-700 dark:text-gray-200">8 g = 0,08 hg</span>
            </label>
            <label class="flex items-center gap-2 p-2 bg-white dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600">
              <input type="checkbox" class="w-5 h-5 accent-pink-500" data-correct-answer="false">
              <span class="text-gray-700 dark:text-gray-200">5,35 kg = 535 g</span>
            </label>
            <label class="flex items-center gap-2 p-2 bg-white dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600">
              <input type="checkbox" class="w-5 h-5 accent-pink-500" data-correct-answer="false">
              <span class="text-gray-700 dark:text-gray-200">6,5 hℓ = 65 daℓ</span>
            </label>
          </div>
        </div>

        <!-- Esercizio 3 -->
        <div class="p-4 bg-gray-50 dark:bg-gray-800 rounded-2xl">
          <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
            <%= numero_esercizio_badge(3) %>
            Quale tra le seguenti relazioni è corretta?
          </p>
          <div class="grid grid-cols-2 gap-3">
            <label class="flex items-center gap-2 p-2 bg-white dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600">
              <input type="checkbox" class="w-5 h-5 accent-pink-500" data-correct-answer="false">
              <span class="text-gray-700 dark:text-gray-200">3,5 dg > 3,5 dag</span>
            </label>
            <label class="flex items-center gap-2 p-2 bg-white dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600">
              <input type="checkbox" class="w-5 h-5 accent-pink-500" data-correct-answer="true">
              <span class="text-gray-700 dark:text-gray-200">5,8 hℓ < 5,8 daℓ</span>
            </label>
            <label class="flex items-center gap-2 p-2 bg-white dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600">
              <input type="checkbox" class="w-5 h-5 accent-pink-500" data-correct-answer="false">
              <span class="text-gray-700 dark:text-gray-200">27,8 m > 27,8 cm</span>
            </label>
            <label class="flex items-center gap-2 p-2 bg-white dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600">
              <input type="checkbox" class="w-5 h-5 accent-pink-500" data-correct-answer="false">
              <span class="text-gray-700 dark:text-gray-200">0,4 kg < 0,4 dag</span>
            </label>
          </div>
        </div>

        <!-- Esercizio 4 -->
        <div class="p-4 bg-gray-50 dark:bg-gray-800 rounded-2xl">
          <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
            <%= numero_esercizio_badge(4) %>
            Hai a disposizione queste monete.
          </p>
          <div class="flex flex-wrap justify-center gap-2 mb-4">
            <%= image_tag "nvi4_mat/p107/output-1715932804107_143_680_386_96.png", class: "max-w-full h-auto", alt: "Monete: 2€, 50c, 1€, 20c, 10c, 5c, 2c" %>
          </div>
          <p class="text-gray-700 dark:text-gray-200 mb-3">
            <strong>Qual è il numero minimo di monete che puoi usare per avere € 3,57?</strong>
          </p>
          <div class="grid grid-cols-4 gap-3">
            <label class="flex items-center gap-2 p-2 bg-white dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600">
              <input type="checkbox" class="w-5 h-5 accent-pink-500" data-correct-answer="false">
              <span class="text-gray-700 dark:text-gray-200">5</span>
            </label>
            <label class="flex items-center gap-2 p-2 bg-white dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600">
              <input type="checkbox" class="w-5 h-5 accent-pink-500" data-correct-answer="true">
              <span class="text-gray-700 dark:text-gray-200">7</span>
            </label>
            <label class="flex items-center gap-2 p-2 bg-white dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600">
              <input type="checkbox" class="w-5 h-5 accent-pink-500" data-correct-answer="false">
              <span class="text-gray-700 dark:text-gray-200">6</span>
            </label>
            <label class="flex items-center gap-2 p-2 bg-white dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600">
              <input type="checkbox" class="w-5 h-5 accent-pink-500" data-correct-answer="false">
              <span class="text-gray-700 dark:text-gray-200">8</span>
            </label>
          </div>
        </div>

      </div>

      <!-- Colonna destra -->
      <div class="space-y-6">

        <!-- Esercizio 5 -->
        <div class="p-4 bg-gray-50 dark:bg-gray-800 rounded-2xl">
          <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
            <%= numero_esercizio_badge(5) %>
            Su un pacchetto di tè c'è scritto:
          </p>
          <p class="text-gray-700 dark:text-gray-200 italic mb-3">
            <strong>1 bustina = 35 g</strong> &nbsp;&nbsp;&nbsp;&nbsp; <strong>25 filtri</strong>
          </p>
          <p class="text-gray-700 dark:text-gray-200 mb-3">
            Quanti ettogrammi di tè ci sono in quel pacchetto?
          </p>
          <div class="grid grid-cols-4 gap-3">
            <label class="flex items-center gap-2 p-2 bg-white dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600">
              <input type="checkbox" class="w-5 h-5 accent-pink-500" data-correct-answer="false">
              <span class="text-gray-700 dark:text-gray-200">875</span>
            </label>
            <label class="flex items-center gap-2 p-2 bg-white dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600">
              <input type="checkbox" class="w-5 h-5 accent-pink-500" data-correct-answer="false">
              <span class="text-gray-700 dark:text-gray-200">87,5</span>
            </label>
            <label class="flex items-center gap-2 p-2 bg-white dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600">
              <input type="checkbox" class="w-5 h-5 accent-pink-500" data-correct-answer="false">
              <span class="text-gray-700 dark:text-gray-200">8 750</span>
            </label>
            <label class="flex items-center gap-2 p-2 bg-white dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600">
              <input type="checkbox" class="w-5 h-5 accent-pink-500" data-correct-answer="true">
              <span class="text-gray-700 dark:text-gray-200">8,75</span>
            </label>
          </div>
        </div>

        <!-- Esercizio 6 -->
        <div class="p-4 bg-gray-50 dark:bg-gray-800 rounded-2xl">
          <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
            <%= numero_esercizio_badge(6) %>
            Un negoziante acquista una lampada da tavolo a € 58,50 e la rivende con un guadagno di € 23. Quanto ricava?
          </p>
          <div class="grid grid-cols-2 gap-3">
            <label class="flex items-center gap-2 p-2 bg-white dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600">
              <input type="checkbox" class="w-5 h-5 accent-pink-500" data-correct-answer="false">
              <span class="text-gray-700 dark:text-gray-200">€ 35,50</span>
            </label>
            <label class="flex items-center gap-2 p-2 bg-white dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600">
              <input type="checkbox" class="w-5 h-5 accent-pink-500" data-correct-answer="false">
              <span class="text-gray-700 dark:text-gray-200">€ 58,73</span>
            </label>
            <label class="flex items-center gap-2 p-2 bg-white dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600">
              <input type="checkbox" class="w-5 h-5 accent-pink-500" data-correct-answer="false">
              <span class="text-gray-700 dark:text-gray-200">€ 78,50</span>
            </label>
            <label class="flex items-center gap-2 p-2 bg-white dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600">
              <input type="checkbox" class="w-5 h-5 accent-pink-500" data-correct-answer="true">
              <span class="text-gray-700 dark:text-gray-200">€ 81,50</span>
            </label>
          </div>
        </div>

        <!-- Esercizio 7 -->
        <div class="p-4 bg-gray-50 dark:bg-gray-800 rounded-2xl">
          <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
            <%= numero_esercizio_badge(7) %>
            Il proprietario di un negozio di abbigliamento ha rivenduto a € 48,50 dei maglioni che aveva pagato € 30,80.
          </p>
          <p class="text-gray-700 dark:text-gray-200 mb-3">
            Qual è stato il suo guadagno?<br>
            <strong>Quale fra le seguenti operazioni risolve il problema?</strong>
          </p>
          <div class="grid grid-cols-2 gap-3">
            <label class="flex items-center gap-2 p-2 bg-white dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600">
              <input type="checkbox" class="w-5 h-5 accent-pink-500" data-correct-answer="true">
              <span class="text-gray-700 dark:text-gray-200">Ricavo – Spesa</span>
            </label>
            <label class="flex items-center gap-2 p-2 bg-white dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600">
              <input type="checkbox" class="w-5 h-5 accent-pink-500" data-correct-answer="false">
              <span class="text-gray-700 dark:text-gray-200">Spesa – Guadagno</span>
            </label>
            <label class="flex items-center gap-2 p-2 bg-white dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600">
              <input type="checkbox" class="w-5 h-5 accent-pink-500" data-correct-answer="false">
              <span class="text-gray-700 dark:text-gray-200">Spesa – Ricavo</span>
            </label>
            <label class="flex items-center gap-2 p-2 bg-white dark:bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600">
              <input type="checkbox" class="w-5 h-5 accent-pink-500" data-correct-answer="false">
              <span class="text-gray-700 dark:text-gray-200">Ricavo + Spesa</span>
            </label>
          </div>
        </div>

        <!-- Esercizio 8 -->
        <div class="p-4 bg-gray-50 dark:bg-gray-800 rounded-2xl">
          <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
            <%= numero_esercizio_badge(8) %>
            Qui sono rappresentati quattro recipienti.
          </p>
          <p class="text-gray-700 dark:text-gray-200 mb-3">
            Le quattro etichette che seguono indicano la quantità massima di liquido che può contenere ciascuno dei recipienti raffigurati.
          </p>
          <p class="text-gray-700 dark:text-gray-200 mb-3">
            <strong>Indica per ciascuna etichetta il recipiente corrispondente.</strong>
          </p>

          <!-- Recipienti -->
          <div class="grid grid-cols-4 gap-2 mb-4">
            <div class="text-center">
              <%= image_tag "nvi4_mat/p107/output-1715932804107_466_982_57_72.png", class: "max-w-full h-16 mx-auto mb-1", alt: "Bicchiere" %>
              <p class="text-cyan-600 dark:text-cyan-400 font-bold">A</p>
              <p class="text-gray-600 dark:text-gray-400">bicchiere</p>
            </div>
            <div class="text-center">
              <%= image_tag "nvi4_mat/p107/output-1715932804107_596_943_73_116.png", class: "max-w-full h-16 mx-auto mb-1", alt: "Bottiglia" %>
              <p class="text-cyan-600 dark:text-cyan-400 font-bold">B</p>
              <p class="text-gray-600 dark:text-gray-400">bottiglia</p>
            </div>
            <div class="text-center">
              <%= image_tag "nvi4_mat/p107/output-1715932804107_727_938_90_121.png", class: "max-w-full h-16 mx-auto mb-1", alt: "Damigiana" %>
              <p class="text-cyan-600 dark:text-cyan-400 font-bold">C</p>
              <p class="text-gray-600 dark:text-gray-400">damigiana</p>
            </div>
            <div class="text-center">
              <%= image_tag "nvi4_mat/p107/output-1715932804107_838_915_154_139.png", class: "max-w-full h-16 mx-auto mb-1", alt: "Botte" %>
              <p class="text-cyan-600 dark:text-cyan-400 font-bold">D</p>
              <p class="text-gray-600 dark:text-gray-400">botte</p>
            </div>
          </div>

          <!-- Etichette con select -->
          <div class="grid grid-cols-2 gap-3">
            <div class="flex items-center gap-2 p-2 bg-white dark:bg-gray-700 rounded-lg">
              <select data-correct-answer="D" class="w-16 border-2 border-gray-300 dark:border-gray-500 rounded px-2 py-1 bg-white dark:bg-gray-600 text-gray-700 dark:text-gray-200">
                <option value="">...</option>
                <option value="A">A</option>
                <option value="B">B</option>
                <option value="C">C</option>
                <option value="D">D</option>
              </select>
              <span class="text-gray-700 dark:text-gray-200">45 ℓ</span>
            </div>
            <div class="flex items-center gap-2 p-2 bg-white dark:bg-gray-700 rounded-lg">
              <select data-correct-answer="A" class="w-16 border-2 border-gray-300 dark:border-gray-500 rounded px-2 py-1 bg-white dark:bg-gray-600 text-gray-700 dark:text-gray-200">
                <option value="">...</option>
                <option value="A">A</option>
                <option value="B">B</option>
                <option value="C">C</option>
                <option value="D">D</option>
              </select>
              <span class="text-gray-700 dark:text-gray-200">13 cℓ</span>
            </div>
            <div class="flex items-center gap-2 p-2 bg-white dark:bg-gray-700 rounded-lg">
              <select data-correct-answer="C" class="w-16 border-2 border-gray-300 dark:border-gray-500 rounded px-2 py-1 bg-white dark:bg-gray-600 text-gray-700 dark:text-gray-200">
                <option value="">...</option>
                <option value="A">A</option>
                <option value="B">B</option>
                <option value="C">C</option>
                <option value="D">D</option>
              </select>
              <span class="text-gray-700 dark:text-gray-200">4,25 hℓ</span>
            </div>
            <div class="flex items-center gap-2 p-2 bg-white dark:bg-gray-700 rounded-lg">
              <select data-correct-answer="B" class="w-16 border-2 border-gray-300 dark:border-gray-500 rounded px-2 py-1 bg-white dark:bg-gray-600 text-gray-700 dark:text-gray-200">
                <option value="">...</option>
                <option value="A">A</option>
                <option value="B">B</option>
                <option value="C">C</option>
                <option value="D">D</option>
              </select>
              <span class="text-gray-700 dark:text-gray-200">22 dℓ</span>
            </div>
          </div>
        </div>

      </div>

    </div>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
