<div class="max-w-6xl mx-auto bg-white p-3 md:p-6"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">

    <!-- Esempio con bottiglia -->
    <div class="p-4 md:p-6">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <div class="p-3 bg-custom-blue-light mb-4">
            <p class="text-gray-700">
              Al supermercato una confezione di 6 bottiglie di aranciata costa 12 euro. Quanto costa ciascuna bottiglia?
            </p>
          </div>

          <!-- Diagramma -->
          <div class="flex justify-center">
            <%= render 'shared/operazioni_inverse',
                left: 12, right: nil, right_answer: "2",
                op_direct: ":", op_direct_num: 6,
                op_inverse: "×", op_inverse_num: 6 %>
          </div>
        </div>

        <div class="flex flex-col justify-end">
          <div class="p-3">
            <p class="text-gray-700 font-bold">12 : 6 = 2</p>
            <p class="text-gray-700">Ogni bottiglia costa 2 euro.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Esempio con figurine -->
    <div class="p-4 md:p-6">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <div class="p-3 bg-custom-blue-light mb-4">
            <p class="text-gray-700">
              Luca ha regalato a Giulio la metà delle sue figurine. Ora Luca ha 18 figurine. Quante figurine aveva prima Luca?
            </p>
          </div>

          <!-- Diagramma -->
          <div class="flex justify-center">
            <%= render 'shared/operazioni_inverse',
                left: nil, left_answer: "36", right: 18,
                op_direct: ":", op_direct_num: 2,
                op_inverse: "×", op_inverse_num: 2 %>
          </div>
        </div>

        <div class="flex flex-col justify-end">
          <div class="p-3">
            <p class="text-gray-700 font-bold">18 × 2 = 36</p>
            <p class="text-gray-700">Luca aveva 36 figurine.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- ESERCIZI -->
    <div class="p-4 md:p-6 bg-orange-100 rounded-2xl">

      <p class="font-bold text-gray-700 mb-6">
        Risolvi i problemi proposti. Traduci nel linguaggio matematico e usa le frecce quando ti servono.
      </p>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 md:divide-x-2 md:divide-orange-300">

        <!-- Colonna sinistra -->
        <div class="md:pr-4 space-y-6">

          <!-- Problema 1 -->
          <div>
            <p class="text-gray-700 mb-2">
              <%= numero_esercizio_badge(1) %>
              Filippo esce di casa con le sue figurine. Dopo aver giocato con gli amici, la quantità di figurine è triplicata e ora ne ha 48. Quante figurine aveva quando è uscito di casa?
            </p>
            <div class="flex items-center justify-end gap-2">
              <input type="text" data-correct-answer="16" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
              <span class="shrink-0">figurine</span>
            </div>
          </div>

          <!-- Problema 2 -->
          <div>
            <p class="text-gray-700 mb-2">
              <%= numero_esercizio_badge(2) %>
              Alice ha il doppio degli anni di sua cugina Luisa. Luisa ha 12 anni; quanti anni ha Alice?
            </p>
            <div class="flex items-center justify-end gap-2">
              <input type="text" data-correct-answer="24" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
              <span class="shrink-0">anni</span>
            </div>
          </div>

          <!-- Problema 3 -->
          <div>
            <p class="text-gray-700 mb-2">
              <%= numero_esercizio_badge(3) %>
              Chiara esce per fare acquisti e spende la metà di quanto ha nel portafoglio. Quando rientra, nel portafoglio ci sono 18 euro. Quanti euro c'erano quando è uscita di casa?
            </p>
            <div class="flex items-center justify-end gap-2">
              <input type="text" data-correct-answer="36" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
              <span class="shrink-0">euro</span>
            </div>
          </div>

          <!-- Problema 4 -->
          <div>
            <p class="text-gray-700 mb-2">
              <%= numero_esercizio_badge(4) %>
              Luca ha comprato 145 buste confezionate in pacchi da 5 buste ciascuno. Quanti pacchi ha comprato?
            </p>
            <div class="flex items-center justify-end gap-2">
              <input type="text" data-correct-answer="29" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
              <span class="shrink-0">pacchi</span>
            </div>
          </div>

          <!-- Problema 5 -->
          <div>
            <p class="text-gray-700 mb-2">
              <%= numero_esercizio_badge(5) %>
              Pietro ha giocato due partite a biglie. Alla prima partita ha vinto e ha quadruplicato le sue biglie; alla seconda partita ha perso la metà delle biglie. Ora ha 42 biglie. Quante ne aveva all'inizio?
            </p>
            <div class="flex items-center justify-end gap-2">
              <input type="text" data-correct-answer="21" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
              <span class="shrink-0">biglie</span>
            </div>
          </div>

        </div>

        <!-- Colonna destra -->
        <div class="md:pl-4 space-y-6">

          <!-- Problema 6 -->
          <div>
            <p class="text-gray-700 mb-2">
              <%= numero_esercizio_badge(6) %>
              Matilde sta costruendo dei braccialetti con le 100 perline che ha a disposizione. Per ogni braccialetto usa 12 perline. Le avanzano 4 perline. Quanti braccialetti ha costruito?
            </p>
            <div class="flex items-center justify-end gap-2">
              <input type="text" data-correct-answer="8" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
              <span class="shrink-0">braccialetti</span>
            </div>
          </div>

          <!-- Problema 7 -->
          <div>
            <p class="text-gray-700 mb-2">
              <%= numero_esercizio_badge(7) %>
              Carlo vuole mettere in ordine i suoi 180 giornalini. Li mette in scatole tutte uguali dividendoli in gruppi di 12. Quante scatole usa?
            </p>
            <div class="flex items-center justify-end gap-2">
              <input type="text" data-correct-answer="15" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
              <span class="shrink-0">scatole</span>
            </div>
          </div>

          <!-- Problema 8 -->
          <div>
            <p class="text-gray-700 mb-2">
              <%= numero_esercizio_badge(8) %>
              Angelo sta sistemando i suoi libri; ne mette 18 in ognuna delle 15 mensole che ha a disposizione. Dopo aver riempito tutte le mensole resta con due libri in mano. Quanti libri aveva da sistemare?
            </p>
            <div class="flex items-center justify-end gap-2">
              <input type="text" data-correct-answer="272" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
              <span class="shrink-0">libri</span>
            </div>
          </div>

          <!-- Problema 9 -->
          <div>
            <p class="text-gray-700 mb-2">
              <%= numero_esercizio_badge(9) %>
              Nel panificio di piazza Duomo sono stati preparati 18 vassoi con 45 pizzette al pomodoro ciascuno. Dopo due ore restano solamente 14 pizzette in un vassoio. Quante pizzette sono state vendute?
            </p>
            <div class="flex items-center justify-end gap-2">
              <input type="text" data-correct-answer="796" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
              <span class="shrink-0">pizzette</span>
            </div>
          </div>

        </div>

      </div>

    </div>

    <%= render 'shared/quaderno_link', pagine: [194, 195, 196, 197, 198, 199] %>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
