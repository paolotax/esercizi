<div class="max-w-6xl mx-auto p-3 md:p-8 bg-gradient-to-br from-pink-50 via-white to-purple-50 rounded-3xl shadow-xl" data-controller="exercise-checker">

  <!-- Header -->
  <div class="mb-8">
    <div class="flex items-start sm:items-center justify-between gap-4 mb-4">
      <div class="flex flex-col-reverse sm:flex-row items-start sm:items-center gap-2 sm:gap-4">
        <div class="bg-pink-500 text-white text-md sm:text-xl px-2 sm:px-4 py-1.5 sm:py-2 rounded-lg font-bold">
          MORFOLOGIA
        </div>
        <h1 class="text-2xl sm:text-3xl font-bold text-pink-600">Il genere dei nomi (Parte 1)</h1>
      </div>
      <div class="flex-shrink-0 bg-pink-600 text-white rounded-full w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center font-bold text-lg sm:text-xl">
        42
      </div>
    </div>
  </div>

  <!-- Introduction -->
  <div class="mb-6 bg-white rounded-2xl border-4 border-pink-200 shadow-2xl p-4 md:p-6">
    <h2 class="text-lg md:text-xl font-bold text-pink-700 mb-3">A seconda del genere, i nomi si distinguono in:</h2>
    <ul class="space-y-2 text-base md:text-lg text-gray-700">
      <li class="flex items-start gap-2">
        <span class="text-pink-600 font-bold">•</span>
        <span><strong>maschili</strong> → cuoco, avvocato, pittore...</span>
      </li>
      <li class="flex items-start gap-2">
        <span class="text-pink-600 font-bold">•</span>
        <span><strong>femminili</strong> → cuoca, avvocatessa, pittrice...</span>
      </li>
      <li class="flex items-start gap-2">
        <span class="text-pink-600 font-bold">•</span>
        <span><strong>indipendenti</strong>: forme diverse per maschile e femminile → fratello / sorella...</span>
      </li>
    </ul>

    <div class="mt-4 pt-4 border-t-2 border-pink-100">
      <p class="text-base md:text-lg text-gray-700 mb-2 font-semibold">Alcuni nomi hanno la stessa forma al maschile e al femminile:</p>
      <ul class="space-y-2 text-base md:text-lg text-gray-700">
        <li class="flex items-start gap-2">
          <span class="text-purple-600 font-bold">•</span>
          <span><strong>genere comune</strong> (persone) → il cantante / la cantante</span>
        </li>
        <li class="flex items-start gap-2">
          <span class="text-purple-600 font-bold">•</span>
          <span><strong>genere promiscuo</strong> (animali) → la giraffa maschio / la giraffa femmina</span>
        </li>
      </ul>
    </div>
  </div>

  <!-- Exercise 1: Volgi al maschile -->
  <div class="mb-6 bg-white rounded-2xl border-4 border-blue-200 shadow-2xl p-4 md:p-6" data-controller="fill-blanks">
    <div class="mb-4 inline-block bg-gradient-to-r from-pink-500 to-purple-500 text-white px-3 md:px-6 py-2 rounded-full text-xs md:text-sm font-bold shadow-lg">
      1 IMPARARE TUTTI
    </div>
    <h2 class="text-lg md:text-xl font-bold text-blue-700 mb-3">
      Volgi al maschile.
    </h2>

    <% feminine_words = [
      { fem: "alunna", masc: "alunno" },
      { fem: "nonna", masc: "nonno" },
      { fem: "madre", masc: "padre" },
      { fem: "contessa", masc: "conte" },
      { fem: "nuotatrice", masc: "nuotatore" }
    ] %>

    <div class="overflow-x-auto">
      <table class="w-full border-collapse text-base md:text-lg">
        <thead>
          <tr>
            <th class="bg-pink-100 border-2 border-pink-300 px-3 py-2 text-pink-700 font-bold">Femminile</th>
            <% feminine_words.each do |word| %>
              <td class="bg-pink-50 border-2 border-pink-200 px-3 py-2 text-center"><%= word[:fem] %></td>
            <% end %>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th class="bg-blue-100 border-2 border-blue-300 px-3 py-2 text-blue-700 font-bold">Maschile</th>
            <% feminine_words.each do |word| %>
              <td class="bg-blue-50 border-2 border-blue-200 px-3 py-2">
                <input type="text"
                       class="w-full border-b-2 border-blue-500 bg-transparent text-center focus:outline-none focus:border-blue-700"
                       data-fill-blanks-target="input"
                       data-answer="<%= word[:masc] %>"
                       data-correct-answer="<%= word[:masc] %>"
                       placeholder="............"
                       maxlength="20">
              </td>
            <% end %>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Exercise 2: Volgi al femminile -->
  <div class="mb-6 bg-white rounded-2xl border-4 border-purple-200 shadow-2xl p-4 md:p-6" data-controller="fill-blanks">
    <h2 class="text-lg md:text-xl font-bold text-purple-700 mb-3">
      <span class="font-bold">2</span> Volgi al femminile.
    </h2>

    <% masculine_words = [
      { masc: "giornalaio", fem: "giornalaia" },
      { masc: "attore", fem: "attrice" },
      { masc: "violinista", fem: "violinista" },
      { masc: "marito", fem: "moglie" },
      { masc: "studente", fem: "studentessa" }
    ] %>

    <div class="overflow-x-auto">
      <table class="w-full border-collapse text-base md:text-lg">
        <thead>
          <tr>
            <th class="bg-blue-100 border-2 border-blue-300 px-3 py-2 text-blue-700 font-bold">Maschile</th>
            <% masculine_words.each do |word| %>
              <td class="bg-blue-50 border-2 border-blue-200 px-3 py-2 text-center"><%= word[:masc] %></td>
            <% end %>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th class="bg-pink-100 border-2 border-pink-300 px-3 py-2 text-pink-700 font-bold">Femminile</th>
            <% masculine_words.each do |word| %>
              <td class="bg-pink-50 border-2 border-pink-200 px-3 py-2">
                <input type="text"
                       class="w-full border-b-2 border-pink-500 bg-transparent text-center focus:outline-none focus:border-pink-700"
                       data-fill-blanks-target="input"
                       data-answer="<%= word[:fem] %>"
                       data-correct-answer="<%= word[:fem] %>"
                       placeholder="............"
                       maxlength="20">
              </td>
            <% end %>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="text-right text-sm text-gray-500 mb-6">
    Esercizi pp. 146-147
  </div>

  <!-- Exercise Controls -->
  <div class="mt-6">
    <%= render 'shared/exercise_controls', color: 'pink', current_page: 'nvl5_gram_p042' %>
  </div>
</div>
