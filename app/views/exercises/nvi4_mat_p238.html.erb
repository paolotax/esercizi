<div class="max-w-6xl mx-auto bg-white dark:bg-gray-900 p-3 md:p-6 transition-colors duration-300"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">

    <!-- Titolo -->
    <h1 class="text-2xl md:text-3xl font-bold text-center text-cyan-500 dark:text-cyan-400">
      SIMMETRIA
    </h1>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <!-- Colonna sinistra -->
      <div class="space-y-4">
        <!-- Esercizio 1 IMPARARE TUTTI -->
        <div class="p-5 bg-white dark:bg-gray-800 rounded-2xl border-3 border-yellow-400 dark:border-yellow-500 space-y-4">
          <p class="font-bold text-gray-700 dark:text-gray-200">
            <%= imparare_tutti_badge(1) %>
            Osserva i poligoni e traccia, dove possibile, uno o pi√π assi di simmetria. Segui l'esempio.
          </p>

          <!-- Griglia poligoni -->
          <div class="grid grid-cols-2 gap-4">
            <!-- Riga 1 -->
            <!-- Farfalla (esempio con assi) -->
            <div class="border-2 border-cyan-400 dark:border-cyan-600 rounded p-2 bg-white dark:bg-gray-700">
              <svg viewBox="0 0 100 100" class="w-full h-24">
                <!-- Farfalla stilizzata -->
                <polygon points="50,10 30,30 10,10 30,50 10,90 30,70 50,90 70,70 90,90 70,50 90,10 70,30"
                         fill="none" stroke="currentColor" stroke-width="1.5" class="text-cyan-500"/>
                <!-- Assi di simmetria (esempio) -->
                <line x1="50" y1="5" x2="50" y2="95" stroke="#3b82f6" stroke-width="1.5" stroke-dasharray="4,2"/>
                <line x1="5" y1="50" x2="95" y2="50" stroke="#3b82f6" stroke-width="1.5" stroke-dasharray="4,2"/>
              </svg>
            </div>

            <!-- Trapezio -->
            <div class="border-2 border-cyan-400 dark:border-cyan-600 rounded p-2 bg-white dark:bg-gray-700">
              <svg viewBox="0 0 100 80" class="w-full h-24">
                <polygon points="25,20 75,20 90,60 10,60"
                         fill="none" stroke="currentColor" stroke-width="2" class="text-gray-700 dark:text-gray-300"/>
              </svg>
            </div>

            <!-- Riga 2 -->
            <!-- Rettangolo -->
            <div class="border-2 border-cyan-400 dark:border-cyan-600 rounded p-2 bg-white dark:bg-gray-700">
              <svg viewBox="0 0 100 70" class="w-full h-24">
                <rect x="10" y="10" width="80" height="50"
                      fill="none" stroke="currentColor" stroke-width="2" class="text-gray-700 dark:text-gray-300"/>
              </svg>
            </div>

            <!-- Parallelogramma -->
            <div class="border-2 border-cyan-400 dark:border-cyan-600 rounded p-2 bg-white dark:bg-gray-700">
              <svg viewBox="0 0 100 70" class="w-full h-24">
                <polygon points="25,10 90,10 75,60 10,60"
                         fill="none" stroke="currentColor" stroke-width="2" class="text-gray-700 dark:text-gray-300"/>
              </svg>
            </div>

            <!-- Riga 3 -->
            <!-- Triangolo isoscele -->
            <div class="border-2 border-cyan-400 dark:border-cyan-600 rounded p-2 bg-white dark:bg-gray-700">
              <svg viewBox="0 0 100 80" class="w-full h-24">
                <polygon points="50,10 15,70 85,70"
                         fill="none" stroke="currentColor" stroke-width="2" class="text-gray-700 dark:text-gray-300"/>
              </svg>
            </div>

            <!-- Stella a 4 punte -->
            <div class="border-2 border-cyan-400 dark:border-cyan-600 rounded p-2 bg-white dark:bg-gray-700">
              <svg viewBox="0 0 100 100" class="w-full h-24">
                <polygon points="50,5 60,40 95,50 60,60 50,95 40,60 5,50 40,40"
                         fill="none" stroke="currentColor" stroke-width="2" class="text-gray-700 dark:text-gray-300"/>
              </svg>
            </div>

            <!-- Riga 4 -->
            <!-- Rettangolo orizzontale -->
            <div class="border-2 border-cyan-400 dark:border-cyan-600 rounded p-2 bg-white dark:bg-gray-700">
              <svg viewBox="0 0 100 50" class="w-full h-20">
                <rect x="5" y="10" width="90" height="30"
                      fill="none" stroke="currentColor" stroke-width="2" class="text-gray-700 dark:text-gray-300"/>
              </svg>
            </div>

            <!-- Esagono regolare -->
            <div class="border-2 border-cyan-400 dark:border-cyan-600 rounded p-2 bg-white dark:bg-gray-700">
              <svg viewBox="0 0 100 90" class="w-full h-24">
                <polygon points="50,5 90,25 90,65 50,85 10,65 10,25"
                         fill="none" stroke="currentColor" stroke-width="2" class="text-gray-700 dark:text-gray-300"/>
              </svg>
            </div>
          </div>
        </div>
      </div>

      <!-- Colonna destra -->
      <div class="space-y-4">
        <!-- Esercizio 2 -->
        <div class="space-y-4">
          <p class="font-bold text-gray-700 dark:text-gray-200">
            <%= numero_esercizio_badge(2) %> Disegna la figura simmetrica rispetto all'asse di simmetria dato.
          </p>

          <div class="grid grid-cols-1 gap-4">
            <!-- Prima figura con asse verticale -->
            <div class="border-2 border-cyan-400 dark:border-cyan-600 rounded p-2 bg-white dark:bg-gray-700">
              <svg viewBox="0 0 200 120" class="w-full h-32">
                <!-- Griglia -->
                <defs>
                  <pattern id="grid238a" width="10" height="10" patternUnits="userSpaceOnUse">
                    <path d="M 10 0 L 0 0 0 10" fill="none" stroke="#e5e7eb" stroke-width="0.5" class="dark:stroke-gray-600"/>
                  </pattern>
                </defs>
                <rect width="200" height="120" fill="url(#grid238a)"/>
                <!-- Asse di simmetria verticale -->
                <line x1="100" y1="0" x2="100" y2="120" stroke="#06b6d4" stroke-width="2"/>
                <!-- Figura a sinistra -->
                <polyline points="60,20 90,20 90,50 70,50 70,80 60,80"
                          fill="none" stroke="currentColor" stroke-width="2" class="text-gray-700 dark:text-gray-300"/>
              </svg>
            </div>

            <!-- Seconda griglia - figure con assi diversi -->
            <div class="grid grid-cols-3 gap-2">
              <!-- Figura con asse verticale -->
              <div class="border-2 border-cyan-400 dark:border-cyan-600 rounded p-1 bg-white dark:bg-gray-700">
                <svg viewBox="0 0 100 100" class="w-full h-24">
                  <defs>
                    <pattern id="grid238b" width="10" height="10" patternUnits="userSpaceOnUse">
                      <path d="M 10 0 L 0 0 0 10" fill="none" stroke="#e5e7eb" stroke-width="0.5" class="dark:stroke-gray-600"/>
                    </pattern>
                  </defs>
                  <rect width="100" height="100" fill="url(#grid238b)"/>
                  <!-- Asse verticale -->
                  <line x1="50" y1="0" x2="50" y2="100" stroke="#06b6d4" stroke-width="1.5"/>
                  <!-- Figura T a sinistra -->
                  <polyline points="20,20 45,20 45,40 35,40 35,80 20,80"
                            fill="none" stroke="currentColor" stroke-width="1.5" class="text-gray-700 dark:text-gray-300"/>
                </svg>
              </div>

              <!-- Figura con asse diagonale -->
              <div class="border-2 border-cyan-400 dark:border-cyan-600 rounded p-1 bg-white dark:bg-gray-700">
                <svg viewBox="0 0 100 100" class="w-full h-24">
                  <defs>
                    <pattern id="grid238c" width="10" height="10" patternUnits="userSpaceOnUse">
                      <path d="M 10 0 L 0 0 0 10" fill="none" stroke="#e5e7eb" stroke-width="0.5" class="dark:stroke-gray-600"/>
                    </pattern>
                  </defs>
                  <rect width="100" height="100" fill="url(#grid238c)"/>
                  <!-- Asse diagonale -->
                  <line x1="0" y1="100" x2="100" y2="0" stroke="#06b6d4" stroke-width="1.5"/>
                  <!-- Casetta in alto a destra -->
                  <polygon points="70,10 90,30 90,45 70,45 70,30 50,30"
                           fill="none" stroke="currentColor" stroke-width="1.5" class="text-gray-700 dark:text-gray-300"/>
                </svg>
              </div>

              <!-- Figura con asse verticale (rombo) -->
              <div class="border-2 border-cyan-400 dark:border-cyan-600 rounded p-1 bg-white dark:bg-gray-700">
                <svg viewBox="0 0 100 100" class="w-full h-24">
                  <defs>
                    <pattern id="grid238d" width="10" height="10" patternUnits="userSpaceOnUse">
                      <path d="M 10 0 L 0 0 0 10" fill="none" stroke="#e5e7eb" stroke-width="0.5" class="dark:stroke-gray-600"/>
                    </pattern>
                  </defs>
                  <rect width="100" height="100" fill="url(#grid238d)"/>
                  <!-- Asse verticale -->
                  <line x1="50" y1="0" x2="50" y2="100" stroke="#06b6d4" stroke-width="1.5"/>
                  <!-- Mezzo rombo a sinistra -->
                  <polyline points="50,20 20,50 50,80"
                            fill="none" stroke="currentColor" stroke-width="1.5" class="text-gray-700 dark:text-gray-300"/>
                </svg>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Esercizio 3 - a tutta larghezza -->
    <div class="space-y-4">
      <p class="font-bold text-gray-700 dark:text-gray-200">
        <%= numero_esercizio_badge(3) %> Disegna la figura simmetrica rispetto all'asse di simmetria dato.
      </p>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
        <!-- Prima griglia - omino con asse verticale -->
        <div class="border-2 border-cyan-400 dark:border-cyan-600 rounded p-2 bg-white dark:bg-gray-700">
          <svg viewBox="0 0 200 150" class="w-full h-40">
            <defs>
              <pattern id="grid238e" width="10" height="10" patternUnits="userSpaceOnUse">
                <path d="M 10 0 L 0 0 0 10" fill="none" stroke="#e5e7eb" stroke-width="0.5" class="dark:stroke-gray-600"/>
              </pattern>
            </defs>
            <rect width="200" height="150" fill="url(#grid238e)"/>
            <!-- Asse verticale -->
            <line x1="100" y1="0" x2="100" y2="150" stroke="#06b6d4" stroke-width="2"/>
            <!-- Omino stilizzato a sinistra -->
            <path d="M 40,40 L 40,30 L 50,30 L 50,20 L 60,20 L 60,30 L 70,30 L 70,40 L 60,40 L 60,50 L 80,50 L 80,60 L 60,60 L 60,80 L 70,80 L 70,90 L 60,90 L 60,110 L 50,110 L 50,90 L 40,90 L 40,80 L 50,80 L 50,60 L 30,60 L 30,50 L 50,50 L 50,40 Z"
                  fill="none" stroke="currentColor" stroke-width="1.5" class="text-gray-700 dark:text-gray-300"/>
          </svg>
        </div>

        <!-- Seconda griglia - casetta con asse diagonale -->
        <div class="border-2 border-cyan-400 dark:border-cyan-600 rounded p-2 bg-white dark:bg-gray-700">
          <svg viewBox="0 0 200 150" class="w-full h-40">
            <defs>
              <pattern id="grid238f" width="10" height="10" patternUnits="userSpaceOnUse">
                <path d="M 10 0 L 0 0 0 10" fill="none" stroke="#e5e7eb" stroke-width="0.5" class="dark:stroke-gray-600"/>
              </pattern>
            </defs>
            <rect width="200" height="150" fill="url(#grid238f)"/>
            <!-- Asse diagonale -->
            <line x1="0" y1="150" x2="200" y2="0" stroke="#06b6d4" stroke-width="2"/>
            <!-- Casetta in alto a destra -->
            <polygon points="140,30 160,10 180,30 180,60 140,60"
                     fill="none" stroke="currentColor" stroke-width="1.5" class="text-gray-700 dark:text-gray-300"/>
          </svg>
        </div>

        <!-- Terza griglia - forma a L con asse verticale -->
        <div class="border-2 border-cyan-400 dark:border-cyan-600 rounded p-2 bg-white dark:bg-gray-700">
          <svg viewBox="0 0 200 150" class="w-full h-40">
            <defs>
              <pattern id="grid238g" width="10" height="10" patternUnits="userSpaceOnUse">
                <path d="M 10 0 L 0 0 0 10" fill="none" stroke="#e5e7eb" stroke-width="0.5" class="dark:stroke-gray-600"/>
              </pattern>
            </defs>
            <rect width="200" height="150" fill="url(#grid238g)"/>
            <!-- Asse verticale -->
            <line x1="100" y1="0" x2="100" y2="150" stroke="#06b6d4" stroke-width="2"/>
            <!-- Forma a C a destra -->
            <polyline points="110,30 170,30 170,50 130,50 130,100 170,100 170,120 110,120"
                      fill="none" stroke="currentColor" stroke-width="1.5" class="text-gray-700 dark:text-gray-300"/>
          </svg>
        </div>
      </div>
    </div>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
