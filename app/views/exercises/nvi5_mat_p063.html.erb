<div class="max-w-6xl mx-auto p-3 md:p-6"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <!-- Header -->
  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">
    <!-- Problema iniziale -->
    <div class="p-4 md:p-6 bg-white border-3 border-blue-500 rounded-3xl">
      <p class="text-gray-800 mb-4">
        Alessia ha letto
        <span class="inline-flex flex-col items-center mx-1 font-bold text-cyan-500 align-middle">
          <span>3</span>
          <span class="border-t-2 border-gray-700 px-2">8</span>
        </span>
        delle 192 pagine del suo libro di astronomia.<br>
        Quante pagine deve ancora leggere per finire il libro?
      </p>
      <p class="text-gray-700">Per rispondere alla domanda puoi procedere in modi diversi.</p>
    </div>

    <!-- Primo modo -->
    <div class="p-4 md:p-6 bg-white border-3 border-orange-500 rounded-3xl">
      <h2 class="font-bold text-orange-700 mb-4">Primo modo</h2>
      <p class="text-gray-700 mb-4">Calcola il numero di pagine che Alessia ha già letto, poi calcola quante pagine le restano da leggere.</p>

      <div class="mb-4">
        <%= image_tag "nvi5_mat/p063/p063_05.jpg", alt: "Primo modo", class: "max-w-lg" %>
      </div>

      <div class="p-4 bg-orange-50 border-2 border-orange-200 rounded-lg">
        <p class="text-gray-700">
          Per calcolare la frazione di un numero <strong>dividi</strong> quel numero <strong>per il denominatore</strong> e <strong>moltiplica</strong> il risultato <strong>per il numeratore</strong>.
        </p>
      </div>
    </div>

    <!-- Secondo modo -->
    <div class="p-4 md:p-6 bg-white border-3 border-green-500 rounded-3xl">
      <h2 class="font-bold text-green-700 mb-4">Secondo modo</h2>
      <p class="text-gray-700 mb-4">
        Trova la <strong>frazione complementare</strong>, che corrisponde al numero delle pagine che Alessia deve ancora leggere, e calcolane il valore.
      </p>

      <div class="mb-4">
        <%= image_tag "nvi5_mat/p063/p063_06.jpg", alt: "Secondo modo", class: "max-w-lg" %>
      </div>

      <div class="p-4 bg-cyan-100 border-2 border-cyan-300 rounded-lg text-center">
        <p class="text-gray-800">
          Naturalmente arrivi alla stessa risposta: Deve ancora leggere
          <input type="text" data-correct-answer="120" class="w-16 px-2 py-1 border-2 border-cyan-300 rounded text-center font-bold mx-1">
          pagine per finire il libro.
        </p>
      </div>
    </div>

    <!-- ESERCIZI -->
    <div class="p-4 md:p-6 bg-orange-100 rounded-lg">
      <h2 class="font-bold text-blue-600 mb-4">ESERCIZI</h2>

      <!-- Esercizio 1 -->
      <div class="p-4 mb-6 bg-white rounded-lg">
        <div class="flex items-start gap-3 mb-4">
          <div class="bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">1</div>
          <p class="font-bold text-gray-700">Calcola.</p>
        </div>

        <div class="space-y-3">
          <div class="flex items-center gap-3">
            <span class="inline-flex flex-col items-center font-bold text-cyan-500">
              <span>3</span>
              <span class="border-t-2 border-gray-700 px-2">5</span>
            </span>
            <span class="text-gray-700">di 250</span>
            <span class="text-pink-600 font-bold">→</span>
            <input type="text" data-correct-answer="150" class="w-20 px-2 py-1 border-2 border-cyan-300 rounded text-center font-bold">
          </div>

          <div class="flex items-center gap-3">
            <span class="inline-flex flex-col items-center font-bold text-cyan-500">
              <span>2</span>
              <span class="border-t-2 border-gray-700 px-2">7</span>
            </span>
            <span class="text-gray-700">di 49</span>
            <span class="text-pink-600 font-bold">→</span>
            <input type="text" data-correct-answer="14" class="w-20 px-2 py-1 border-2 border-cyan-300 rounded text-center font-bold">
          </div>

          <div class="flex items-center gap-3">
            <span class="inline-flex flex-col items-center font-bold text-cyan-500">
              <span>4</span>
              <span class="border-t-2 border-gray-700 px-2">5</span>
            </span>
            <span class="text-gray-700">di 450</span>
            <span class="text-pink-600 font-bold">→</span>
            <input type="text" data-correct-answer="360" class="w-20 px-2 py-1 border-2 border-cyan-300 rounded text-center font-bold">
          </div>

          <div class="flex items-center gap-3">
            <span class="inline-flex flex-col items-center font-bold text-cyan-500">
              <span>8</span>
              <span class="border-t-2 border-gray-700 px-2">12</span>
            </span>
            <span class="text-gray-700">di 2400</span>
            <span class="text-pink-600 font-bold">→</span>
            <input type="text" data-correct-answer="1600" class="w-20 px-2 py-1 border-2 border-cyan-300 rounded text-center font-bold">
          </div>
        </div>
      </div>

      <!-- Esercizio 2 -->
      <div class="p-4 mb-4 bg-white rounded-lg">
        <div class="flex items-start gap-3">
          <div class="bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">2</div>
          <p class="font-bold text-gray-700">
            Il papà di Matteo ha comprato uno scooter che costa 1 200 euro e ha versato subito un acconto pari a
            <span class="inline-flex flex-col items-center mx-1 font-bold text-cyan-500 align-middle">
              <span>1</span>
              <span class="border-t-2 border-gray-700 px-2">4</span>
            </span>
            del prezzo totale. Quanto deve pagare ancora?
          </p>
        </div>
      </div>

      <!-- Esercizio 3 -->
      <div class="p-4 bg-white rounded-lg">
        <div class="flex items-start gap-3">
          <div class="bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">3</div>
          <p class="font-bold text-gray-700">
            Da un nastro di seta lungo 18 m sono stati tagliati prima
            <span class="inline-flex flex-col items-center mx-1 font-bold text-cyan-500 align-middle">
              <span>1</span>
              <span class="border-t-2 border-gray-700 px-2">3</span>
            </span>,
            poi
            <span class="inline-flex flex-col items-center mx-1 font-bold text-cyan-500 align-middle">
              <span>1</span>
              <span class="border-t-2 border-gray-700 px-2">6</span>
            </span>.
            Quanti metri sono rimasti?
          </p>
        </div>
      </div>
    </div>

    <!-- Riferimento quaderno -->
    <div class="p-4 text-right">
      <p class="text-gray-700">
        <span class="font-bold">Quaderno</span> pp. <a href="#" class="text-red-600 font-bold hover:underline">206</a>-<a href="#" class="text-red-600 font-bold hover:underline">207</a>
      </p>
    </div>

    <!-- Exercise Controls -->
    <%= render 'shared/exercise_controls', color: 'blue' %>
  </div>
</div>
