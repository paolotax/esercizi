<div class="max-w-6xl mx-auto bg-white dark:bg-gray-900 p-3 md:p-6 transition-colors duration-300"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">

    <!-- Esercizio 1 -->
    <div class="space-y-4">
      <p class="font-bold text-gray-700 dark:text-gray-200">
        <%= numero_esercizio_badge(1) %>
        Osserva le linee numerate e rispondi.
      </p>

      <div class="space-y-4 text-gray-700 dark:text-gray-200">
        <p>Luca, Marco e Anna stanno percorrendo ognuno una strada diversa. Colora la parte che ognuno di loro ha percorso.</p>

        <!-- Linee numerate -->
        <div class="space-y-4">
          <div class="flex items-center gap-2">
            <span class="w-16">Luca</span>
            <span class="font-bold text-cyan-500">1/8</span>
            <div class="flex-1 h-4 bg-gray-200 dark:bg-gray-700 rounded relative">
              <div class="absolute left-0 top-0 h-full w-0 bg-cyan-400 rounded"></div>
              <span class="absolute left-0 -bottom-5">0</span>
              <span class="absolute right-0 -bottom-5">1</span>
            </div>
          </div>
          <div class="flex items-center gap-2">
            <span class="w-16">Marco</span>
            <span class="font-bold text-cyan-500">1/2</span>
            <div class="flex-1 h-4 bg-gray-200 dark:bg-gray-700 rounded relative">
              <div class="absolute left-0 top-0 h-full w-0 bg-cyan-400 rounded"></div>
              <span class="absolute left-0 -bottom-5">0</span>
              <span class="absolute right-0 -bottom-5">1</span>
            </div>
          </div>
          <div class="flex items-center gap-2">
            <span class="w-16">Anna</span>
            <span class="font-bold text-cyan-500">1/4</span>
            <div class="flex-1 h-4 bg-gray-200 dark:bg-gray-700 rounded relative">
              <div class="absolute left-0 top-0 h-full w-0 bg-cyan-400 rounded"></div>
              <span class="absolute left-0 -bottom-5">0</span>
              <span class="absolute right-0 -bottom-5">1</span>
            </div>
          </div>
        </div>

        <div class="pt-4 space-y-3">
          <p><span class="text-cyan-500">•</span> Confronta le frazioni utilizzando i simboli &gt; e &lt;.</p>
          <div class="flex flex-wrap gap-4">
            <div class="flex items-center gap-1">
              <span>1/8</span>
              <input type="text" class="w-10 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white" placeholder="..." data-answer="<">
              <span>1/2</span>
            </div>
            <div class="flex items-center gap-1">
              <span>1/4</span>
              <input type="text" class="w-10 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white" placeholder="..." data-answer=">">
              <span>1/8</span>
            </div>
            <div class="flex items-center gap-1">
              <span>1/2</span>
              <input type="text" class="w-10 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white" placeholder="..." data-answer=">">
              <span>1/4</span>
            </div>
          </div>
        </div>

        <div class="space-y-2">
          <p><span class="text-cyan-500">•</span> Ordina le frazioni dalla maggiore alla minore.</p>
          <div class="flex items-center gap-2 flex-wrap">
            <input type="text" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white" placeholder="..." data-answer="1/2">
            <span>&gt;</span>
            <input type="text" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white" placeholder="..." data-answer="1/4">
            <span>&gt;</span>
            <input type="text" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white" placeholder="..." data-answer="1/8">
          </div>
        </div>
      </div>
    </div>

    <!-- Esercizio 2 -->
    <div class="space-y-4">
      <p class="font-bold text-gray-700 dark:text-gray-200">
        <%= numero_esercizio_badge(2) %>
        Indica quale frazione di un'ora corrisponde alle espressioni.
      </p>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-gray-700 dark:text-gray-200">
        <div class="flex items-center gap-2">
          <span>mezz'ora =</span>
          <input type="text" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white" placeholder="..." data-answer="1/2">
          <span>di un'ora</span>
        </div>
        <div class="flex items-center gap-2">
          <span>tre quarti d'ora =</span>
          <input type="text" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white" placeholder="..." data-answer="3/4">
          <span>di un'ora</span>
        </div>
        <div class="flex items-center gap-2">
          <span>un quarto d'ora =</span>
          <input type="text" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white" placeholder="..." data-answer="1/4">
          <span>di un'ora</span>
        </div>
      </div>
    </div>

    <!-- Esercizio 3 -->
    <div class="space-y-4">
      <p class="font-bold text-gray-700 dark:text-gray-200">
        <%= numero_esercizio_badge(3) %>
        Risolvi il problema.
      </p>

      <div class="p-3 bg-custom-blue-light dark:bg-cyan-900 text-gray-700 dark:text-gray-200 rounded">
        <p>Sara ha 72 figurine e ne regala 1/9 a Luca.</p>
        <p>Quante figurine regala Sara a Luca?</p>
      </div>

      <div class="space-y-3 text-gray-700 dark:text-gray-200">
        <div class="flex items-center gap-2 flex-wrap">
          <span>Operazione:</span>
          <input type="text" class="flex-1 min-w-[200px] border-b-2 border-dotted border-gray-400 dark:border-gray-500 font-bold bg-transparent dark:text-white" placeholder="..." data-answer="72 : 9 = 8,72:9=8">
        </div>
        <div class="flex items-center gap-2 flex-wrap">
          <span>Risposta: Sara regala a Luca</span>
          <input type="text" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white" placeholder="..." data-answer="8">
          <span>figurine.</span>
        </div>
      </div>
    </div>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
