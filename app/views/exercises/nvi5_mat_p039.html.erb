<div class="max-w-6xl mx-auto bg-white dark:bg-gray-900 text-black dark:text-white p-3 md:p-6 transition-colors duration-300"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-4">
    <!-- Intro -->
    <div class="px-4 md:px-6 pt-2">
      <p class="text-gray-800 dark:text-gray-200">
        Ecco alcune strategie per calcolare velocemente con i numeri interi e decimali.
      </p>
    </div>

    <!-- Addizioni e sottrazioni -->
    <div class="p-4 md:p-6">
      <h2 class="font-bold text-<%= @pagina.base_color %>-600 dark:text-<%= @pagina.base_color %>-400 mb-4">Addizioni e sottrazioni</h2>
      <div class="overflow-x-auto">
        <table class="w-full border-collapse">
          <thead>
            <tr class="bg-<%= @pagina.base_color %>-100 dark:bg-<%= @pagina.base_color %>-900/30">
              <th class="border-2 border-<%= @pagina.base_color %>-300 dark:border-<%= @pagina.base_color %>-500 p-2 dark:text-gray-200"></th>
              <th class="border-2 border-<%= @pagina.base_color %>-300 dark:border-<%= @pagina.base_color %>-500 p-2 dark:text-gray-200">Strategia</th>
              <th class="border-2 border-<%= @pagina.base_color %>-300 dark:border-<%= @pagina.base_color %>-500 p-2 dark:text-gray-200">Esempio</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="border-2 border-gray-300 dark:border-gray-600 p-2 bg-pink-50 dark:bg-pink-900/30 font-bold text-center dark:text-gray-200">+ 9<br>+ 99<br>+ 999</td>
              <td class="border-2 border-gray-300 dark:border-gray-600 p-2 dark:text-gray-200">aggiungi <strong>10 • 100 • 1 000</strong> e togli <strong>1</strong></td>
              <td class="border-2 border-gray-300 dark:border-gray-600 p-2 bg-yellow-50 dark:bg-yellow-900/30">
                <div class="space-y-1 dark:text-gray-200">
                  <div class="flex items-center gap-1 flex-wrap">
                    <span>96 + 9 = 96 + 10 – 1 = 106 –</span>
                    <input type="text" data-correct-answer="1" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                    <span>=</span>
                    <input type="text" data-correct-answer="105" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                  </div>
                  <div class="flex items-center gap-1">
                    <span class="shrink-0">352 + 99 =</span>
                    <input type="text" data-correct-answer="451" class="min-w-0 flex-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                  </div>
                  <div class="flex items-center gap-1">
                    <span class="shrink-0">2 478 + 999 =</span>
                    <input type="text" data-correct-answer="3477" class="min-w-0 flex-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                  </div>
                </div>
              </td>
            </tr>
            <tr>
              <td class="border-2 border-gray-300 dark:border-gray-600 p-2 bg-purple-50 dark:bg-purple-900/30 font-bold text-center dark:text-gray-200">+ 0,9<br>+ 0,99<br>+ 0,999</td>
              <td class="border-2 border-gray-300 dark:border-gray-600 p-2 dark:text-gray-200">aggiungi <strong>1</strong> e togli rispettivamente<br><strong>0,1 • 0,01 • 0,001</strong></td>
              <td class="border-2 border-gray-300 dark:border-gray-600 p-2 bg-yellow-50 dark:bg-yellow-900/30">
                <div class="space-y-1 dark:text-gray-200">
                  <p>14,4 + 0,9 = 14,4 + 1 – 0,1 = 15,4 – 0,1 = 15,3</p>
                  <div class="flex items-center gap-1">
                    <span class="shrink-0">8,36 + 0,99 =</span>
                    <input type="text" data-correct-answer="9,35" class="min-w-0 flex-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                  </div>
                  <div class="flex items-center gap-1">
                    <span class="shrink-0">2,468 + 0,999 =</span>
                    <input type="text" data-correct-answer="3,467" class="min-w-0 flex-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                  </div>
                </div>
              </td>
            </tr>
            <tr>
              <td class="border-2 border-gray-300 dark:border-gray-600 p-2 bg-custom-blue-light dark:bg-cyan-900/40 font-bold text-center dark:text-gray-200">– 9<br>– 99<br>– 999</td>
              <td class="border-2 border-gray-300 dark:border-gray-600 p-2 dark:text-gray-200">togli <strong>10 • 100 • 1 000</strong> e aggiungi <strong>1</strong></td>
              <td class="border-2 border-gray-300 dark:border-gray-600 p-2 bg-yellow-50 dark:bg-yellow-900/30">
                <div class="space-y-1 dark:text-gray-200">
                  <div class="flex items-center gap-1 flex-wrap">
                    <span>96 – 9 = 96 – 10 + 1 = 86 +</span>
                    <input type="text" data-correct-answer="1" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                    <span>=</span>
                    <input type="text" data-correct-answer="87" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                  </div>
                  <div class="flex items-center gap-1">
                    <span class="shrink-0">352 – 99 =</span>
                    <input type="text" data-correct-answer="253" class="min-w-0 flex-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                  </div>
                  <div class="flex items-center gap-1">
                    <span class="shrink-0">2 478 – 999 =</span>
                    <input type="text" data-correct-answer="1479" class="min-w-0 flex-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                  </div>
                </div>
              </td>
            </tr>
            <tr>
              <td class="border-2 border-gray-300 dark:border-gray-600 p-2 bg-green-50 dark:bg-green-900/30 font-bold text-center dark:text-gray-200">– 0,9<br>– 0,99<br>– 0,999</td>
              <td class="border-2 border-gray-300 dark:border-gray-600 p-2 dark:text-gray-200">togli <strong>1</strong> e aggiungi rispettivamente<br><strong>0,1 • 0,01 • 0,001</strong></td>
              <td class="border-2 border-gray-300 dark:border-gray-600 p-2 bg-yellow-50 dark:bg-yellow-900/30">
                <div class="space-y-1 dark:text-gray-200">
                  <p>14,4 – 0,9 = 14,4 – 1 + 0,1 = 13,4 + 0,1 = 13,5</p>
                  <div class="flex items-center gap-1">
                    <span class="shrink-0">8,36 – 0,99 =</span>
                    <input type="text" data-correct-answer="7,37" class="min-w-0 flex-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                  </div>
                  <div class="flex items-center gap-1">
                    <span class="shrink-0">2,468 – 0,999 =</span>
                    <input type="text" data-correct-answer="1,469" class="min-w-0 flex-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                  </div>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- Moltiplicazioni e divisioni -->
    <div class="p-4 md:p-6">
      <h2 class="font-bold text-<%= @pagina.base_color %>-600 dark:text-<%= @pagina.base_color %>-400 mb-4">Moltiplicazioni e divisioni</h2>
      <div class="overflow-x-auto">
        <table class="w-full border-collapse">
          <thead>
            <tr class="bg-<%= @pagina.base_color %>-100 dark:bg-<%= @pagina.base_color %>-900/30">
              <th class="border-2 border-<%= @pagina.base_color %>-300 dark:border-<%= @pagina.base_color %>-500 p-2 dark:text-gray-200"></th>
              <th class="border-2 border-<%= @pagina.base_color %>-300 dark:border-<%= @pagina.base_color %>-500 p-2 dark:text-gray-200">Strategia</th>
              <th class="border-2 border-<%= @pagina.base_color %>-300 dark:border-<%= @pagina.base_color %>-500 p-2 dark:text-gray-200">Esempio</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="border-2 border-gray-300 dark:border-gray-600 p-2 bg-orange-50 dark:bg-orange-900/30 font-bold text-center dark:text-gray-200">× 0,1</td>
              <td class="border-2 border-gray-300 dark:border-gray-600 p-2 dark:text-gray-200">dividi per <strong>10</strong></td>
              <td class="border-2 border-gray-300 dark:border-gray-600 p-2 bg-yellow-50 dark:bg-yellow-900/30">
                <div class="flex items-center gap-1 dark:text-gray-200">
                  <span class="shrink-0">250 × 0,1 = 250 : 10 =</span>
                  <input type="text" data-correct-answer="25" class="min-w-0 flex-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                </div>
              </td>
            </tr>
            <tr>
              <td class="border-2 border-gray-300 dark:border-gray-600 p-2 bg-pink-50 dark:bg-pink-900/30 font-bold text-center dark:text-gray-200">× 5</td>
              <td class="border-2 border-gray-300 dark:border-gray-600 p-2 dark:text-gray-200">moltiplica per <strong>10</strong> e dividi per <strong>2</strong></td>
              <td class="border-2 border-gray-300 dark:border-gray-600 p-2 bg-yellow-50 dark:bg-yellow-900/30">
                <div class="flex items-center gap-1 dark:text-gray-200">
                  <span class="shrink-0">75 × 5 = (75 × 10) : 2 =</span>
                  <input type="text" data-correct-answer="375" class="min-w-0 flex-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                </div>
              </td>
            </tr>
            <tr>
              <td class="border-2 border-gray-300 dark:border-gray-600 p-2 bg-custom-blue-light dark:bg-cyan-900/40 font-bold text-center dark:text-gray-200">× 0,5</td>
              <td class="border-2 border-gray-300 dark:border-gray-600 p-2 dark:text-gray-200">dividi per <strong>2</strong></td>
              <td class="border-2 border-gray-300 dark:border-gray-600 p-2 bg-yellow-50 dark:bg-yellow-900/30">
                <div class="flex items-center gap-1 dark:text-gray-200">
                  <span class="shrink-0">264 × 0,5 = 264 :</span>
                  <input type="text" data-correct-answer="2" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                  <span class="shrink-0">=</span>
                  <input type="text" data-correct-answer="132" class="min-w-0 flex-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                </div>
              </td>
            </tr>
            <tr>
              <td class="border-2 border-gray-300 dark:border-gray-600 p-2 bg-green-50 dark:bg-green-900/30 font-bold text-center dark:text-gray-200">× 25</td>
              <td class="border-2 border-gray-300 dark:border-gray-600 p-2 dark:text-gray-200">moltiplica per <strong>100</strong> e dividi per <strong>4</strong></td>
              <td class="border-2 border-gray-300 dark:border-gray-600 p-2 bg-yellow-50 dark:bg-yellow-900/30">
                <div class="flex items-center gap-1 dark:text-gray-200">
                  <span class="shrink-0">500 × 25 = (500 × 100) : 4 =</span>
                  <input type="text" data-correct-answer="12500" class="min-w-0 flex-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                </div>
              </td>
            </tr>
            <tr>
              <td class="border-2 border-gray-300 dark:border-gray-600 p-2 bg-purple-50 dark:bg-purple-900/30 font-bold text-center dark:text-gray-200">× 0,25</td>
              <td class="border-2 border-gray-300 dark:border-gray-600 p-2 dark:text-gray-200">dividi per <strong>4</strong></td>
              <td class="border-2 border-gray-300 dark:border-gray-600 p-2 bg-yellow-50 dark:bg-yellow-900/30">
                <div class="flex items-center gap-1 dark:text-gray-200">
                  <span class="shrink-0">48 × 0,25 =</span>
                  <input type="text" data-correct-answer="12" class="min-w-0 flex-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                </div>
              </td>
            </tr>
            <tr>
              <td class="border-2 border-gray-300 dark:border-gray-600 p-2 bg-orange-50 dark:bg-orange-900/30 font-bold text-center dark:text-gray-200">: 0,1</td>
              <td class="border-2 border-gray-300 dark:border-gray-600 p-2 dark:text-gray-200">moltiplica per <strong>10</strong></td>
              <td class="border-2 border-gray-300 dark:border-gray-600 p-2 bg-yellow-50 dark:bg-yellow-900/30">
                <div class="flex items-center gap-1 dark:text-gray-200">
                  <span class="shrink-0">250 : 0,1 = 250 × 10 =</span>
                  <input type="text" data-correct-answer="2500" class="min-w-0 flex-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                </div>
              </td>
            </tr>
            <tr>
              <td class="border-2 border-gray-300 dark:border-gray-600 p-2 bg-pink-50 dark:bg-pink-900/30 font-bold text-center dark:text-gray-200">: 5</td>
              <td class="border-2 border-gray-300 dark:border-gray-600 p-2 dark:text-gray-200">moltiplica per <strong>2</strong> e dividi per <strong>10</strong></td>
              <td class="border-2 border-gray-300 dark:border-gray-600 p-2 bg-yellow-50 dark:bg-yellow-900/30">
                <div class="flex items-center gap-1 dark:text-gray-200">
                  <span class="shrink-0">75 : 5 = (75 × 2) : 10 =</span>
                  <input type="text" data-correct-answer="15" class="min-w-0 flex-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                </div>
              </td>
            </tr>
            <tr>
              <td class="border-2 border-gray-300 dark:border-gray-600 p-2 bg-custom-blue-light dark:bg-cyan-900/40 font-bold text-center dark:text-gray-200">: 0,5</td>
              <td class="border-2 border-gray-300 dark:border-gray-600 p-2 dark:text-gray-200">moltiplica per <strong>2</strong></td>
              <td class="border-2 border-gray-300 dark:border-gray-600 p-2 bg-yellow-50 dark:bg-yellow-900/30">
                <div class="flex items-center gap-1 dark:text-gray-200">
                  <span class="shrink-0">264 : 0,5 =</span>
                  <input type="text" data-correct-answer="528" class="min-w-0 flex-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                </div>
              </td>
            </tr>
            <tr>
              <td class="border-2 border-gray-300 dark:border-gray-600 p-2 bg-green-50 dark:bg-green-900/30 font-bold text-center dark:text-gray-200">: 25</td>
              <td class="border-2 border-gray-300 dark:border-gray-600 p-2 dark:text-gray-200">moltiplica per <strong>4</strong> e dividi per <strong>100</strong></td>
              <td class="border-2 border-gray-300 dark:border-gray-600 p-2 bg-yellow-50 dark:bg-yellow-900/30">
                <div class="flex items-center gap-1 dark:text-gray-200">
                  <span class="shrink-0">500 : 25 = (500 × 4) :</span>
                  <input type="text" data-correct-answer="100" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                  <span class="shrink-0">=</span>
                  <input type="text" data-correct-answer="20" class="min-w-0 flex-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                </div>
              </td>
            </tr>
            <tr>
              <td class="border-2 border-gray-300 dark:border-gray-600 p-2 bg-purple-50 dark:bg-purple-900/30 font-bold text-center dark:text-gray-200">: 0,25</td>
              <td class="border-2 border-gray-300 dark:border-gray-600 p-2 dark:text-gray-200">moltiplica per <strong>4</strong></td>
              <td class="border-2 border-gray-300 dark:border-gray-600 p-2 bg-yellow-50 dark:bg-yellow-900/30">
                <div class="flex items-center gap-1 dark:text-gray-200">
                  <span class="shrink-0">48 : 0,25 =</span>
                  <input type="text" data-correct-answer="192" class="min-w-0 flex-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <%= render 'shared/quaderno_link', pagine: [184, 186] %>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
