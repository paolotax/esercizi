<div class="max-w-6xl mx-auto bg-white p-3 md:p-6"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">
    <!-- Esercizio 1: IMPARARE TUTTI -->
    <div class="p-4 bg-white rounded-2xl border-3 border-yellow-400">
      <p class="font-bold text-gray-700 mb-4">
        <%= imparare_tutti_badge(1) %>
        Ripassa di rosso le rette, di blu i segmenti, di verde la semiretta.
      </p>

      <div class="flex justify-center">
        <%= image_tag "nvi5_mat/p228/output-1715938802228_351_230_605_132.png", alt: "Rette, segmenti e semirette", class: "max-w-full" %>
      </div>
    </div>

    <!-- Esercizio 2: IMPARARE TUTTI -->
    <div class="p-4 bg-white rounded-2xl border-3 border-yellow-400">
      <p class="font-bold text-gray-700 mb-4">
        <%= imparare_tutti_badge(2) %>
        Disegna come richiesto.
      </p>

      <div class="flex justify-center">
        <%= image_tag "nvi5_mat/p228/p228_01.jpg", alt: "Griglia per disegnare rette", class: "max-w-full border border-gray-300 rounded" %>
      </div>
    </div>

    <!-- Esercizio 3 -->
    <div>
      <p class="font-bold text-gray-700 mb-4">
        <%= numero_esercizio_badge(3) %>
        Scrivi le definizioni corrette delle seguenti linee. Scegli tra: aperta/chiusa e spezzata/curva/mista.
      </p>

      <div class="grid grid-cols-2 md:grid-cols-3 gap-6">
        <div class="text-center">
          <%= image_tag "nvi5_mat/p228/output-1715938802228_201_701_142_85.png", alt: "Linea 1", class: "mx-auto mb-2" %>
          <div class="flex items-center justify-center gap-2">
            <span class="text-gray-700">Linea</span>
            <input type="text" data-correct-answer="aperta" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <input type="text" data-correct-answer="curva" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          </div>
        </div>
        <div class="text-center">
          <%= image_tag "nvi5_mat/p228/output-1715938802228_500_704_142_83.png", alt: "Linea 2", class: "mx-auto mb-2" %>
          <div class="flex items-center justify-center gap-2">
            <span class="text-gray-700">Linea</span>
            <input type="text" data-correct-answer="chiusa" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <input type="text" data-correct-answer="curva" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          </div>
        </div>
        <div class="text-center">
          <%= image_tag "nvi5_mat/p228/output-1715938802228_787_647_138_138.png", alt: "Linea 3", class: "mx-auto mb-2" %>
          <div class="flex items-center justify-center gap-2">
            <span class="text-gray-700">Linea</span>
            <input type="text" data-correct-answer="chiusa" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <input type="text" data-correct-answer="spezzata" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          </div>
        </div>
        <div class="text-center">
          <%= image_tag "nvi5_mat/p228/output-1715938802228_207_849_129_111.png", alt: "Linea 4", class: "mx-auto mb-2" %>
          <div class="flex items-center justify-center gap-2">
            <span class="text-gray-700">Linea</span>
            <input type="text" data-correct-answer="aperta" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <input type="text" data-correct-answer="spezzata" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          </div>
        </div>
        <div class="text-center">
          <%= image_tag "nvi5_mat/p228/output-1715938802228_484_844_174_114.png", alt: "Linea 5", class: "mx-auto mb-2" %>
          <div class="flex items-center justify-center gap-2">
            <span class="text-gray-700">Linea</span>
            <input type="text" data-correct-answer="aperta" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <input type="text" data-correct-answer="mista" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          </div>
        </div>
        <div class="text-center">
          <%= image_tag "nvi5_mat/p228/output-1715938802228_782_836_152_126.png", alt: "Linea 6", class: "mx-auto mb-2" %>
          <div class="flex items-center justify-center gap-2">
            <span class="text-gray-700">Linea</span>
            <input type="text" data-correct-answer="chiusa" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <input type="text" data-correct-answer="mista" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          </div>
        </div>
      </div>
    </div>

    <!-- Esercizio 4 -->
    <div>
      <p class="font-bold text-gray-700 mb-4">
        <%= numero_esercizio_badge(4) %>
        Osserva la figura e completa la tabella.
      </p>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="flex justify-center">
          <%= image_tag "nvi5_mat/p228/p228_02.jpg", alt: "Figura con rette", class: "max-w-full" %>
        </div>
        <div class="overflow-x-auto">
          <table class="w-full border-collapse border border-cyan-400">
            <tbody>
              <tr>
                <td class="p-2 border border-cyan-400 bg-custom-blue-light font-bold">Coppie di rette incidenti</td>
                <td class="p-2 border border-cyan-400 bg-white">
                  <input type="text" data-correct-answer="a-b, a-c, a-d, b-c, b-d, c-d" class="w-full border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                </td>
              </tr>
              <tr>
                <td class="p-2 border border-cyan-400 bg-custom-blue-light font-bold">Coppie di rette incidenti perpendicolari</td>
                <td class="p-2 border border-cyan-400 bg-white">
                  <input type="text" data-correct-answer="a-d, b-d" class="w-full border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                </td>
              </tr>
              <tr>
                <td class="p-2 border border-cyan-400 bg-custom-blue-light font-bold">Coppia di rette parallele</td>
                <td class="p-2 border border-cyan-400 bg-white">
                  <input type="text" data-correct-answer="nessuna" class="w-full border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
