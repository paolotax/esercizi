<div class="max-w-6xl mx-auto bg-white dark:bg-gray-900 p-3 md:p-6 transition-colors duration-300"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">

    <!-- Esercizio 1 -->
    <div class="mb-6">
      <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
        <%= numero_esercizio_badge(1) %>
        Scrivi i numeri nelle diverse scritture, come nell'esempio.
      </p>

      <div class="space-y-6">
        <!-- Esempio -->
        <div class="p-4 bg-<%= @pagina.base_color %>-50 rounded-lg space-y-2">
          <div class="flex items-start gap-4">
            <span class="font-bold whitespace-nowrap">364 502</span>
            <span class="text-<%= @pagina.base_color %>-500">→</span>
            <div class="space-y-1">
              <p class="font-bold text-<%= @pagina.base_color %>-600">3 hk + 6 dak + 4 uk + 5 h + 0 da + 2 u</p>
              <p class="font-bold text-<%= @pagina.base_color %>-600">300 000 + 60 000 + 4 000 + 500 + 0 + 2</p>
              <p class="font-bold text-<%= @pagina.base_color %>-600">3 × 100 000 + 6 × 10 000 + 4 × 1 000 + 5 × 100 + 0 × 10 + 2 × 1</p>
            </div>
          </div>
        </div>

        <!-- 24 386 -->
        <div class="space-y-2">
          <div class="flex items-start gap-4">
            <span class="font-bold whitespace-nowrap">24 386</span>
            <span class="text-<%= @pagina.base_color %>-500">→</span>
            <div class="flex-1 space-y-2">
              <input type="text" data-correct-answer="2 dak + 4 uk + 3 h + 8 da + 6 u" class="w-full border-b-2 border-dotted border-gray-400 font-bold bg-transparent">
              <input type="text" data-correct-answer="20 000 + 4 000 + 300 + 80 + 6" class="w-full border-b-2 border-dotted border-gray-400 font-bold bg-transparent">
              <input type="text" data-correct-answer="2 × 10 000 + 4 × 1 000 + 3 × 100 + 8 × 10 + 6 × 1" class="w-full border-b-2 border-dotted border-gray-400 font-bold bg-transparent">
            </div>
          </div>
        </div>

        <!-- 602 587 -->
        <div class="space-y-2">
          <div class="flex items-start gap-4">
            <span class="font-bold whitespace-nowrap">602 587</span>
            <span class="text-<%= @pagina.base_color %>-500">→</span>
            <div class="flex-1 space-y-2">
              <input type="text" data-correct-answer="6 hk + 0 dak + 2 uk + 5 h + 8 da + 7 u" class="w-full border-b-2 border-dotted border-gray-400 font-bold bg-transparent">
              <input type="text" data-correct-answer="600 000 + 0 + 2 000 + 500 + 80 + 7" class="w-full border-b-2 border-dotted border-gray-400 font-bold bg-transparent">
              <input type="text" data-correct-answer="6 × 100 000 + 0 × 10 000 + 2 × 1 000 + 5 × 100 + 8 × 10 + 7 × 1" class="w-full border-b-2 border-dotted border-gray-400 font-bold bg-transparent">
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Esercizio 2 -->
    <div class="mb-6">
      <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
        <%= numero_esercizio_badge(2) %>
        Collega ciascun numero alla scrittura equivalente.
      </p>

      <div class="space-y-4">
        <div class="flex flex-wrap justify-center gap-4">
          <span class="px-4 py-2 border-2 border-<%= @pagina.base_color %>-400 rounded font-bold">5 699</span>
          <span class="px-4 py-2 border-2 border-<%= @pagina.base_color %>-400 rounded font-bold">69 759</span>
          <span class="px-4 py-2 border-2 border-<%= @pagina.base_color %>-400 rounded font-bold">75 699</span>
        </div>
        <div class="flex flex-wrap justify-center gap-4">
          <span class="px-4 py-2 border-2 border-gray-300 rounded">6 dak + 9 uk + 7 h + 5 da + 9 u</span>
          <span class="px-4 py-2 border-2 border-gray-300 rounded">7 dak + 5 uk + 6 h + 9 da + 9 u</span>
          <span class="px-4 py-2 border-2 border-gray-300 rounded">5 uk + 6 h + 9 da + 9 u</span>
        </div>
      </div>
    </div>

    <!-- Griglia due colonne -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

      <!-- Colonna sinistra -->
      <div class="space-y-6">
        <!-- Esercizio 3 -->
        <div>
          <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
            <%= numero_esercizio_badge(3) %>
            Indica sul quaderno il valore di ogni cifra nei seguenti numeri.
          </p>
          <p class="text-gray-700 dark:text-gray-200">
            243 502 • 3 703 • 898 • 17 613<br>
            90 230 • 68 574 • 30 227 • 287 630
          </p>
        </div>

        <!-- Esercizio 4 -->
        <div>
          <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
            <%= numero_esercizio_badge(4) %>
            Scrivi in lettere i seguenti numeri, poi scrivili come somma di addendi. Esegui sul quaderno.
          </p>
          <p class="text-gray-700 dark:text-gray-200">
            65 857 • 769 031 • 765 304<br>
            908 233 • 768 211 • 53 845
          </p>
        </div>

        <!-- Esercizio 5 -->
        <div>
          <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
            <%= numero_esercizio_badge(5) %>
            Per ogni gruppo, scrivi sul quaderno tutti i numeri che puoi comporre utilizzando una sola volta ognuna delle quattro cifre.
          </p>
          <p class="text-gray-700 mb-2">
            Poi indica il numero maggiore e il numero minore che hai ottenuto per ogni gruppo.
          </p>
          <div class="flex flex-wrap gap-4">
            <span class="px-4 py-2 border-2 border-<%= @pagina.base_color %>-400 rounded">7 • 3 • 5 • 1</span>
            <span class="px-4 py-2 border-2 border-<%= @pagina.base_color %>-400 rounded">9 • 2 • 0 • 4</span>
            <span class="px-4 py-2 border-2 border-<%= @pagina.base_color %>-400 rounded">8 • 6 • 3 • 5</span>
          </div>
        </div>
      </div>

      <!-- Colonna destra -->
      <div class="space-y-6">
        <!-- Esercizio 6 -->
        <div>
          <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
            <%= numero_esercizio_badge(6) %>
            Confronta i numeri e inserisci i segni &lt; o &gt;.
          </p>

          <div class="grid grid-cols-2 gap-4">
            <div class="space-y-2">
              <div class="flex items-center gap-2">
                <span class="whitespace-nowrap">2 710</span>
                <input type="text" data-correct-answer=">" class="w-10 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                <span class="whitespace-nowrap">2 170</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="whitespace-nowrap">5 920</span>
                <input type="text" data-correct-answer=">" class="w-10 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                <span class="whitespace-nowrap">5 902</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="whitespace-nowrap">14 693</span>
                <input type="text" data-correct-answer="<" class="w-10 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                <span class="whitespace-nowrap">19 633</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="whitespace-nowrap">84 934</span>
                <input type="text" data-correct-answer="<" class="w-10 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                <span class="whitespace-nowrap">84 944</span>
              </div>
            </div>
            <div class="space-y-2">
              <div class="flex items-center gap-2">
                <span class="whitespace-nowrap">18 030</span>
                <input type="text" data-correct-answer="<" class="w-10 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                <span class="whitespace-nowrap">18 300</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="whitespace-nowrap">234 590</span>
                <input type="text" data-correct-answer="<" class="w-10 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                <span class="whitespace-nowrap">243 950</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="whitespace-nowrap">124 780</span>
                <input type="text" data-correct-answer=">" class="w-10 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                <span class="whitespace-nowrap">124 680</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="whitespace-nowrap">123 000</span>
                <input type="text" data-correct-answer="<" class="w-10 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                <span class="whitespace-nowrap">132 000</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Esercizio 7 -->
        <div>
          <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
            <%= numero_esercizio_badge(7) %>
            Completa le sequenze scrivendo numeri a tua scelta.
          </p>

          <div class="space-y-3">
            <div class="flex items-center gap-2 flex-wrap">
              <input type="text" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
              <span class="font-bold">&gt;</span>
              <span class="whitespace-nowrap">1 750</span>
              <span class="font-bold">&gt;</span>
              <input type="text" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            </div>
            <div class="flex items-center gap-2 flex-wrap">
              <span class="whitespace-nowrap">34 643</span>
              <span class="font-bold">&gt;</span>
              <input type="text" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
              <span class="font-bold">&gt;</span>
              <span class="whitespace-nowrap">34 612</span>
            </div>
            <div class="flex items-center gap-2 flex-wrap">
              <input type="text" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
              <span class="font-bold">&gt;</span>
              <input type="text" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
              <span class="font-bold">&gt;</span>
              <span class="whitespace-nowrap">183 450</span>
            </div>
          </div>
        </div>

        <!-- Esercizio 8 -->
        <div>
          <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
            <%= numero_esercizio_badge(8) %>
            Confronta i numeri, poi scrivili sul quaderno in ordine crescente.
          </p>
          <p class="text-gray-700 dark:text-gray-200">
            63 000 • 99 999 • 36 000 • 603 000 • 600 300
          </p>
        </div>
      </div>

    </div>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
