<div class="max-w-6xl mx-auto p-6 bg-white rounded-lg shadow-lg" data-controller="exercise-checker">
  <!-- Header -->
  <div class="flex items-center justify-between mb-8 border-b-4 border-purple-500 pb-4">
    <div class="flex items-center gap-4">
      <div class="bg-purple-500 text-white rounded-full w-12 h-12 flex items-center justify-center">
        <span class="text-2xl font-bold">15</span>
      </div>
      <div>
        <div class="text-sm text-purple-600 font-semibold">NUMERI</div>
        <h1 class="text-3xl font-bold text-pink-600">ARROTONDAMENTO O APPROSSIMAZIONE</h1>
      </div>
    </div>
  </div>

  <div class="space-y-8">

    <!-- Problema iniziale -->
    <div class="bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-6 border-l-4 border-blue-500">
      <p class="text-gray-800 leading-relaxed mb-3">
        Laura e Giulia hanno partecipato a una gara di ginnastica ritmica organizzata a scuola.
        Il voto della gara è stato <span class="font-bold text-blue-700">9,28</span> per Laura e <span class="font-bold text-blue-700">9,73</span> per Giulia.
      </p>
      <p class="text-gray-800 leading-relaxed mb-3">
        L'insegnante vuole inserire i voti nel registro, ma può inserire solo numeri con una cifra
        decimale, non con due. Quali numeri inserirà l'insegnante?
      </p>
    </div>

    <!-- Spiegazione -->
    <div class="bg-white rounded-lg shadow-md p-6 border-l-4 border-pink-500">
      <p class="text-gray-800 mb-4">
        Poiché i voti non possono essere inseriti così come sono, occorre fare delle <span class="font-bold text-pink-600">approssimazioni</span>
        (<span class="font-bold">arrotondamenti</span>), cioè sostituire i numeri esatti con numeri "più semplici", ma il più possibile vicini
        a quelli esatti.
      </p>
      <p class="text-gray-800 font-semibold mb-3">
        Per approssimare dobbiamo seguire alcune regole.
      </p>

      <div class="space-y-4">
        <!-- Regola 1 -->
        <div class="bg-pink-50 rounded-lg p-4">
          <p class="text-gray-800">
            <span class="text-pink-600 font-bold">•</span> Innanzitutto dobbiamo stabilire <span class="font-bold text-pink-700">il valore al quale vogliamo arrotondare il numero</span>;
            nel nostro caso i decimi.
          </p>
        </div>

        <!-- Regola 2 -->
        <div class="bg-pink-50 rounded-lg p-4">
          <p class="text-gray-800 mb-2">
            <span class="text-pink-600 font-bold">•</span> Poi dobbiamo osservare la prima cifra che non scriveremo più; nel nostro caso i centesimi:
          </p>
          <div class="ml-6 space-y-2">
            <p class="text-gray-700">
              – se essa è <span class="font-bold text-red-600">maggiore di 5</span>, facciamo un <span class="font-bold text-red-600">arrotondamento per eccesso</span>,
              cioè manteniamo di 1 l'ultima cifra considerata (nel nostro caso i decimi) e sostituiamo con zero le cifre successive.
            </p>
            <p class="text-gray-700 italic pl-4">
              Laura ha ottenuto <span class="font-bold">9,28</span> che arrotondiamo per eccesso a <span class="font-bold text-red-600">9,3</span>.
            </p>
          </div>
        </div>

        <!-- Regola 3 -->
        <div class="bg-pink-50 rounded-lg p-4">
          <p class="text-gray-800 mb-2">
            – se essa è <span class="font-bold text-blue-600">minore di 5</span>, facciamo un <span class="font-bold text-blue-600">arrotondamento per difetto</span>,
            cioè sostituiamo con zero le cifre successive a quella considerata.
          </p>
          <p class="text-gray-700 italic pl-4">
            Giulia ha ottenuto <span class="font-bold">9,73</span> che arrotondiamo per difetto a <span class="font-bold text-blue-600">9,7</span>.
          </p>
        </div>

        <!-- Regola 4 -->
        <div class="bg-pink-50 rounded-lg p-4">
          <p class="text-gray-800">
            – se essa è <span class="font-bold text-purple-600">uguale a 5</span>, possiamo arrotondare per eccesso o per difetto.
          </p>
        </div>
      </div>

      <!-- Box laterale -->
      <div class="mt-6 bg-purple-50 rounded-lg p-4 border-2 border-purple-300">
        <p class="text-sm text-gray-700 mb-2">
          Quando arrotondiamo <span class="font-bold">per eccesso</span>, il numero approssimato è <span class="font-bold text-red-600">maggiore</span> del numero esatto; quando arrotondiamo <span class="font-bold">per difetto</span>, il numero approssimato è <span class="font-bold text-blue-600">minore</span> del numero esatto.
        </p>
      </div>
    </div>

    <!-- Risposta -->
    <div class="bg-gradient-to-br from-cyan-50 to-cyan-100 rounded-lg p-4 border-l-4 border-cyan-500">
      <p class="text-gray-800">
        Ora puoi rispondere: L'insegnante inserirà <span class="font-bold text-blue-700">9,7</span> per Giulia e <span class="font-bold text-red-700">9,3</span> per Laura.
      </p>
    </div>

    <!-- Sezione ESERCIZI -->
    <div class="bg-gradient-to-r from-pink-500 to-pink-600 text-white rounded-t-lg px-6 py-3 mt-8">
      <h2 class="text-2xl font-bold">ESERCIZI</h2>
    </div>

    <!-- Exercise 1: Arrotonda ai decimi -->
    <div class="bg-white rounded-lg shadow-lg p-8 border-l-4 border-blue-500">
      <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-3">
        <span class="bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold">1</span>
        <span>Arrotonda ai decimi i seguenti numeri. Poi cerchia con il rosso quelli che hai arrotondato per eccesso e in blu quelli che hai arrotondato per difetto.</span>
      </h3>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <div class="bg-blue-50 rounded-lg p-4">
          <div class="flex items-center gap-3 mb-2">
            <span class="text-lg font-bold text-gray-700">3,14 →</span>
            <input type="text"
                   data-correct-answer="3,1"
                   class="w-20 px-3 py-2 border-2 border-blue-300 rounded focus:border-blue-500 focus:outline-none text-center text-lg">
          </div>
          <p class="text-xs text-gray-500">Arrotondamento per difetto (blu)</p>
        </div>

        <div class="bg-blue-50 rounded-lg p-4">
          <div class="flex items-center gap-3 mb-2">
            <span class="text-lg font-bold text-gray-700">18,25 →</span>
            <input type="text"
                   data-correct-answer="18,3"
                   class="w-20 px-3 py-2 border-2 border-blue-300 rounded focus:border-blue-500 focus:outline-none text-center text-lg">
          </div>
          <p class="text-xs text-gray-500">Arrotondamento per eccesso (rosso)</p>
        </div>

        <div class="bg-blue-50 rounded-lg p-4">
          <div class="flex items-center gap-3 mb-2">
            <span class="text-lg font-bold text-gray-700">4,44 →</span>
            <input type="text"
                   data-correct-answer="4,4"
                   class="w-20 px-3 py-2 border-2 border-blue-300 rounded focus:border-blue-500 focus:outline-none text-center text-lg">
          </div>
          <p class="text-xs text-gray-500">Arrotondamento per difetto (blu)</p>
        </div>

        <div class="bg-blue-50 rounded-lg p-4">
          <div class="flex items-center gap-3 mb-2">
            <span class="text-lg font-bold text-gray-700">12,356 →</span>
            <input type="text"
                   data-correct-answer="12,4"
                   class="w-20 px-3 py-2 border-2 border-blue-300 rounded focus:border-blue-500 focus:outline-none text-center text-lg">
          </div>
          <p class="text-xs text-gray-500">Arrotondamento per eccesso (rosso)</p>
        </div>

        <div class="bg-blue-50 rounded-lg p-4">
          <div class="flex items-center gap-3 mb-2">
            <span class="text-lg font-bold text-gray-700">33,235 →</span>
            <input type="text"
                   data-correct-answer="33,2"
                   class="w-20 px-3 py-2 border-2 border-blue-300 rounded focus:border-blue-500 focus:outline-none text-center text-lg">
          </div>
          <p class="text-xs text-gray-500">Arrotondamento per difetto (blu)</p>
        </div>

        <div class="bg-blue-50 rounded-lg p-4">
          <div class="flex items-center gap-3 mb-2">
            <span class="text-lg font-bold text-gray-700">6,38 →</span>
            <input type="text"
                   data-correct-answer="6,4"
                   class="w-20 px-3 py-2 border-2 border-blue-300 rounded focus:border-blue-500 focus:outline-none text-center text-lg">
          </div>
          <p class="text-xs text-gray-500">Arrotondamento per eccesso (rosso)</p>
        </div>
      </div>
    </div>

    <!-- Exercise 2: Arrotonda all'unità -->
    <div class="bg-white rounded-lg shadow-lg p-8 border-l-4 border-green-500">
      <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-3">
        <span class="bg-green-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold">2</span>
        <span>Arrotonda all'unità i seguenti numeri. Poi cerchia con il rosso quelli che hai arrotondato per eccesso e in blu quelli che hai arrotondato per difetto.</span>
      </h3>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <div class="bg-green-50 rounded-lg p-4">
          <div class="flex items-center gap-3 mb-2">
            <span class="text-lg font-bold text-gray-700">14,8 →</span>
            <input type="text"
                   data-correct-answer="15"
                   class="w-16 px-3 py-2 border-2 border-green-300 rounded focus:border-green-500 focus:outline-none text-center text-lg">
          </div>
          <p class="text-xs text-gray-500">Arrotondamento per eccesso (rosso)</p>
        </div>

        <div class="bg-green-50 rounded-lg p-4">
          <div class="flex items-center gap-3 mb-2">
            <span class="text-lg font-bold text-gray-700">5,61 →</span>
            <input type="text"
                   data-correct-answer="6"
                   class="w-16 px-3 py-2 border-2 border-green-300 rounded focus:border-green-500 focus:outline-none text-center text-lg">
          </div>
          <p class="text-xs text-gray-500">Arrotondamento per eccesso (rosso)</p>
        </div>

        <div class="bg-green-50 rounded-lg p-4">
          <div class="flex items-center gap-3 mb-2">
            <span class="text-lg font-bold text-gray-700">24,18 →</span>
            <input type="text"
                   data-correct-answer="24"
                   class="w-16 px-3 py-2 border-2 border-green-300 rounded focus:border-green-500 focus:outline-none text-center text-lg">
          </div>
          <p class="text-xs text-gray-500">Arrotondamento per difetto (blu)</p>
        </div>

        <div class="bg-green-50 rounded-lg p-4">
          <div class="flex items-center gap-3 mb-2">
            <span class="text-lg font-bold text-gray-700">45,23 →</span>
            <input type="text"
                   data-correct-answer="45"
                   class="w-16 px-3 py-2 border-2 border-green-300 rounded focus:border-green-500 focus:outline-none text-center text-lg">
          </div>
          <p class="text-xs text-gray-500">Arrotondamento per difetto (blu)</p>
        </div>

        <div class="bg-green-50 rounded-lg p-4">
          <div class="flex items-center gap-3 mb-2">
            <span class="text-lg font-bold text-gray-700">18,234 →</span>
            <input type="text"
                   data-correct-answer="18"
                   class="w-16 px-3 py-2 border-2 border-green-300 rounded focus:border-green-500 focus:outline-none text-center text-lg">
          </div>
          <p class="text-xs text-gray-500">Arrotondamento per difetto (blu)</p>
        </div>

        <div class="bg-green-50 rounded-lg p-4">
          <div class="flex items-center gap-3 mb-2">
            <span class="text-lg font-bold text-gray-700">23,843 →</span>
            <input type="text"
                   data-correct-answer="24"
                   class="w-16 px-3 py-2 border-2 border-green-300 rounded focus:border-green-500 focus:outline-none text-center text-lg">
          </div>
          <p class="text-xs text-gray-500">Arrotondamento per eccesso (rosso)</p>
        </div>
      </div>
    </div>

    <!-- Exercise Controls -->
    <%= render 'shared/exercise_controls', color: 'purple', current_page: 'nvi5_mat_p015' %>

  </div>
</div>
