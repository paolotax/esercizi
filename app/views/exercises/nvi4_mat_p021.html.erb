<div class="max-w-6xl mx-auto bg-white dark:bg-gray-900 p-3 md:p-6 transition-colors duration-300"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">

    <!-- Prima regola: confrontare cifre -->
    <div class="text-gray-700">
      <div class="flex flex-col md:flex-row gap-6 items-start">
        <p class="flex-1">
          <span class="text-<%= @pagina.base_color %>-500">●</span>
          Per confrontare due numeri interi e stabilire qual è il maggiore o il minore, osserva da quante cifre è costituito ciascun numero: tra due numeri <span class="font-bold">è maggiore il numero che ha più cifre</span>.
        </p>

        <div class="flex flex-col md:flex-row items-center justify-center gap-4 shrink-0 w-full md:w-auto">
          <div class="flex gap-8">
            <div class="text-center">
              <span class="font-bold">34 876</span>
              <p class="text-<%= @pagina.base_color %>-500">↓</p>
              <p>5 <span class="font-bold">cifre</span></p>
            </div>
            <div class="text-center">
              <span class="font-bold">9 879</span>
              <p class="text-<%= @pagina.base_color %>-500">↓</p>
              <p>4 <span class="font-bold">cifre</span></p>
            </div>
          </div>
          <table class="border-collapse bg-white dark:bg-gray-700 text-center">
            <tr>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 whitespace-nowrap">34 876 <span class="font-bold text-<%= @pagina.base_color %>-600">&gt;</span> 9 879</td>
            </tr>
            <tr>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 whitespace-nowrap">9 879 <span class="font-bold text-<%= @pagina.base_color %>-600">&lt;</span> 34 876</td>
            </tr>
          </table>
        </div>
      </div>
    </div>

    <!-- Seconda regola: stesso numero di cifre -->
    <div class="text-gray-700">
      <div class="flex flex-col md:flex-row gap-6 items-start">
        <p class="flex-1">
          <span class="text-<%= @pagina.base_color %>-500">●</span>
          Se due numeri hanno lo stesso numero di cifre, confronta la prima cifra: è maggiore il numero con la cifra più alta.
        </p>

        <div class="flex flex-col md:flex-row items-center justify-center gap-4 shrink-0 w-full md:w-auto">
          <table class="border-collapse bg-white dark:bg-gray-700 text-center">
            <tr>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 font-bold text-<%= @pagina.base_color %>-600">5</td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600">4</td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600">6</td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600">7</td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600">3</td>
            </tr>
            <tr>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 font-bold text-<%= @pagina.base_color %>-600">7</td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600">8</td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600">9</td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600">7</td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600">8</td>
            </tr>
          </table>
          <table class="border-collapse bg-white dark:bg-gray-700 text-center">
            <tr>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 font-bold text-<%= @pagina.base_color %>-600 whitespace-nowrap" rowspan="2">5 &lt; 7</td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 whitespace-nowrap">54 673 <span class="font-bold text-red-500">&lt;</span> 78 978</td>
            </tr>
            <tr>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 whitespace-nowrap">78 978 <span class="font-bold text-red-500">&gt;</span> 54 673</td>
            </tr>
          </table>
        </div>
      </div>
    </div>

    <!-- Terza regola: confrontare la seconda cifra -->
    <div class="text-gray-700">
      <div class="flex flex-col md:flex-row gap-6 items-start">
        <p class="flex-1">
          <span class="text-<%= @pagina.base_color %>-500">●</span>
          Se la prima cifra è uguale devi confrontare la seconda cifra.
        </p>

        <div class="flex flex-col md:flex-row items-center justify-center gap-4 shrink-0 w-full md:w-auto">
          <table class="border-collapse bg-white dark:bg-gray-700 text-center">
            <tr>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600">7</td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 font-bold text-<%= @pagina.base_color %>-600">8</td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600">9</td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600">7</td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600">8</td>
            </tr>
            <tr>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600">7</td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 font-bold text-<%= @pagina.base_color %>-600">6</td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600">4</td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600">3</td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600">2</td>
            </tr>
          </table>
          <table class="border-collapse bg-white dark:bg-gray-700 text-center">
            <tr>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 font-bold text-<%= @pagina.base_color %>-600 whitespace-nowrap" rowspan="2">8 &gt; 6</td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 whitespace-nowrap">78 978 <span class="font-bold text-red-500">&gt;</span> 76 432</td>
            </tr>
            <tr>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 whitespace-nowrap">76 432 <span class="font-bold text-red-500">&lt;</span> 78 978</td>
            </tr>
          </table>
        </div>
      </div>
    </div>

    <!-- Domanda interattiva -->
    <div class="text-gray-700">
      <div class="flex flex-col md:flex-row gap-6 items-start">
        <p class="flex-1">
          <span class="text-<%= @pagina.base_color %>-500">•</span>
          <span class="font-bold">Come puoi procedere per confrontare 65 836 e 65 543?</span>
        </p>

        <div class="flex flex-col md:flex-row items-center justify-center gap-4 shrink-0 w-full md:w-auto">
          <table class="border-collapse bg-white dark:bg-gray-700 text-center">
            <tr>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600">
                <input type="text" data-correct-answer="6" class="w-6 border-none text-center font-bold bg-transparent">
              </td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600">
                <input type="text" data-correct-answer="5" class="w-6 border-none text-center font-bold bg-transparent">
              </td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 font-bold text-<%= @pagina.base_color %>-600">
                <input type="text" data-correct-answer="8" class="w-6 border-none text-center font-bold bg-transparent">
              </td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600">
                <input type="text" data-correct-answer="3" class="w-6 border-none text-center font-bold bg-transparent">
              </td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600">
                <input type="text" data-correct-answer="6" class="w-6 border-none text-center font-bold bg-transparent">
              </td>
            </tr>
            <tr>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600">
                <input type="text" data-correct-answer="6" class="w-6 border-none text-center font-bold bg-transparent">
              </td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600">
                <input type="text" data-correct-answer="5" class="w-6 border-none text-center font-bold bg-transparent">
              </td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 font-bold text-<%= @pagina.base_color %>-600">
                <input type="text" data-correct-answer="5" class="w-6 border-none text-center font-bold bg-transparent">
              </td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600">
                <input type="text" data-correct-answer="4" class="w-6 border-none text-center font-bold bg-transparent">
              </td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600">
                <input type="text" data-correct-answer="3" class="w-6 border-none text-center font-bold bg-transparent">
              </td>
            </tr>
          </table>
          <table class="border-collapse bg-white dark:bg-gray-700 text-center">
            <tr>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 font-bold text-<%= @pagina.base_color %>-600 whitespace-nowrap" rowspan="2">
                <input type="text" data-correct-answer="8 > 5" class="w-16 border-none text-center font-bold bg-transparent">
              </td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 whitespace-nowrap">
                <input type="text" data-correct-answer="65836 > 65543" class="w-44 border-none text-center font-bold bg-transparent">
              </td>
            </tr>
            <tr>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 whitespace-nowrap">
                <input type="text" data-correct-answer="65543 < 65836" class="w-44 border-none text-center font-bold bg-transparent">
              </td>
            </tr>
          </table>
        </div>
      </div>
    </div>

    <!-- Ordine crescente e decrescente -->
    <div class="text-gray-700 space-y-4">
      <p>I numeri possono essere ordinati in <span class="font-bold">ordine crescente</span> o <span class="font-bold">decrescente</span>.</p>

      <div class="overflow-x-auto">
        <div class="flex justify-center">
          <%= image_tag "nvi4_mat/p021/p021_01.jpg", alt: "Ordine crescente e decrescente", class: "w-[800px] h-auto" %>
        </div>
      </div>
    </div>

    <!-- Container ESERCIZI -->
    <div class="p-4 md:p-6 bg-orange-100 dark:bg-orange-900/30 rounded-2xl">

      <div class="bg-<%= @pagina.base_color %>-600 text-white px-4 py-2 rounded-lg inline-block font-bold mb-4">
        ESERCIZI
      </div>

      <!-- Esercizio 1 -->
      <div class="mb-8">
        <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
          <%= numero_esercizio_badge(1) %>
          Confronta i numeri e inserisci tra le coppie i segni <span class="text-<%= @pagina.base_color %>-600">&lt;</span> oppure <span class="text-<%= @pagina.base_color %>-600">&gt;</span>.
        </p>

        <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
          <div class="flex items-center gap-2">
            <span class="whitespace-nowrap">23 567</span>
            <input type="text" data-correct-answer=">" class="w-10 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            <span class="whitespace-nowrap">2 356</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="whitespace-nowrap">45 899</span>
            <input type="text" data-correct-answer="<" class="w-10 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            <span class="whitespace-nowrap">45 999</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="whitespace-nowrap">265 000</span>
            <input type="text" data-correct-answer="<" class="w-10 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            <span class="whitespace-nowrap">265 001</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="whitespace-nowrap">69 999</span>
            <input type="text" data-correct-answer=">" class="w-10 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            <span class="whitespace-nowrap">7 000</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="whitespace-nowrap">247 800</span>
            <input type="text" data-correct-answer="<" class="w-10 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            <span class="whitespace-nowrap">267 800</span>
          </div>
        </div>
      </div>

      <!-- Esercizio 2 -->
      <div class="mb-8">
        <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
          <%= numero_esercizio_badge(2) %>
          Riordina i numeri in ordine crescente (trascina per riordinare).
        </p>
        <div data-controller="sortable" data-sortable-mode-value="numeric-asc">
          <div class="flex flex-wrap gap-2" data-sortable-target="container">
            <span class="px-2 py-1 bg-transparent border-2 border-cyan-400 dark:border-cyan-600 rounded cursor-grab"
                  data-sortable-target="item"
                  data-sortable-value="39608">39 608</span>
            <span class="px-2 py-1 bg-transparent border-2 border-cyan-400 dark:border-cyan-600 rounded cursor-grab"
                  data-sortable-target="item"
                  data-sortable-value="39860">39 860</span>
            <span class="px-2 py-1 bg-transparent border-2 border-cyan-400 dark:border-cyan-600 rounded cursor-grab"
                  data-sortable-target="item"
                  data-sortable-value="139608">139 608</span>
            <span class="px-2 py-1 bg-transparent border-2 border-cyan-400 dark:border-cyan-600 rounded cursor-grab"
                  data-sortable-target="item"
                  data-sortable-value="93608">93 608</span>
            <span class="px-2 py-1 bg-transparent border-2 border-cyan-400 dark:border-cyan-600 rounded cursor-grab"
                  data-sortable-target="item"
                  data-sortable-value="390680">390 680</span>
            <span class="px-2 py-1 bg-transparent border-2 border-cyan-400 dark:border-cyan-600 rounded cursor-grab"
                  data-sortable-target="item"
                  data-sortable-value="309608">309 608</span>
            <span class="px-2 py-1 bg-transparent border-2 border-cyan-400 dark:border-cyan-600 rounded cursor-grab"
                  data-sortable-target="item"
                  data-sortable-value="193608">193 608</span>
            <span class="px-2 py-1 bg-transparent border-2 border-cyan-400 dark:border-cyan-600 rounded cursor-grab"
                  data-sortable-target="item"
                  data-sortable-value="193086">193 086</span>
            <span class="px-2 py-1 bg-transparent border-2 border-cyan-400 dark:border-cyan-600 rounded cursor-grab"
                  data-sortable-target="item"
                  data-sortable-value="319086">319 086</span>
          </div>
        </div>
      </div>

      <!-- Esercizio 3 -->
      <div>
        <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
          <%= numero_esercizio_badge(3) %>
          Riordina i numeri in ordine decrescente (trascina per riordinare).
        </p>
        <div data-controller="sortable" data-sortable-mode-value="numeric-desc">
          <div class="flex flex-wrap gap-2" data-sortable-target="container">
            <span class="px-2 py-1 bg-transparent border-2 border-cyan-400 dark:border-cyan-600 rounded cursor-grab"
                  data-sortable-target="item"
                  data-sortable-value="15702">15 702</span>
            <span class="px-2 py-1 bg-transparent border-2 border-cyan-400 dark:border-cyan-600 rounded cursor-grab"
                  data-sortable-target="item"
                  data-sortable-value="15072">15 072</span>
            <span class="px-2 py-1 bg-transparent border-2 border-cyan-400 dark:border-cyan-600 rounded cursor-grab"
                  data-sortable-target="item"
                  data-sortable-value="150720">150 720</span>
            <span class="px-2 py-1 bg-transparent border-2 border-cyan-400 dark:border-cyan-600 rounded cursor-grab"
                  data-sortable-target="item"
                  data-sortable-value="105720">105 720</span>
            <span class="px-2 py-1 bg-transparent border-2 border-cyan-400 dark:border-cyan-600 rounded cursor-grab"
                  data-sortable-target="item"
                  data-sortable-value="150270">150 270</span>
            <span class="px-2 py-1 bg-transparent border-2 border-cyan-400 dark:border-cyan-600 rounded cursor-grab"
                  data-sortable-target="item"
                  data-sortable-value="250710">250 710</span>
            <span class="px-2 py-1 bg-transparent border-2 border-cyan-400 dark:border-cyan-600 rounded cursor-grab"
                  data-sortable-target="item"
                  data-sortable-value="105702">105 702</span>
            <span class="px-2 py-1 bg-transparent border-2 border-cyan-400 dark:border-cyan-600 rounded cursor-grab"
                  data-sortable-target="item"
                  data-sortable-value="10752">10 752</span>
            <span class="px-2 py-1 bg-transparent border-2 border-cyan-400 dark:border-cyan-600 rounded cursor-grab"
                  data-sortable-target="item"
                  data-sortable-value="510720">510 720</span>
          </div>
        </div>
      </div>

    </div>

    <%= render 'shared/quaderno_link', pagine: [177] %>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
