<div class="max-w-6xl mx-auto bg-white dark:bg-gray-900 p-3 md:p-6 transition-colors duration-300"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">

    <!-- Box teoria principale -->
    <div class="p-4 md:p-6 bg-white rounded-2xl border-3 border-blue-800">
      <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
        <span class="text-<%= @pagina.base_color %>-500">â€¢</span> Leggi e osserva.
      </p>

      <!-- IN RIGA -->
      <div class="mb-6">
        <h2 class="font-bold italic text-<%= @pagina.base_color %>-600 mb-3">IN RIGA</h2>
        <div class="flex items-center gap-4 flex-wrap">
            <p class="font-bold"><span class="text-cyan-600">4</span><span class="text-cyan-600">5</span> : <span class="text-cyan-600">9</span> = <span class="text-cyan-600">5</span></p>
            <p class="text-gray-700 dark:text-gray-200">Conta quante volte il 5 sta nel 45. Ci sta 9 volte, perch&eacute; <span class="font-bold">5 &times; 9 = 45</span>.</p>
          </div>
      </div>

      <!-- IN COLONNA CON IL DIVISORE DI UNA CIFRA -->
      <div class="mb-6">
        <h2 class="font-bold italic text-<%= @pagina.base_color %>-600 mb-4">IN COLONNA CON IL DIVISORE DI UNA CIFRA</h2>

        <!-- Prima parte della divisione -->
        <div class="flex gap-6 mb-4">
          <div class="w-44 shrink-0 flex justify-center items-start">
            <%= image_tag "nvi4_mat/p043/p043_01.jpg", alt: "Divisione 227:4 prima parte", class: "w-full" %>
          </div>
          <div>
            <ul class="list-disc pl-6 space-y-2 text-gray-700 marker:text-<%= @pagina.base_color %>-500">
              <li>Considera la prima cifra del dividendo: 2 &egrave; minore di 4 quindi devi considerare le prime due cifre del dividendo (22).</li>
              <li>Conta quante volte il 4 sta nel 22: ci sta 5 volte. Scrivi 5 nel risultato.</li>
              <li>Calcola il resto: moltiplica 5 per il divisore (5 &times; 4 = 20).<br>Scrivilo sotto il 22 ed esegui la sottrazione (22 &minus; 20 = 2).</li>
            </ul>
          </div>
        </div>

        <div class="flex justify-center my-4">
          <span class="text-<%= @pagina.base_color %>-500 font-bold text-2xl">&#9660;</span>
        </div>

        <!-- Seconda parte della divisione -->
        <div class="flex gap-6">
          <div class="w-44 shrink-0 flex justify-center items-start">
            <%= image_tag "nvi4_mat/p043/p043_02.jpg", alt: "Divisione 227:4 seconda parte", class: "w-full" %>
          </div>
          <div>
            <ul class="list-disc pl-6 space-y-2 text-gray-700 marker:text-<%= @pagina.base_color %>-500">
              <li>Trascrivi le unit&agrave; accanto al resto.</li>
              <li>Conta quante volte il 4 sta nel 27: ci sta 6 volte. Scrivi 6 nel risultato.</li>
              <li>Calcola il resto: moltiplica 6 per il divisore (6 &times; 4 = 24).<br>Scrivilo sotto il 27 ed esegui la sottrazione (27 &minus; 24 = 3).</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- IN COLONNA CON IL DIVISORE DI DUE CIFRE -->
      <div>
        <h2 class="font-bold italic text-<%= @pagina.base_color %>-600 mb-4">IN COLONNA CON IL DIVISORE DI DUE CIFRE</h2>

        <!-- Prima parte della divisione -->
        <div class="flex gap-6 mb-4">
          <div class="w-44 shrink-0 flex justify-center items-start">
            <%= image_tag "nvi4_mat/p043/p043_03.jpg", alt: "Divisione 283:12 prima parte", class: "w-full" %>
          </div>
          <div>
            <ul class="list-disc pl-6 space-y-2 text-gray-700 marker:text-<%= @pagina.base_color %>-500">
              <li>Il divisore &egrave; di due cifre (12) perci&ograve; considera due cifre al dividendo (28): va bene perch&eacute; 28 &egrave; maggiore di 12.</li>
              <li>Conta quante volte l'1 sta nel 2: ci sta 2 volte. Il 2 sta nell'8 almeno 2 volte? S&igrave;! Scrivi 2 nel risultato.</li>
              <li>Calcola il resto: moltiplica 2 per il divisore (2 &times; 12 = 24).<br>Scrivilo sotto il 28 ed esegui la sottrazione (28 &minus; 24 = 4).</li>
            </ul>
          </div>
        </div>

        <div class="flex justify-center my-4">
          <span class="text-<%= @pagina.base_color %>-500 font-bold text-2xl">&#9660;</span>
        </div>

        <!-- Seconda parte della divisione -->
        <div class="flex gap-6">
          <div class="w-44 shrink-0 flex justify-center items-start">
            <%= image_tag "nvi4_mat/p043/p043_04.jpg", alt: "Divisione 283:12 seconda parte", class: "w-full" %>
          </div>
          <div>
            <ul class="list-disc pl-6 space-y-2 text-gray-700 marker:text-<%= @pagina.base_color %>-500">
              <li>Trascrivi le unit&agrave; accanto al resto.</li>
              <li>Conta quante volte l'1 sta nel 4: ci sta 4 volte. Il 2 sta nel 3 almeno 4 volte?<br>No! Allora prova una volta di meno.</li>
              <li>L'1 nel 4 sta 3 volte con il resto di una decina che aggiunta alle 3 unit&agrave; fa 13.<br>Il 2 sta nel 13 almeno 3 volte? S&igrave;! Scrivi 3 nel risultato.</li>
              <li>Calcola il resto: moltiplica 3 per il divisore (3 &times; 12 = 36).<br>Scrivilo sotto il 43 ed esegui la sottrazione (43 &minus; 36 = 7).</li>
            </ul>
          </div>
        </div>
      </div>

    </div>

    <%= render 'shared/quaderno_link', pagine: [190, 191] %>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
