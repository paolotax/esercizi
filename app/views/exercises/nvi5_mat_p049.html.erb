<div class="max-w-6xl mx-auto p-3 md:p-6"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">
  
  <!-- Header -->
  <%= render 'shared/page_header', pagina: @pagina %>
  
  <!-- Esercizio 1 -->
  <div class="p-4 sm:p-6 mb-6">  
    <div class="flex items-start gap-3 mb-4">  
      <div class=" text-white   flex items-center justify-center font-bold">         1
      </div>
      <p class=" font-semibold text-purple-800 pt-1">
        Calcola le espressioni seguendo l'ordine corretto delle operazioni.
      </p>
    </div>
    <div class="space-y-4 ml-11">  
      <div class="p-4">         
        <p class="font-mono  mb-2">a) 15 Ã— 3 + 8 =
          <input type="text"
                 data-correct-answer="53"
                 class=" px-2 py-2 border-2 border-purple-300  focus:border-purple-500 focus:outline-none text-center"></p>
        <p class=" text-gray-600 italic">Ricorda: prima moltiplicazioni, poi addizioni</p>
      </div>
      <div class="p-4">         
        <p class="font-mono  mb-2">b) (12 + 8) : 5 =
          <input type="text"
                 data-correct-answer="4"
                 class=" px-2 py-2 border-2 border-purple-300  focus:border-purple-500 focus:outline-none text-center"></p>
      </div>
      <div class="p-4">         
        <p class="font-mono  mb-2">c) 30 - 12 : 3 =
          <input type="text"
                 data-correct-answer="26"
                 class=" px-2 py-2 border-2 border-purple-300  focus:border-purple-500 focus:outline-none text-center"></p>
      </div>
      <div class="p-4">         
        <p class="font-mono  mb-2">d) 4 Ã— (9 - 2) + 1 =
          <input type="text"
                 data-correct-answer="29"
                 class=" px-2 py-2 border-2 border-purple-300  focus:border-purple-500 focus:outline-none text-center"></p>
      </div>
      <div class="p-4">         
        <p class="font-mono  mb-2">e) 48 : 6 + 3 Ã— 4 =
          <input type="text"
                 data-correct-answer="20"
                 class=" px-2 py-2 border-2 border-purple-300  focus:border-purple-500 focus:outline-none text-center"></p>
      </div>
    </div>
  </div>
  <!-- Esercizio 2 -->
  <div class="p-4 sm:p-6 mb-6">  
    <div class="flex items-start gap-3 mb-4">  
      <div class=" text-white   flex items-center justify-center font-bold">         2
      </div>
      <p class=" font-semibold text-blue-800 pt-1">
        Cerchia i numeri divisibili per 2, sottolinea quelli divisibili per 5.
      </p>
    </div>
    <div class="p-6 ml-11">  
      <div class="flex flex-wrap gap-3 justify-center">         <span class="bg-white border-2 border-blue-300 px-4 py-2  font-bold  cursor-pointer hover:bg-blue-100 transition"
              data-controller="word-highlighter"
              data-action="click->word-highlighter#toggleHighlight"
          data-correct-value="true">48</span>
        <span class="bg-white border-2 border-blue-300 px-4 py-2  font-bold  cursor-pointer hover:bg-blue-100 transition"
              data-controller="word-highlighter"
              data-action="click->word-highlighter#toggleHighlight"
          data-correct-value="false">125</span>
        <span class="bg-white border-2 border-blue-300 px-4 py-2  font-bold  cursor-pointer hover:bg-blue-100 transition"
              data-controller="word-highlighter"
              data-action="click->word-highlighter#toggleHighlight"
          data-correct-value="false">73</span>
        <span class="bg-white border-2 border-blue-300 px-4 py-2  font-bold  cursor-pointer hover:bg-blue-100 transition"
              data-controller="word-highlighter"
              data-action="click->word-highlighter#toggleHighlight"
          data-correct-value="true">90</span>
        <span class="bg-white border-2 border-blue-300 px-4 py-2  font-bold  cursor-pointer hover:bg-blue-100 transition"
              data-controller="word-highlighter"
              data-action="click->word-highlighter#toggleHighlight"
          data-correct-value="true">156</span>
        <span class="bg-white border-2 border-blue-300 px-4 py-2  font-bold  cursor-pointer hover:bg-blue-100 transition"
              data-controller="word-highlighter"
              data-action="click->word-highlighter#toggleHighlight"
          data-correct-value="false">211</span>
        <span class="bg-white border-2 border-blue-300 px-4 py-2  font-bold  cursor-pointer hover:bg-blue-100 transition"
              data-controller="word-highlighter"
              data-action="click->word-highlighter#toggleHighlight"
          data-correct-value="true">380</span>
      </div>
    </div>
  </div>
  <!-- Esercizio 3 -->
  <div class="p-4 sm:p-6 mb-6">  
    <div class="flex items-start gap-3 mb-4">  
      <div class=" text-white   flex items-center justify-center font-bold">         3
      </div>
      <p class=" font-semibold text-green-800 pt-1">
        Colora i numeri primi da 1 a 30.
      </p>
    </div>
    <div class="p-6 ml-11">  
      <div class="grid grid-cols-6 sm:grid-cols-10 gap-2">         <% prime_numbers = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29] %>
        <% (1..30).each do |num| %>
          <div class="aspect-square flex items-center justify-center font-bold  sm: hover:cursor-pointer transition"                data-controller="word-highlighter"
               data-action="click->word-highlighter#toggleHighlight"
            data-correct-value="<%= prime_numbers.include?(num) ? 'true' : 'false' %>">
            <%= num %>
          </div>
        <% end %>
      </div>
      <p class=" text-gray-600 italic mt-3">
        ðŸ’¡ Ricorda: i numeri primi sono divisibili solo per 1 e per se stessi
      </p>
    </div>
  </div>
  <!-- Esercizio 4 -->
  <div class="p-4 sm:p-6 mb-6">  
    <div class="flex items-start gap-3 mb-4">  
      <div class=" text-white   flex items-center justify-center font-bold">         4
      </div>
      <p class=" font-semibold text-orange-800 pt-1">
        Scomponi i seguenti numeri in fattori primi.
      </p>
    </div>
    <div class="space-y-4 ml-11">  
      <div class="p-4">         
        <p class="font-bold  mb-2">a) 24 =
          <input type="text"
                 data-correct-answer="2 Ã— 2 Ã— 2 Ã— 3"
                 class=" px-2 py-2 border-2 border-orange-300  focus:border-orange-500 focus:outline-none text-center"></p>
        <div class="flex items-center gap-2  text-gray-600 mt-2">           <span class="bg-white px-2 py-1  border border-orange-300">24</span>
          <span>â†’</span>
          <span class="bg-white px-2 py-1  border border-orange-300">12</span>
          <span>â†’</span>
          <span class="bg-white px-2 py-1  border border-orange-300">6</span>
          <span>â†’</span>
          <span class="bg-white px-2 py-1  border border-orange-300">3</span>
        </div>
      </div>
      <div class="p-4">         
        <p class="font-bold  mb-2">b) 36 =
          <input type="text"
                 data-correct-answer="2 Ã— 2 Ã— 3 Ã— 3"
                 class=" px-2 py-2 border-2 border-orange-300  focus:border-orange-500 focus:outline-none text-center"></p>
      </div>
      <div class="p-4">         
        <p class="font-bold  mb-2">c) 60 =
          <input type="text"
                 data-correct-answer="2 Ã— 2 Ã— 3 Ã— 5"
                 class=" px-2 py-2 border-2 border-orange-300  focus:border-orange-500 focus:outline-none text-center"></p>
      </div>
      <div class="p-4">         
        <p class="font-bold  mb-2">d) 75 =
          <input type="text"
                 data-correct-answer="3 Ã— 5 Ã— 5"
                 class=" px-2 py-2 border-2 border-orange-300  focus:border-orange-500 focus:outline-none text-center"></p>
      </div>
    </div>
  </div>
  <%= image_tag "p049_01.jpg", alt: "Esercizi aggiuntivi" rescue nil %>
  <!-- Exercise Controls -->
  <%= render 'shared/exercise_controls', color: 'purple', current_page: 'nvi5_mat_p049' %>
</div>
