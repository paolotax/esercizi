<div class="max-w-6xl mx-auto p-3 md:p-6"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <!-- Header -->
  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">

    <!-- I numeri grandi -->
    <div class="p-4 md:p-6">
      <h2 class="font-bold text-pink-600 mb-4">I numeri grandi</h2>

      <p class="text-gray-700 mb-4">
        I numeri romani non prevedevano lo zero. Per indicare le migliaia, i Romani scrivevano una barra orizzontale
        sopra la lettera o il gruppo di lettere, e così il suo valore si moltiplicava per 1000:
      </p>

      <div class="flex flex-wrap justify-around items-center gap-6 my-6">
        <div class="text-center">
          <span class="font-bold text-cyan-500 inline-block border-t-2 border-pink-600 pt-1">V</span>
          <span class="font-bold text-cyan-500"> = <span class="whitespace-nowrap">5 000</span></span>
        </div>
        <div class="text-center">
          <span class="font-bold text-cyan-500 inline-block border-t-2 border-pink-600 pt-1">X</span>
          <span class="font-bold text-cyan-500"> = <span class="whitespace-nowrap">10 000</span></span>
        </div>
        <div class="text-center">
          <span class="font-bold text-cyan-500 inline-block border-t-2 border-pink-600 pt-1">LXXIII</span>
          <span class="font-bold text-cyan-500"> = <span class="whitespace-nowrap">73 000</span></span>
        </div>
      </div>

      <p class="text-gray-700">
        Altri segni erano usati per indicare le centinaia di migliaia e i milioni.
      </p>
    </div>

    <!-- Usi moderni -->
    <div class="p-4 md:p-6 bg-white border-3 border-blue-500 rounded-3xl">
      <div>
        <p class="text-gray-700 font-bold mb-3">I numeri romani si usano ancora oggi. Si possono trovare scritti</p>
        <ul class="space-y-2 text-gray-700">
          <li><span class="text-pink-600">&#8226;</span> per indicare i secoli: <span class="italic">Nel XX secolo</span></li>
          <li><span class="text-pink-600">&#8226;</span> nei nomi di papi e re: <span class="italic">papa Giovanni XIII, re Carlo III del Regno Unito</span></li>
          <li><span class="text-pink-600">&#8226;</span> sulle targhe di strade e piazze: <span class="italic">Piazza XXV Aprile</span></li>
          <li><span class="text-pink-600">&#8226;</span> sulle pietre miliari</li>
          <li><span class="text-pink-600">&#8226;</span> su alcuni orologi</li>
        </ul>
      </div>
    </div>

    <!-- ESERCIZI -->
    <div class="p-4 md:p-6 bg-orange-100 rounded-lg">
      <h2 class="font-bold text-pink-600 mb-6">ESERCIZI</h2>

      <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <!-- Colonna sinistra -->
        <div class="space-y-6">
          <!-- Esercizio 1 -->
          <div>
            <div class="flex items-start gap-3 mb-3">
              <div class="bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">1</div>
              <p class="text-gray-700 font-bold">Trasforma questi numeri in numeri romani.</p>
            </div>
            <div class="grid grid-cols-2 gap-3 ml-11">
              <% [
                { num: "6", answer: "VI", hint: "(5 + 1)" },
                { num: "52", answer: "LII", hint: "(50 + 2)" },
                { num: "16", answer: "XVI", hint: "(10 + 5 + 1)" },
                { num: "11", answer: "XI", hint: "(10 + 1)" },
                { num: "105", answer: "CV", hint: "(100 + 5)" },
                { num: "19", answer: "XIX", hint: "(10 + 10 − 1)" },
                { num: "40", answer: "XL", hint: "(50 − 10)" },
                { num: "61", answer: "LXI", hint: "(50 + 10 + 1)" },
                { num: "109", answer: "CIX", hint: "(100 + 10 − 1)" }
              ].each do |item| %>
                <div class="flex items-center gap-2">
                  <span class="text-gray-700"><%= item[:num] %> =</span>
                  <input type="text" class="w-16 px-2 py-1 border-2 border-cyan-300 rounded text-center uppercase" data-correct-answer="<%= item[:answer] %>" placeholder="...">
                  <span class="text-gray-500"><%= item[:hint] %></span>
                </div>
              <% end %>
            </div>
          </div>

          <!-- Esercizio 2 -->
          <div>
            <div class="flex items-start gap-3 mb-3">
              <div class="bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">2</div>
              <p class="text-gray-700 font-bold">Riscrivi i numeri romani con le cifre arabe.</p>
            </div>
            <div class="grid grid-cols-2 gap-3 ml-11">
              <% [
                { roman: "XIV", answer: "14" },
                { roman: "XXII", answer: "22" },
                { roman: "XXXI", answer: "31" },
                { roman: "LXX", answer: "70" },
                { roman: "LVI", answer: "56" },
                { roman: "XLVIII", answer: "48" },
                { roman: "XCV", answer: "95" },
                { roman: "CII", answer: "102" },
                { roman: "DI", answer: "501" },
                { roman: "MCCV", answer: "1205" }
              ].each do |item| %>
                <div class="flex items-center gap-2">
                  <span class="text-gray-700 font-bold"><%= item[:roman] %></span>
                  <input type="text" class="w-16 px-2 py-1 border-2 border-cyan-300 rounded text-center" data-correct-answer="<%= item[:answer] %>" placeholder="...">
                </div>
              <% end %>
            </div>
          </div>
        </div>

        <!-- Colonna destra -->
        <div class="space-y-6">
          <!-- Esercizio 3 -->
          <div>
            <div class="flex items-start gap-3 mb-3">
              <div class="bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">3</div>
              <p class="text-gray-700 font-bold">Inserisci il simbolo &lt; o &gt;.</p>
            </div>
            <div class="grid grid-cols-2 gap-3 ml-11">
              <% [
                { left: "VIII", right: "VII", answer: ">" },
                { left: "XIV", right: "XVI", answer: "<" },
                { left: "IX", right: "X", answer: "<" },
                { left: "XXI", right: "XIX", answer: ">" },
                { left: "IV", right: "X", answer: "<" },
                { left: "XL", right: "XLVIII", answer: "<" },
                { left: "LXI", right: "LXX", answer: "<" },
                { left: "DC", right: "DCX", answer: "<" }
              ].each do |item| %>
                <div class="flex items-center gap-2">
                  <span class="text-gray-700 font-bold"><%= item[:left] %></span>
                  <select class="w-12 px-1 py-1 border-2 border-cyan-300 rounded text-center" data-correct-answer="<%= item[:answer] %>">
                    <option value="">?</option>
                    <option value="<">&lt;</option>
                    <option value=">">&gt;</option>
                  </select>
                  <span class="text-gray-700 font-bold"><%= item[:right] %></span>
                </div>
              <% end %>
            </div>
          </div>

          <!-- Esercizio 4 -->
          <div>
            <div class="flex items-start gap-3 mb-3">
              <div class="bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">4</div>
              <p class="text-gray-700 font-bold">Scrivi il numero precedente e il numero successivo.</p>
            </div>
            <div class="space-y-2 ml-11">
              <% [
                { prev: "IV", center: "V", next: "VI" },
                { prev: "IX", center: "X", next: "XI" },
                { prev: "XXII", center: "XXIII", next: "XXIV" },
                { prev: "XLIX", center: "L", next: "LI" },
                { prev: "CCIV", center: "CCV", next: "CCVI" },
                { prev: "CMXCIX", center: "M", next: "MI" }
              ].each do |item| %>
                <div class="flex items-center gap-2">
                  <input type="text" class="w-20 px-2 py-1 border-2 border-cyan-300 rounded text-center uppercase" data-correct-answer="<%= item[:prev] %>" placeholder="...">
                  <span class="text-gray-700 font-bold"><%= item[:center] %></span>
                  <input type="text" class="w-20 px-2 py-1 border-2 border-cyan-300 rounded text-center uppercase" data-correct-answer="<%= item[:next] %>" placeholder="...">
                </div>
              <% end %>
            </div>
          </div>

          <!-- Esercizio 5 -->
          <div>
            <div class="flex items-start gap-3 mb-3">
              <div class="bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">5</div>
              <p class="text-gray-700 font-bold">Scrivi la tua data di nascita e quella del compagno o della compagna di banco in numeri romani.</p>
            </div>
            <div class="space-y-3 ml-11">
              <div>
                <label class="text-gray-700">Sono nato il</label>
                <input type="text" class="w-full px-3 py-2 border-2 border-cyan-300 rounded mt-1" placeholder="Es: XV / VII / MMIX">
              </div>
              <div>
                <label class="text-gray-700">.......................... è nata/o il</label>
                <input type="text" class="w-full px-3 py-2 border-2 border-cyan-300 rounded mt-1" placeholder="Es: XX / III / MMX">
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Exercise Controls -->
    <%= render 'shared/exercise_controls', color: 'blue' %>
  </div>
</div>
