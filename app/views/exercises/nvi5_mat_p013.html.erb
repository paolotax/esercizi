<div class="max-w-6xl mx-auto bg-white dark:bg-gray-900 text-black dark:text-white p-3 md:p-6 transition-colors duration-300"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <!-- Header -->
  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">

    <!-- I numeri grandi -->
    <div class="p-4 md:p-6">
      <h2 class="font-bold text-pink-600 dark:text-pink-400 mb-4">I numeri grandi</h2>

      <p class="text-gray-700 dark:text-gray-200 mb-4">
        I numeri romani non prevedevano lo zero. Per indicare le migliaia, i Romani scrivevano una barra orizzontale
        sopra la lettera o il gruppo di lettere, e così il suo valore si moltiplicava per 1000:
      </p>

      <div class="flex flex-wrap justify-around items-center gap-6 my-6">
        <div class="text-center">
          <span class="font-bold text-custom-sky dark:text-cyan-400 inline-block border-t-2 border-pink-600 dark:border-pink-400 pt-1">V</span>
          <span class="font-bold text-custom-sky dark:text-cyan-400"> = <span class="whitespace-nowrap">5 000</span></span>
        </div>
        <div class="text-center">
          <span class="font-bold text-custom-sky dark:text-cyan-400 inline-block border-t-2 border-pink-600 dark:border-pink-400 pt-1">X</span>
          <span class="font-bold text-custom-sky dark:text-cyan-400"> = <span class="whitespace-nowrap">10 000</span></span>
        </div>
        <div class="text-center">
          <span class="font-bold text-custom-sky dark:text-cyan-400 inline-block border-t-2 border-pink-600 dark:border-pink-400 pt-1">LXXIII</span>
          <span class="font-bold text-custom-sky dark:text-cyan-400"> = <span class="whitespace-nowrap">73 000</span></span>
        </div>
      </div>

      <p class="text-gray-700 dark:text-gray-200">
        Altri segni erano usati per indicare le centinaia di migliaia e i milioni.
      </p>
    </div>

    <!-- Usi moderni -->
    <div class="p-4 md:p-6 bg-white dark:bg-gray-800 border-3 border-blue-500 dark:border-blue-400 rounded-3xl">
      <div>
        <p class="text-gray-700 dark:text-gray-200 font-bold mb-3">I numeri romani si usano ancora oggi. Si possono trovare scritti</p>
        <ul class="space-y-2 text-gray-700 dark:text-gray-200">
          <li><span class="text-pink-600 dark:text-pink-400">&#8226;</span> per indicare i secoli: <span class="italic">Nel XX secolo</span></li>
          <li><span class="text-pink-600 dark:text-pink-400">&#8226;</span> nei nomi di papi e re: <span class="italic">papa Giovanni XIII, re Carlo III del Regno Unito</span></li>
          <li><span class="text-pink-600 dark:text-pink-400">&#8226;</span> sulle targhe di strade e piazze: <span class="italic">Piazza XXV Aprile</span></li>
          <li><span class="text-pink-600 dark:text-pink-400">&#8226;</span> sulle pietre miliari</li>
          <li><span class="text-pink-600 dark:text-pink-400">&#8226;</span> su alcuni orologi</li>
        </ul>
      </div>
    </div>

    <!-- ESERCIZI -->
    <div class="p-4 md:p-6 bg-orange-100 dark:bg-orange-900/30 rounded-lg">
      <h2 class="font-bold text-pink-600 dark:text-pink-400 mb-6">ESERCIZI</h2>

      <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <!-- Colonna sinistra -->
        <div class="space-y-6">
          <!-- Esercizio 1 -->
          <div>
            <div class="flex items-start gap-3 mb-3">
              <%= numero_esercizio_badge(1) %>
              <p class="text-gray-700 dark:text-gray-200 font-bold">Trasforma questi numeri in numeri romani.</p>
            </div>
            <div class="grid grid-cols-2 gap-3 ml-11">
              <%= render 'shared/fill_list',
                  color: "#{ @pagina.base_color }",
                  equals: true,
                  items: [
                    { prefix: "6", answer: "VI", suffix: "(5 + 1)" },
                    { prefix: "52", answer: "LII", suffix: "(50 + 2)" },
                    { prefix: "16", answer: "XVI", suffix: "(10 + 5 + 1)" },
                    { prefix: "11", answer: "XI", suffix: "(10 + 1)" },
                    { prefix: "105", answer: "CV", suffix: "(100 + 5)" },
                    { prefix: "19", answer: "XIX", suffix: "(10 + 10 − 1)" },
                    { prefix: "40", answer: "XL", suffix: "(50 − 10)" },
                    { prefix: "61", answer: "LXI", suffix: "(50 + 10 + 1)" },
                    { prefix: "109", answer: "CIX", suffix: "(100 + 10 − 1)" }
                  ],
                  container_class: "contents" %>
            </div>
          </div>

          <!-- Esercizio 2 -->
          <div>
            <div class="flex items-start gap-3 mb-3">
              <%= numero_esercizio_badge(2) %>
              <p class="text-gray-700 dark:text-gray-200 font-bold">Riscrivi i numeri romani con le cifre arabe.</p>
            </div>
            <div class="grid grid-cols-2 gap-3 ml-11">
              <%= render 'shared/fill_list',
                  color: "#{ @pagina.base_color }",
                  arrow: true,
                  items: [
                    { prefix: "XIV", answer: "14" },
                    { prefix: "XXII", answer: "22" },
                    { prefix: "XXXI", answer: "31" },
                    { prefix: "LXX", answer: "70" },
                    { prefix: "LVI", answer: "56" },
                    { prefix: "XLVIII", answer: "48" },
                    { prefix: "XCV", answer: "95" },
                    { prefix: "CII", answer: "102" },
                    { prefix: "DI", answer: "501" },
                    { prefix: "MCCV", answer: "1205" }
                  ],
                  container_class: "contents" %>
            </div>
          </div>
        </div>

        <!-- Colonna destra -->
        <div class="space-y-6">
          <!-- Esercizio 3 -->
          <div>
            <div class="flex items-start gap-3 mb-3">
              <%= numero_esercizio_badge(3) %>
              <p class="text-gray-700 dark:text-gray-200 font-bold">Inserisci il simbolo &lt; o &gt;.</p>
            </div>
            <div class="grid grid-cols-2 gap-3 ml-11">
              <%= render 'shared/fill_list',
                  color: "#{ @pagina.base_color }",
                  items: [
                    { prefix: "VIII", answer: ">", suffix: "VII" },
                    { prefix: "XIV", answer: "<", suffix: "XVI" },
                    { prefix: "IX", answer: "<", suffix: "X" },
                    { prefix: "XXI", answer: ">", suffix: "XIX" },
                    { prefix: "IV", answer: "<", suffix: "X" },
                    { prefix: "XL", answer: "<", suffix: "XLVIII" },
                    { prefix: "LXI", answer: "<", suffix: "LXX" },
                    { prefix: "DC", answer: "<", suffix: "DCX" }
                  ],
                  container_class: "contents" %>
            </div>
          </div>

          <!-- Esercizio 4 -->
          <div>
            <div class="flex items-start gap-3 mb-3">
              <%= numero_esercizio_badge(4) %>
              <p class="text-gray-700 dark:text-gray-200 font-bold">Scrivi il numero precedente e il numero successivo.</p>
            </div>
            <div class="space-y-2 ml-11">
              <%= render 'shared/fill_list',
                  color: "#{ @pagina.base_color }",
                  items: [
                    { segments: [{ answer: "IV" }, { text: "V" }, { answer: "VI" }] },
                    { segments: [{ answer: "IX" }, { text: "X" }, { answer: "XI" }] },
                    { segments: [{ answer: "XXII" }, { text: "XXIII" }, { answer: "XXIV" }] },
                    { segments: [{ answer: "XLIX" }, { text: "L" }, { answer: "LI" }] },
                    { segments: [{ answer: "CCIV" }, { text: "CCV" }, { answer: "CCVI" }] },
                    { segments: [{ answer: "CMXCIX" }, { text: "M" }, { answer: "MI" }] }
                  ],
                  container_class: "space-y-2" %>
            </div>
          </div>

          <!-- Esercizio 5 -->
          <div>
            <div class="flex items-start gap-3 mb-3">
              <%= numero_esercizio_badge(5) %>
              <p class="text-gray-700 dark:text-gray-200 font-bold">Scrivi la tua data di nascita e quella del compagno o della compagna di banco in numeri romani.</p>
            </div>
            <div class="space-y-3 ml-11">
              <div>
                <label class="text-gray-700 dark:text-gray-200">Sono nato il</label>
                <input type="text" class="w-full px-3 py-2 border-b-2 border-dotted border-gray-400 dark:border-gray-500 bg-transparent dark:text-white mt-1" placeholder="Es: XV / VII / MMIX">
              </div>
              <div>
                <label class="text-gray-700 dark:text-gray-200">.......................... è nata/o il</label>
                <input type="text" class="w-full px-3 py-2 border-b-2 border-dotted border-gray-400 dark:border-gray-500 bg-transparent dark:text-white mt-1" placeholder="Es: XX / III / MMX">
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Exercise Controls -->
    <%= render 'shared/exercise_controls' %>
  </div>
</div>
