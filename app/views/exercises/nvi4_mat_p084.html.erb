<div class="max-w-6xl mx-auto bg-white dark:bg-gray-900 p-3 md:p-6 transition-colors duration-300"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">

    <!-- Problema 1: L'orto di Giuseppe -->
    <div class="p-4 md:p-6">
      <div class="p-4 bg-custom-blue dark:bg-cyan-900/30 mb-4">
        <p class="text-gray-700 dark:text-gray-200">
          <strong class="text-<%= @pagina.base_color %>-700 dark:text-<%= @pagina.base_color %>-400">L'orto di Giuseppe</strong>
          <span class="text-<%= @pagina.base_color %>-500">•</span>
          Il signor Giuseppe vuole piantare nel suo orto pomodori, melanzane, peperoni e fagiolini. Compera 135 piantine, ma durante il tragitto verso casa 15 piantine si spezzano.
          Il signor Giuseppe ha ora 20 piantine di melanzane, un numero uguale di piantine di pomodori e peperoni e 10 piantine di fagiolini in più rispetto a quelle di melanzane.
          Quante sono le piantine per ogni tipo che può piantare il signor Giuseppe?
        </p>
      </div>

      <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
        <span class="text-<%= @pagina.base_color %>-500">•</span>
        Dopo aver letto attentamente il testo rispondi alle domande.
      </p>

      <div class="space-y-3">
        <div class="flex items-center gap-2 flex-wrap">
          <span class="text-gray-700 dark:text-gray-200">– Quante piantine sono rimaste al signor Giuseppe? 135 −</span>
          <input type="text" data-correct-answer="15" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          <span class="text-gray-700 dark:text-gray-200">=</span>
          <input type="text" data-correct-answer="120" class="w-14 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
        </div>

        <div class="flex items-center gap-2 flex-wrap">
          <span class="text-gray-700 dark:text-gray-200">– Quante sono le piantine di melanzane?</span>
          <input type="text" data-correct-answer="20" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          <span class="text-gray-700 dark:text-gray-200">E quelle di fagiolini?</span>
          <input type="text" data-correct-answer="30" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
        </div>

        <div class="flex items-center gap-2 flex-wrap">
          <span class="text-gray-700 dark:text-gray-200">– Quante sono le piantine di pomodori e peperoni? 120 −</span>
          <input type="text" data-correct-answer="50" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          <span class="text-gray-700 dark:text-gray-200">=</span>
          <input type="text" data-correct-answer="70" class="w-14 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
        </div>

        <div class="flex items-center gap-2 flex-wrap">
          <span class="text-gray-700 dark:text-gray-200">– Quante sono le piantine di pomodori?</span>
          <input type="text" data-correct-answer="70 : 2" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          <span class="text-gray-700 dark:text-gray-200">=</span>
          <input type="text" data-correct-answer="35" class="w-14 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
        </div>

        <div class="flex items-center gap-2 flex-wrap">
          <span class="text-gray-700 dark:text-gray-200">– Quante sono le piantine di peperoni?</span>
          <input type="text" data-correct-answer="35" class="w-14 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
        </div>
      </div>

      <div class="mt-4 p-3 bg-pink-light dark:bg-pink-900/40 rounded-xl w-fit">
        <p class="text-gray-700 dark:text-gray-200">Per risolvere un problema devi trovare i <strong>dati necessari</strong> per rispondere alla domanda.</p>
      </div>
    </div>

    <!-- Problema 2: In cartoleria -->
    <div class="p-4 md:p-6">
      <div class="p-4 bg-custom-blue dark:bg-cyan-900/30 mb-4">
        <p class="text-gray-700 dark:text-gray-200">
          <strong class="text-<%= @pagina.base_color %>-700 dark:text-<%= @pagina.base_color %>-400">In cartoleria</strong>
          <span class="text-<%= @pagina.base_color %>-500">•</span>
          Una cartolaia ha acquistato una confezione di 600 quaderni, parte a righe e parte a quadretti. Alla fine della settimana ha venduto 437 quaderni; le sono rimasti 48 quaderni a righe e gli altri a quadretti. Quanto incasserà dalla vendita dei quaderni a quadretti rimasti se ogni quaderno costa 150 centesimi?
        </p>
      </div>

      <p class="text-gray-700 dark:text-gray-200 mb-4">
        <span class="text-<%= @pagina.base_color %>-500">•</span>
        <strong>Per rispondere alla domanda devi prima scoprire <span class="text-custom-sky">quanti sono i quaderni a quadretti rimasti</span>. Leggi il testo e rispondi alle domande.</strong>
      </p>

      <div class="space-y-3">
        <div class="flex items-center gap-2 flex-wrap">
          <span class="text-gray-700 dark:text-gray-200">– Quanti sono i quaderni rimasti in tutto?</span>
          <input type="text" data-correct-answer="163" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
        </div>

        <div class="flex items-center gap-2 flex-wrap">
          <span class="text-gray-700 dark:text-gray-200">– Quanti sono i quaderni a righe rimasti?</span>
          <input type="text" data-correct-answer="48" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
        </div>

        <div class="flex items-center gap-2 flex-wrap">
          <span class="text-gray-700 dark:text-gray-200">– Quanti sono i quaderni a quadretti rimasti?</span>
          <input type="text" data-correct-answer="115" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
        </div>

        <div class="flex items-center gap-2 flex-wrap">
          <span class="text-gray-700 dark:text-gray-200">– Quanto costa ogni quaderno?</span>
          <input type="text" data-correct-answer="1,50 euro" class="w-24 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
        </div>

        <div class="flex items-center gap-2 flex-wrap">
          <span class="text-gray-700 dark:text-gray-200">– Quanto incasserà la cartolaia dalla vendita dei quaderni a quadretti rimasti?</span>
          <input type="text" data-correct-answer="172,50 euro" class="w-28 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
        </div>
      </div>

      <div class="mt-4 p-3 bg-pink-light dark:bg-pink-900/40 rounded-xl w-fit">
        <p class="text-gray-700 dark:text-gray-200">Un problema può avere una sola domanda ma, per poterlo risolvere, è necessario eseguire più operazioni scoprendo le <strong>domande implicite</strong>.</p>
      </div>
    </div>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
