<div class="max-w-6xl mx-auto bg-white p-3 md:p-6"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">

    <!-- Sezione Teoria -->
    <div class="text-gray-700 space-y-4">
      <p>
        <span class="text-<%= @pagina.base_color %>-500">●</span>
        Per <span class="font-bold">scrivere</span> un numero con molte cifre si raggruppano le cifre in <span class="font-bold">classi</span> e si inserisce uno <span class="font-bold">spazio</span> oppure un <span class="font-bold">punto</span> in alto o in basso tra una classe e l'altra partendo da destra.
      </p>

      <!-- Esempio numeri con separatori -->
      <div class="flex justify-center items-center gap-8 py-4">
        <span class="font-bold text-<%= @pagina.base_color %>-600">36 178</span>
        <span class="font-bold text-<%= @pagina.base_color %>-600">36·178</span>
        <span class="font-bold text-<%= @pagina.base_color %>-600">36.178</span>
      </div>

      <p>
        <span class="text-<%= @pagina.base_color %>-500">●</span>
        Per <span class="font-bold">leggere</span> i numeri grandi si deve inserire il <span class="font-bold">nome della classe</span> dove c'è lo spazio o il punto.
      </p>

      <!-- Esempio lettura -->
      <div class="flex items-center gap-4 py-2 flex-wrap">
        <span class="font-bold text-<%= @pagina.base_color %>-600">36 178</span>
        <span class="text-gray-500">si legge</span>
        <span class="font-bold">trentasei<span class="text-<%= @pagina.base_color %>-600">MILA</span>centosettantotto</span>
      </div>
    </div>

    <!-- Prova tu: leggi i seguenti numeri -->
    <div class="space-y-3">
      <p class="font-bold text-gray-700">
        <span class="text-<%= @pagina.base_color %>-500">•</span>
        Prova tu: leggi i seguenti numeri...
      </p>

      <div class="space-y-2">
        <div class="flex items-center gap-4 flex-wrap">
          <span class="font-bold whitespace-nowrap">5 179</span>
          <span class="text-gray-500">si legge</span>
          <span>cinque</span>
          <input type="text" data-correct-answer="mila" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          <input type="text" data-correct-answer="centosettantanove" class="flex-1 min-w-0 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
        </div>
        <div class="flex items-center gap-4 flex-wrap">
          <span class="font-bold whitespace-nowrap">18 362</span>
          <span class="text-gray-500">si legge</span>
          <span>diciotto</span>
          <input type="text" data-correct-answer="mila" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          <span>trecentosessantadue</span>
        </div>
        <div class="flex items-center gap-4 flex-wrap">
          <span class="font-bold whitespace-nowrap">124 750</span>
          <span class="text-gray-500">si legge</span>
          <span>cento</span>
          <input type="text" data-correct-answer="ventiquattromila" class="w-36 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          <span>settecentocinquanta</span>
        </div>
        <div class="flex items-center gap-4 flex-wrap">
          <span class="font-bold whitespace-nowrap">236 309</span>
          <span class="text-gray-500">si legge</span>
          <span>duecento</span>
          <input type="text" data-correct-answer="trentaseimila" class="w-32 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          <span>trecentonove</span>
        </div>
      </div>
    </div>

    <!-- Scrivi questi altri numeri in cifre -->
    <div class="space-y-3">
      <p class="font-bold text-gray-700">
        <span class="text-<%= @pagina.base_color %>-500">•</span>
        ... e scrivi questi altri numeri in cifre.
      </p>

      <div class="space-y-2">
        <div class="flex items-center gap-4 flex-wrap">
          <span>duecentosedici<span class="font-bold text-<%= @pagina.base_color %>-600">MILA</span>settecentoventinove</span>
          <span class="text-gray-500">si scrive</span>
          <span class="font-bold text-<%= @pagina.base_color %>-600">216 729</span>
        </div>
        <div class="flex items-center gap-4 flex-wrap">
          <span>otto<span class="font-bold text-<%= @pagina.base_color %>-600">MILA</span>novecentotrentasette</span>
          <span class="text-gray-500">si scrive</span>
          <input type="text" data-correct-answer="8" class="w-12 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          <span>937</span>
        </div>
        <div class="flex items-center gap-4 flex-wrap">
          <span>quarantacinque<span class="font-bold text-<%= @pagina.base_color %>-600">MILA</span>trecentonovantadue</span>
          <span class="text-gray-500">si scrive</span>
          <span>45</span>
          <input type="text" data-correct-answer="392" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
        </div>
        <div class="flex items-center gap-4 flex-wrap">
          <span>trecentoventisette<span class="font-bold text-<%= @pagina.base_color %>-600">MILA</span>cinquecento</span>
          <span class="text-gray-500">si scrive</span>
          <span>3</span>
          <input type="text" data-correct-answer="27" class="w-12 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          <input type="text" data-correct-answer="500" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
        </div>
      </div>
    </div>

    <!-- Container ESERCIZI -->
    <div class="p-4 md:p-6 bg-orange-100 rounded-lg">

      <!-- Badge ESERCIZI -->
      <div class="bg-<%= @pagina.base_color %>-600 text-white px-4 py-2 rounded-lg inline-block font-bold mb-4">
        ESERCIZI
      </div>

      <!-- Esercizio 1 -->
      <div>
        <p class="font-bold text-gray-700 mb-4">
          <%= numero_esercizio_badge(1) %>
          Scrivi in lettere i seguenti numeri.
        </p>

        <div class="space-y-3">
          <!-- Esempio -->
          <div class="flex items-center gap-2 flex-wrap">
            <span class="font-bold whitespace-nowrap">965 234</span>
            <span class="text-<%= @pagina.base_color %>-500">→</span>
            <span class="font-bold text-<%= @pagina.base_color %>-600">novecentosessantacinquemiladuecentotrentaquattro</span>
          </div>

          <div class="flex items-center gap-2 flex-wrap">
            <span class="whitespace-nowrap">365 870</span>
            <span class="text-<%= @pagina.base_color %>-500">→</span>
            <input type="text" data-correct-answer="trecentosessantacinquemilaottocentosettanta" class="flex-1 min-w-0 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          </div>
          <div class="flex items-center gap-2 flex-wrap">
            <span class="whitespace-nowrap">3 400</span>
            <span class="text-<%= @pagina.base_color %>-500">→</span>
            <input type="text" data-correct-answer="tremilaquattrocento" class="flex-1 min-w-0 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          </div>
          <div class="flex items-center gap-2 flex-wrap">
            <span class="whitespace-nowrap">904 567</span>
            <span class="text-<%= @pagina.base_color %>-500">→</span>
            <input type="text" data-correct-answer="novecentoquattromilacinquecentosessantasette" class="flex-1 min-w-0 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          </div>
          <div class="flex items-center gap-2 flex-wrap">
            <span class="whitespace-nowrap">16 864</span>
            <span class="text-<%= @pagina.base_color %>-500">→</span>
            <input type="text" data-correct-answer="sedicimilaottocentosessantaquattro" class="flex-1 min-w-0 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          </div>
          <div class="flex items-center gap-2 flex-wrap">
            <span class="whitespace-nowrap">300 570</span>
            <span class="text-<%= @pagina.base_color %>-500">→</span>
            <input type="text" data-correct-answer="trecentomilacinquecentosettanta" class="flex-1 min-w-0 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          </div>
          <div class="flex items-center gap-2 flex-wrap">
            <span class="whitespace-nowrap">10 060</span>
            <span class="text-<%= @pagina.base_color %>-500">→</span>
            <input type="text" data-correct-answer="diecimilasessanta" class="flex-1 min-w-0 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          </div>
        </div>
      </div>

    </div>

    <%= render 'shared/quaderno_link', pagine: [173, 178] %>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
