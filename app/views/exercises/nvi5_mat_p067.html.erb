<div class="max-w-6xl mx-auto p-3 md:p-6"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <!-- Header -->
  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">
    <!-- Introduzione -->
    <div class="p-4 md:p-6 bg-white border-3 border-blue-500 rounded-3xl">
      <p class="text-gray-700 mb-4">Sai già che puoi scrivere uno stesso numero in diversi modi:</p>

      <div class="flex items-center justify-around mb-6 text-center">
        <div>
          <div class="font-bold text-cyan-500 text-lg mb-2">0,5</div>
          <div class="text-gray-600 text-sm">numero decimale</div>
        </div>
        <div>
          <div class="inline-flex flex-col items-center font-bold text-cyan-500">
            <span>5</span>
            <span class="border-t-2 border-gray-700 px-2">10</span>
          </div>
          <div class="text-gray-600 text-sm mt-1">frazione decimale<br>con denominatore 10</div>
        </div>
        <div>
          <div class="inline-flex flex-col items-center font-bold text-cyan-500">
            <span>50</span>
            <span class="border-t-2 border-gray-700 px-2">100</span>
          </div>
          <div class="text-gray-600 text-sm mt-1">frazione decimale<br>con denominatore 100</div>
        </div>
      </div>

      <div class="p-4 bg-blue-50 border-2 border-blue-200 rounded-lg mb-4">
        <p class="text-gray-700">Impariamo ora un altro modo: sotto forma di <strong class="text-blue-600">percentuale: 50%</strong>.</p>
      </div>

      <div class="flex items-start gap-4">
        <div class="flex-1">
          <div class="p-4 bg-purple-50 border-2 border-purple-200 rounded-lg">
            <p class="text-gray-700">
              Il simbolo <strong class="text-blue-600">%</strong> si legge <strong>"per cento"</strong> e indica una <strong class="text-blue-600">frazione con denominatore 100</strong>.
            </p>
          </div>
        </div>
        <%= image_tag "nvi5_mat/p067/p067_01.jpg", class: "max-w-[120px]", alt: "50%" %>
      </div>
    </div>

    <!-- Calcolare la percentuale -->
    <div class="p-4 md:p-6 bg-white border-3 border-green-500 rounded-3xl">
      <h2 class="font-bold text-green-600 mb-4">Calcolare la percentuale</h2>

      <div class="p-4 bg-green-50 rounded-lg mb-4">
        <p class="text-gray-700 mb-2">A scuola è stata fatta un'indagine sugli sport preferiti da 400 alunni.</p>
        <p class="text-gray-700 mb-2"><span class="text-pink-600">&#8226;</span> Il <strong>35%</strong> degli alunni preferisce il calcio. Quanti sono gli alunni che preferiscono il calcio?</p>
        <p class="text-gray-700 mb-2"><span class="text-pink-600">&#8226;</span> Il <strong>23%</strong> degli alunni preferisce il nuoto. Quanti sono gli alunni che preferiscono il nuoto?</p>
        <p class="text-gray-700"><span class="text-pink-600">&#8226;</span> Il <strong>42%</strong> degli alunni preferisce il tennis. Quanti sono gli alunni che preferiscono il tennis?</p>
      </div>

      <p class="text-gray-700 mb-4">
        Per rispondere alla prima domanda devi calcolare il <strong>35%</strong> di <strong>400</strong>, cioè
        <span class="inline-flex flex-col items-center mx-1 font-bold text-cyan-500 align-middle">
          <span>35</span>
          <span class="border-t-2 border-gray-700 px-2">100</span>
        </span>
        di 400.
      </p>

      <div class="p-4 bg-gray-50 rounded-lg mb-4">
        <div class="flex items-center justify-center gap-4 font-mono text-lg mb-2">
          <span>(400 : 100) × 35 = 4 × 35 = <strong>140</strong></span>
        </div>
        <div class="text-center text-gray-600 text-sm">
          <div>↑ rappresenta 1/100 &nbsp;&nbsp;&nbsp;&nbsp; ← rappresenta 35/100</div>
        </div>
      </div>

      <div class="p-4 bg-cyan-100 border-2 border-cyan-300 rounded-lg text-center mb-4">
        <p class="text-gray-800">
          Dunque, la risposta alla prima domanda è: Gli alunni che preferiscono il calcio sono
          <input type="text" data-correct-answer="140" class="w-20 px-2 py-1 border-2 border-cyan-300 rounded text-center font-bold mx-1">
        </p>
      </div>

      <p class="text-gray-700"><strong><span class="text-pink-600">&#8226;</span> Rispondi alle altre due domande sul quaderno.</strong></p>
    </div>

    <!-- Dalla percentuale all'intero -->
    <div class="p-4 md:p-6 bg-white border-3 border-orange-500 rounded-3xl">
      <h2 class="font-bold text-orange-700 mb-4">Dalla percentuale all'intero</h2>

      <div class="flex items-start gap-4 mb-4">
        <div class="flex-1">
          <div class="p-4 bg-orange-50 rounded-lg mb-4">
            <p class="text-gray-700">
              Da un'indagine svolta in una scuola è emerso che il 30% degli alunni suona uno strumento musicale. Se gli alunni che suonano uno strumento musicale sono 60, quanti sono in tutto gli alunni?
            </p>
          </div>

          <p class="text-gray-700 mb-4">
            Per calcolare l'intero conoscendo il valore della percentuale, procedi come per calcolare l'intero conoscendo il valore della frazione.
          </p>

          <p class="text-gray-700 mb-4">
            <strong>60 è il 30%, cioè 60 corrisponde ai
            <span class="inline-flex flex-col items-center mx-1 font-bold text-cyan-500 align-middle">
              <span>30</span>
              <span class="border-t-2 border-gray-700 px-2">100</span>
            </span>
            dell'intero.</strong>
          </p>

          <div class="p-4 bg-gray-50 rounded-lg">
            <div class="flex items-center justify-center gap-4 font-mono text-lg mb-2">
              <span>(60 : 30) × 100 = 2 × 100 = <strong>200</strong></span>
            </div>
            <div class="text-center text-gray-600 text-sm">
              <div>↑ corrisponde a 1/100 = 1% &nbsp;&nbsp;&nbsp;&nbsp; ← corrisponde a 100/100 = 100%</div>
            </div>
          </div>
        </div>
        <%= image_tag "nvi5_mat/p067/p067_02.jpg", alt: "Bambina con chitarra", class: "max-w-[150px]" %>
      </div>
    </div>

    <!-- Riferimento quaderno -->
    <div class="p-4 text-right">
      <p class="text-gray-700">
        <span class="font-bold">Quaderno</span> pp. <a href="#" class="text-red-600 font-bold hover:underline">210</a>, <a href="#" class="text-red-600 font-bold hover:underline">212</a>, <a href="#" class="text-red-600 font-bold hover:underline">214</a>
      </p>
    </div>

    <!-- Exercise Controls -->
    <%= render 'shared/exercise_controls', color: 'blue' %>
  </div>
</div>
