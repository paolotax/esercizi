<div class="max-w-6xl mx-auto bg-white p-3 md:p-6"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">
    <!-- Istruzioni generali -->
    <p class="font-bold text-gray-700">
      <span class="text-cyan-500">•</span> Risolvi i problemi sul quaderno.
    </p>

    <!-- Grid due colonne -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 md:divide-x-2 md:divide-cyan-300">
      <!-- Colonna sinistra: Problemi con i decimali -->
      <div class="md:pr-4 space-y-6">
        <h3 class="font-bold text-cyan-600 border-b-2 border-cyan-300 pb-1">Problemi con i decimali</h3>

        <!-- Esercizio 1: IMPARARE TUTTI -->
        <div class="p-4 bg-white rounded-2xl border-3 border-yellow-400">
          <p class="font-bold text-gray-700 mb-2">
            <%= imparare_tutti_badge(1) %>
          </p>
          <p class="text-gray-700">
            Undici amici hanno formato una squadra di calcio e hanno acquistato 11 maglie a € 19,50 l'una e 11 paia di pantaloncini a € 12,00 l'uno. Quanto hanno speso in tutto?
          </p>
          <div class="flex items-center gap-2 justify-end mt-2">
            <span class="text-gray-700">€</span>
            <input type="text" data-correct-answer="346,50" class="w-24 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          </div>
        </div>

        <!-- Esercizio 2 -->
        <div class="space-y-2">
          <p class="text-gray-700">
            <%= numero_esercizio_badge(2) %> Per la gita di fine anno i 25 alunni di una classe hanno pagato una quota di € 35,50 a testa. La quota comprende il trasporto, il pranzo e l'ingresso al museo.<br>
            Se il pranzo è costato € 12,70 a testa, quanto sono costati complessivamente il trasporto e l'ingresso al museo?
          </p>
          <div class="flex items-center gap-2 justify-end">
            <span class="text-gray-700">€</span>
            <input type="text" data-correct-answer="570" class="w-24 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          </div>
        </div>

        <!-- Esercizio 3 -->
        <div class="space-y-2">
          <p class="text-gray-700">
            <%= numero_esercizio_badge(3) %> Chiara sta facendo un puzzle. Finora ha sistemato 510 tessere, che corrispondono ai <%= render 'shared/frazione', num: 3, den: 10 %> delle tessere totali. Da quante tessere è composto il puzzle?
          </p>
          <div class="flex items-center gap-2 justify-end">
            <input type="text" data-correct-answer="1700" class="w-24 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <span class="text-gray-700">tessere</span>
          </div>
        </div>

        <!-- Esercizio 4 -->
        <div class="space-y-2">
          <p class="text-gray-700">
            <%= numero_esercizio_badge(4) %> Per ognuno dei 196 alunni che frequentano la mensa della scuola i genitori spendono € 3,65 a pasto.<br>
            Se oggi erano assenti 18 alunni, quanto hanno speso complessivamente i genitori?
          </p>
          <div class="flex items-center gap-2 justify-end">
            <span class="text-gray-700">€</span>
            <input type="text" data-correct-answer="649,70" class="w-24 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          </div>
        </div>

        <!-- Esercizio 5 -->
        <div class="space-y-2">
          <p class="text-gray-700">
            <%= numero_esercizio_badge(5) %> Margherita ha comprato 3 asciugamani uguali e 2 tovaglie uguali e ha speso € 66 in tutto.<br>
            Ha pagato gli asciugamani € 6,50 l'uno.<br>
            Quanto ha pagato ogni tovaglia?
          </p>
          <div class="flex items-center gap-2 justify-end">
            <span class="text-gray-700">€</span>
            <input type="text" data-correct-answer="23,25" class="w-24 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          </div>
        </div>

        <!-- Esercizio 6 -->
        <div class="space-y-2">
          <p class="text-gray-700">
            <%= numero_esercizio_badge(6) %> Per un compleanno 21 amici sono andati in pizzeria. Tutti hanno mangiato una pizza da € 7,20 e bevuto una bibita da € 2,80.<br>
            Quanto hanno speso in totale? Se decidono di pagare per il festeggiato, quanto spende ciascuno?
          </p>
          <div class="flex items-center gap-2 justify-end">
            <span class="text-gray-700">Totale: €</span>
            <input type="text" data-correct-answer="210" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <span class="text-gray-700 ml-2">Ciascuno: €</span>
            <input type="text" data-correct-answer="10,50" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          </div>
        </div>
      </div>

      <!-- Colonna destra -->
      <div class="md:pl-4 space-y-6">
        <!-- Problemi sulla percentuale -->
        <h3 class="font-bold text-cyan-600 border-b-2 border-cyan-300 pb-1">Problemi sulla percentuale</h3>

        <!-- Esercizio 7 -->
        <div class="space-y-2">
          <p class="text-gray-700">
            <%= numero_esercizio_badge(7) %> Nella città di Gianluca il 78% dei <span class="whitespace-nowrap">112 000</span> abitanti sono originari di quella città.<br>
            Calcola il numero delle persone che non sono nate in quella città.
          </p>
          <div class="flex items-center gap-2 justify-end">
            <input type="text" data-correct-answer="24640" class="w-24 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <span class="text-gray-700">abitanti</span>
          </div>
        </div>

        <!-- Esercizio 8 -->
        <div class="space-y-2">
          <p class="text-gray-700">
            <%= numero_esercizio_badge(8) %> Il papà di Andrea acquista una nuova automobile che costa € <span class="whitespace-nowrap">19 750</span>.<br>
            Versa subito un acconto del 40% e paga il rimanente in 15 rate. Quanto paga subito? A quanto ammonta ogni rata?
          </p>
          <div class="flex items-center gap-2 justify-end">
            <span class="text-gray-700">Acconto: €</span>
            <input type="text" data-correct-answer="7900" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <span class="text-gray-700 ml-2">Rata: €</span>
            <input type="text" data-correct-answer="790" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          </div>
        </div>

        <!-- Esercizio 9 -->
        <div class="space-y-2">
          <p class="text-gray-700">
            <%= numero_esercizio_badge(9) %> Ada ha risparmiato € 270; decide di acquistare una bicicletta con il 65% dei suoi risparmi.<br>
            Quanto spende? Quanti euro le restano?
          </p>
          <div class="flex items-center gap-2 justify-end">
            <span class="text-gray-700">Spende: €</span>
            <input type="text" data-correct-answer="175,50" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <span class="text-gray-700 ml-2">Restano: €</span>
            <input type="text" data-correct-answer="94,50" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          </div>
        </div>

        <!-- Problemi sullo sconto -->
        <h3 class="font-bold text-cyan-600 border-b-2 border-cyan-300 pb-1 mt-6">Problemi sullo sconto</h3>

        <!-- Esercizio 10: IMPARARE TUTTI -->
        <div class="p-4 bg-white rounded-2xl border-3 border-yellow-400">
          <p class="font-bold text-gray-700 mb-2">
            <%= imparare_tutti_badge(10) %>
          </p>
          <p class="text-gray-700">
            Durante i saldi Lorenzo compra un giubbotto che costava € 150 e viene scontato del 20%.<br>
            Quanto paga il giubbotto Lorenzo?
          </p>
          <div class="flex items-center gap-2 justify-end mt-2">
            <span class="text-gray-700">€</span>
            <input type="text" data-correct-answer="120" class="w-24 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          </div>
        </div>

        <!-- Esercizio 11 -->
        <div class="space-y-2">
          <p class="text-gray-700">
            <%= numero_esercizio_badge(11) %> Un libraio ordina dei libri a una casa editrice.<br>
            Il costo complessivo dei libri è € <span class="whitespace-nowrap">1 650</span>, a cui viene applicato uno sconto del 20%. Se il trasporto costa altri € 12, quanto ha speso in totale il libraio per ricevere i libri?
          </p>
          <div class="flex items-center gap-2 justify-end">
            <span class="text-gray-700">€</span>
            <input type="text" data-correct-answer="1332" class="w-24 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          </div>
        </div>

        <!-- Esercizio 12 -->
        <div class="space-y-2">
          <p class="text-gray-700">
            <%= numero_esercizio_badge(12) %> Il signor Vanni ha acquistato alcuni mobili per un valore di € <span class="whitespace-nowrap">2 470</span>. Riceve uno sconto del 10% e paga in 9 rate mensili la cifra scontata.<br>
            A quanto ammonta lo sconto che ha ricevuto?<br>
            A quanto ammonta ogni rata?
          </p>
          <div class="flex items-center gap-2 justify-end">
            <span class="text-gray-700">Sconto: €</span>
            <input type="text" data-correct-answer="247" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <span class="text-gray-700 ml-2">Rata: €</span>
            <input type="text" data-correct-answer="247" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          </div>
        </div>
      </div>
    </div>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
