<div class="max-w-6xl mx-auto bg-white p-3 md:p-6"
     data-controller="exercise-checker text-toggle font-controls word-highlighter"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">
    <!-- Esercizio 1: IMPARARE TUTTI -->
    <div class="p-4 bg-white rounded-2xl border-3 border-yellow-400">
      <p class="font-bold text-gray-700 mb-3">
        <%= imparare_tutti_badge(1) %>
        Indica con una <span class="font-bold text-cyan-600">X</span> i divisori dei numeri della prima colonna. Poi rispondi con Sì o No alla domanda dell'ultima colonna. Segui l'esempio.
      </p>

      <div class="grid grid-cols-1 md:grid-cols-[1fr_auto] gap-4">
        <!-- Tabella divisori -->
        <div class="overflow-x-auto">
          <table class="w-full border-collapse border border-cyan-400">
            <thead>
              <tr>
                <th class="p-2 border border-cyan-400 bg-custom-blue-light text-center text-gray-800 w-12"></th>
                <th class="p-2 border border-cyan-400 bg-custom-blue-light text-center text-gray-800 w-10">1</th>
                <th class="p-2 border border-cyan-400 bg-custom-blue-light text-center text-gray-800 w-10">2</th>
                <th class="p-2 border border-cyan-400 bg-custom-blue-light text-center text-gray-800 w-10">3</th>
                <th class="p-2 border border-cyan-400 bg-custom-blue-light text-center text-gray-800 w-10">4</th>
                <th class="p-2 border border-cyan-400 bg-custom-blue-light text-center text-gray-800 w-10">5</th>
                <th class="p-2 border border-cyan-400 bg-custom-blue-light text-center text-gray-800 w-10">6</th>
                <th class="p-2 border border-cyan-400 bg-custom-blue-light text-center text-gray-800 w-10">7</th>
                <th class="p-2 border border-cyan-400 bg-custom-blue-light text-center text-gray-800 w-10">8</th>
                <th class="p-2 border border-cyan-400 bg-custom-blue-light text-center text-gray-800 w-10">9</th>
                <th class="p-2 border border-cyan-400 bg-custom-blue-light text-center text-gray-800 w-10">10</th>
                <th class="p-2 border border-cyan-400 bg-custom-blue-light text-center text-gray-800">È un numero primo?</th>
              </tr>
            </thead>
            <tbody>
              <!-- Riga 2 - Esempio -->
              <tr>
                <td class="p-2 border border-cyan-400 text-center bg-custom-blue-light font-bold">2</td>
                <td class="p-2 border border-cyan-400 text-center bg-white font-bold text-cyan-600">X</td>
                <td class="p-2 border border-cyan-400 text-center bg-white font-bold text-cyan-600">X</td>
                <td class="p-2 border border-cyan-400 text-center bg-white"></td>
                <td class="p-2 border border-cyan-400 text-center bg-white"></td>
                <td class="p-2 border border-cyan-400 text-center bg-white"></td>
                <td class="p-2 border border-cyan-400 text-center bg-white"></td>
                <td class="p-2 border border-cyan-400 text-center bg-white"></td>
                <td class="p-2 border border-cyan-400 text-center bg-white"></td>
                <td class="p-2 border border-cyan-400 text-center bg-white"></td>
                <td class="p-2 border border-cyan-400 text-center bg-white"></td>
                <td class="p-2 border border-cyan-400 text-center bg-white font-bold text-cyan-600">Sì</td>
              </tr>
              <!-- Riga 3 -->
              <tr>
                <td class="p-2 border border-cyan-400 text-center bg-custom-blue-light font-bold">3</td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="true">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="true">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <input type="text" data-correct-answer="Sì" class="w-12 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                </td>
              </tr>
              <!-- Riga 4 -->
              <tr>
                <td class="p-2 border border-cyan-400 text-center bg-custom-blue-light font-bold">4</td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="true">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="true">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="true">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <input type="text" data-correct-answer="No" class="w-12 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                </td>
              </tr>
              <!-- Riga 5 -->
              <tr>
                <td class="p-2 border border-cyan-400 text-center bg-custom-blue-light font-bold">5</td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="true">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="true">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <input type="text" data-correct-answer="Sì" class="w-12 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                </td>
              </tr>
              <!-- Riga 6 -->
              <tr>
                <td class="p-2 border border-cyan-400 text-center bg-custom-blue-light font-bold">6</td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="true">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="true">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="true">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="true">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <input type="text" data-correct-answer="No" class="w-12 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                </td>
              </tr>
              <!-- Riga 7 -->
              <tr>
                <td class="p-2 border border-cyan-400 text-center bg-custom-blue-light font-bold">7</td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="true">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="true">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <input type="text" data-correct-answer="Sì" class="w-12 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                </td>
              </tr>
              <!-- Riga 8 -->
              <tr>
                <td class="p-2 border border-cyan-400 text-center bg-custom-blue-light font-bold">8</td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="true">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="true">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="true">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="true">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <input type="text" data-correct-answer="No" class="w-12 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                </td>
              </tr>
              <!-- Riga 9 -->
              <tr>
                <td class="p-2 border border-cyan-400 text-center bg-custom-blue-light font-bold">9</td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="true">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="true">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="true">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <input type="text" data-correct-answer="No" class="w-12 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                </td>
              </tr>
              <!-- Riga 10 -->
              <tr>
                <td class="p-2 border border-cyan-400 text-center bg-custom-blue-light font-bold">10</td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="true">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="true">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="true">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <label class="relative flex items-center justify-center w-6 h-6 mx-auto bg-white border-2 border-cyan-400 rounded cursor-pointer hover:bg-custom-blue-light has-checked:bg-cyan-300">
                    <input type="checkbox" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="true">
                    <span class="hidden peer-checked:block">X</span>
                  </label>
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <input type="text" data-correct-answer="No" class="w-12 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Box informativo -->
        <div class="p-3 bg-custom-blue-light rounded-2xl my-auto w-fit mx-auto">
          <div class="text-gray-700">
            <p class="mb-1">I <span class="font-bold text-cyan-600">numeri primi</span> hanno come divisori solo <span class="font-bold text-cyan-600">1</span> e <span class="font-bold text-cyan-600">se stessi</span>.</p>
            <p class="mb-1">Tutti i numeri primi sono dispari, a eccezione del <span class="font-bold text-cyan-600">2</span>.</p>
            <p>Lo <span class="font-bold text-cyan-600">0</span> e l'<span class="font-bold text-cyan-600">1</span> non sono considerati numeri primi.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Esercizio 2: Crivello di Eratostene -->
    <div data-controller="word-highlighter" data-word-highlighter-multi-color-value="true">
      <p class="font-bold text-gray-700 mb-3">
        <%= numero_esercizio_badge(2) %>
        Colora i numeri seguendo il procedimento del "Crivello di Eratostene". Seleziona un colore, poi clicca sui numeri.
      </p>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- Griglia numeri 1-100 -->
        <div class="overflow-x-auto">
          <table class="border-collapse border border-cyan-400">
            <tbody>
              <% (1..100).each_slice(10) do |row| %>
              <tr>
                <% row.each do |n| %>
                <td class="p-1 border border-cyan-400 text-center bg-white">
                  <% if n == 1 %>
                    <span class="line-through text-gray-400 w-8 h-8 inline-flex items-center justify-center">1</span>
                  <% else %>
                    <span data-word-highlighter-target="word"
                          data-action="click->word-highlighter#toggleHighlight"
                          class="cursor-pointer hover:opacity-80 w-8 h-8 inline-flex items-center justify-center font-bold">
                      <%= n %>
                    </span>
                  <% end %>
                </td>
                <% end %>
              </tr>
              <% end %>
            </tbody>
          </table>
        </div>

        <!-- Box Crivello di Eratostene con selettori colore -->
        <div class="p-4 bg-white border-3 border-cyan-400 rounded-2xl my-auto w-fit mx-auto">
          <p class="font-bold text-cyan-600 mb-3">Crivello di Eratostene</p>
          <ul class="space-y-3 text-gray-700">
            <li class="flex items-center gap-2">
              <span data-word-highlighter-target="colorBox"
                    data-color="yellow"
                    data-action="click->word-highlighter#selectColor"
                    class="w-6 h-6 bg-yellow-300 rounded cursor-pointer ring-2 ring-gray-300 hover:scale-110 transition"></span>
              <span>Colora di <span class="font-bold text-yellow-500">giallo</span> i multipli di 2 (escluso il 2)</span>
            </li>
            <li class="flex items-center gap-2">
              <span data-word-highlighter-target="colorBox"
                    data-color="red"
                    data-action="click->word-highlighter#selectColor"
                    class="w-6 h-6 bg-red-300 rounded cursor-pointer ring-2 ring-gray-300 hover:scale-110 transition"></span>
              <span>Colora di <span class="font-bold text-red-500">rosso</span> i multipli di 3 (escluso il 3)</span>
            </li>
            <li class="flex items-center gap-2">
              <span data-word-highlighter-target="colorBox"
                    data-color="blue"
                    data-action="click->word-highlighter#selectColor"
                    class="w-6 h-6 bg-blue-300 rounded cursor-pointer ring-2 ring-gray-300 hover:scale-110 transition"></span>
              <span>Colora di <span class="font-bold text-blue-500">azzurro</span> i multipli di 5 (escluso il 5)</span>
            </li>
            <li class="flex items-center gap-2">
              <span data-word-highlighter-target="colorBox"
                    data-color="green"
                    data-action="click->word-highlighter#selectColor"
                    class="w-6 h-6 bg-green-300 rounded cursor-pointer ring-2 ring-gray-300 hover:scale-110 transition"></span>
              <span>Colora di <span class="font-bold text-green-500">verde</span> i multipli di 7 (escluso il 7)</span>
            </li>
          </ul>
          <p class="mt-4 text-gray-700">I numeri che non hai colorato sono tutti i <span class="font-bold text-cyan-600">numeri primi minori di 100</span>.</p>
        </div>
      </div>
    </div>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
