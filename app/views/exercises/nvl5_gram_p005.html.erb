<div class="max-w-6xl mx-auto bg-white dark:bg-gray-900 text-black dark:text-white p-3 md:p-6 transition-colors duration-300"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <!-- Introduction: What is ORTOGRAFIA -->
  <div class="bg-white dark:bg-gray-800 rounded-lg p-4 md:p-6">
    <p class="text-base md:text-lg leading-relaxed text-gray-800 dark:text-gray-200 mb-3">
      <span class="font-bold text-pink-600 dark:text-pink-400">ORTOGRAFIA</span> Ã¨ una parola greca che significa "scrittura corretta".
    </p>
    <p class="text-base md:text-lg leading-relaxed text-gray-800 dark:text-gray-200">
      Ãˆ quella parte della grammatica che definisce le regole per scrivere in modo corretto. Se scrivi in modo corretto riuscirai a farti capire bene dagli altri.
    </p>
  </div>

  <!-- Exercise 1: Syllables -->
  <div class="bg-white dark:bg-gray-800 rounded-lg p-4 md:p-6" data-controller="word-choice">
    <h2 class="text-base md:text-lg font-bold mb-4 dark:text-white">
      <span class="text-pink-600 dark:text-pink-400 text-2xl">â€¢</span> Cerchia le parole che sono divise correttamente in sillabe.
    </h2>

    <div class="space-y-3 text-base md:text-lg">
      <div>
        <span class="font-bold text-pink-600 dark:text-pink-400">SCALA</span>
        <span class="ml-4 px-3 py-1 rounded-lg border-2 border-pink-300 dark:border-pink-600 hover:bg-pink-100 dark:hover:bg-pink-900/30 transition cursor-pointer dark:text-white"
              data-word-choice-target="word"
              data-group="scala"
              data-correct="true"
              data-action="click->word-choice#select">sca/la</span>
        <span class="ml-2 px-3 py-1 rounded-lg border-2 border-pink-300 dark:border-pink-600 hover:bg-pink-100 dark:hover:bg-pink-900/30 transition cursor-pointer dark:text-white"
              data-word-choice-target="word"
              data-group="scala"
              data-correct="false"
              data-action="click->word-choice#select">sc/ala</span>
      </div>
      <div>
        <span class="font-bold text-pink-600 dark:text-pink-400">LIBRO</span>
        <span class="ml-4 px-3 py-1 rounded-lg border-2 border-pink-300 dark:border-pink-600 hover:bg-pink-100 dark:hover:bg-pink-900/30 transition cursor-pointer dark:text-white"
              data-word-choice-target="word"
              data-group="libro"
              data-correct="false"
              data-action="click->word-choice#select">lib/ro</span>
        <span class="ml-2 px-3 py-1 rounded-lg border-2 border-pink-300 dark:border-pink-600 hover:bg-pink-100 dark:hover:bg-pink-900/30 transition cursor-pointer dark:text-white"
              data-word-choice-target="word"
              data-group="libro"
              data-correct="true"
              data-action="click->word-choice#select">li/bro</span>
      </div>
      <div>
        <span class="font-bold text-pink-600 dark:text-pink-400">TAVOLO</span>
        <span class="ml-4 px-3 py-1 rounded-lg border-2 border-pink-300 dark:border-pink-600 hover:bg-pink-100 dark:hover:bg-pink-900/30 transition cursor-pointer dark:text-white"
              data-word-choice-target="word"
              data-group="tavolo"
              data-correct="false"
              data-action="click->word-choice#select">tav/o/lo</span>
        <span class="ml-2 px-3 py-1 rounded-lg border-2 border-pink-300 dark:border-pink-600 hover:bg-pink-100 dark:hover:bg-pink-900/30 transition cursor-pointer dark:text-white"
              data-word-choice-target="word"
              data-group="tavolo"
              data-correct="true"
              data-action="click->word-choice#select">ta/vo/lo</span>
      </div>
      <div>
        <span class="font-bold text-pink-600 dark:text-pink-400">CARRELLO</span>
        <span class="ml-4 px-3 py-1 rounded-lg border-2 border-pink-300 dark:border-pink-600 hover:bg-pink-100 dark:hover:bg-pink-900/30 transition cursor-pointer dark:text-white"
              data-word-choice-target="word"
              data-group="carrello"
              data-correct="true"
              data-action="click->word-choice#select">car/rel/lo</span>
        <span class="ml-2 px-3 py-1 rounded-lg border-2 border-pink-300 dark:border-pink-600 hover:bg-pink-100 dark:hover:bg-pink-900/30 transition cursor-pointer dark:text-white"
              data-word-choice-target="word"
              data-group="carrello"
              data-correct="false"
              data-action="click->word-choice#select">carr/el/lo</span>
      </div>
      <div>
        <span class="font-bold text-pink-600 dark:text-pink-400">LAMPADA</span>
        <span class="ml-4 px-3 py-1 rounded-lg border-2 border-pink-300 dark:border-pink-600 hover:bg-pink-100 dark:hover:bg-pink-900/30 transition cursor-pointer dark:text-white"
              data-word-choice-target="word"
              data-group="lampada"
              data-correct="false"
              data-action="click->word-choice#select">la/mpa/da</span>
        <span class="ml-2 px-3 py-1 rounded-lg border-2 border-pink-300 dark:border-pink-600 hover:bg-pink-100 dark:hover:bg-pink-900/30 transition cursor-pointer dark:text-white"
              data-word-choice-target="word"
              data-group="lampada"
              data-correct="true"
              data-action="click->word-choice#select">lam/pa/da</span>
      </div>
      <div>
        <span class="font-bold text-pink-600 dark:text-pink-400">FINESTRA</span>
        <span class="ml-4 px-3 py-1 rounded-lg border-2 border-pink-300 dark:border-pink-600 hover:bg-pink-100 dark:hover:bg-pink-900/30 transition cursor-pointer dark:text-white"
              data-word-choice-target="word"
              data-group="finestra"
              data-correct="false"
              data-action="click->word-choice#select">fi/ne/stra</span>
        <span class="ml-2 px-3 py-1 rounded-lg border-2 border-pink-300 dark:border-pink-600 hover:bg-pink-100 dark:hover:bg-pink-900/30 transition cursor-pointer dark:text-white"
              data-word-choice-target="word"
              data-group="finestra"
              data-correct="true"
              data-action="click->word-choice#select">fi/nes/tra</span>
      </div>
    </div>
  </div>

  <!-- Exercise 2: Alphabetical Order -->
  <div class="bg-white dark:bg-gray-800 rounded-lg p-4 md:p-6">
    <h2 class="text-base md:text-lg font-bold mb-4 dark:text-white">
      <span class="text-pink-600 dark:text-pink-400 text-2xl">â€¢</span> Quali parole sono in ordine alfabetico? Indica con una <span class="underline">X</span>.
    </h2>

    <div class="text-base md:text-lg">
      <label class="flex items-center gap-4 cursor-pointer hover:bg-pink-50 dark:hover:bg-pink-900/20 py-0 px-2 rounded transition">
        <input type="checkbox"
               class="w-5 h-5 text-pink-600 border-pink-300 dark:border-pink-600 rounded focus:ring-pink-500"
               data-correct-answer="false">
        <span class="border-2 border-transparent p-1 rounded dark:text-white">finestra-bibliotecaria-carrello-cuscino</span>
      </label>
      <label class="flex items-center gap-4 cursor-pointer hover:bg-pink-50 dark:hover:bg-pink-900/20 py-0 px-2 rounded transition">
        <input type="checkbox"
               class="w-5 h-5 text-pink-600 border-pink-300 dark:border-pink-600 rounded focus:ring-pink-500"
               data-correct-answer="true">
        <span class="border-2 border-transparent p-1 rounded dark:text-white">bibliotecaria-carrello-cuscino-finestra</span>
      </label>
      <label class="flex items-center gap-4 cursor-pointer hover:bg-pink-50 dark:hover:bg-pink-900/20 py-0 px-2 rounded transition">
        <input type="checkbox"
               class="w-5 h-5 text-pink-600 border-pink-300 dark:border-pink-600 rounded focus:ring-pink-500"
               data-correct-answer="true">
        <span class="border-2 border-transparent p-1 rounded dark:text-white">lampada-sedia-tavolo-tappeto</span>
      </label>
      <label class="flex items-center gap-4 cursor-pointer hover:bg-pink-50 dark:hover:bg-pink-900/20 py-0 px-2 rounded transition">
        <input type="checkbox"
               class="w-5 h-5 text-pink-600 border-pink-300 dark:border-pink-600 rounded focus:ring-pink-500"
               data-correct-answer="false">
        <span class="border-2 border-transparent p-1 rounded dark:text-white">lampada-sedia-tappeto-tavolo</span>
      </label>
    </div>
  </div>

  <!-- Exercise 3: CU or QU -->
  <div class="bg-white dark:bg-gray-800 rounded-lg p-4 md:p-6">
    <h2 class="text-base md:text-lg font-bold mb-4 dark:text-white">
      <span class="text-pink-600 dark:text-pink-400 text-2xl">â€¢</span> Completa con <em><span class="font-bold text-pink-600 dark:text-pink-400">CU</span></em> o <span class="font-bold text-cyan-700 dark:text-cyan-400">QU</span>.
    </h2>

    <div class="space-y-3 text-base md:text-lg dark:text-white">
      <div>
        <em><span class="font-bold text-pink-600 dark:text-pink-400">CU</span></em>SCINO
      </div>
      <div>
        <span class="font-bold text-cyan-700 dark:text-cyan-400">QU</span>ADERNO
      </div>
      <div class="flex items-center gap-2">
        <input type="text"
               class="w-16 px-2 py-1 text-center border-2 border-pink-300 dark:border-pink-600 rounded-lg focus:border-pink-500 focus:ring-2 focus:ring-pink-200 outline-none uppercase bg-transparent dark:text-white"
               maxlength="2"
               placeholder="__"
               data-correct-answer="QU">
        <span>ORE</span>
      </div>
      <div class="flex items-center gap-2">
        <input type="text"
               class="w-16 px-2 py-1 text-center border-2 border-pink-300 dark:border-pink-600 rounded-lg focus:border-pink-500 focus:ring-2 focus:ring-pink-200 outline-none uppercase bg-transparent dark:text-white"
               maxlength="2"
               placeholder="__"
               data-correct-answer="CU">
        <span>LLA</span>
      </div>
      <div class="flex items-center gap-2">
        <span>S</span>
        <input type="text"
               class="w-16 px-2 py-1 text-center border-2 border-pink-300 dark:border-pink-600 rounded-lg focus:border-pink-500 focus:ring-2 focus:ring-pink-200 outline-none uppercase bg-transparent dark:text-white"
               maxlength="2"
               placeholder="__"
               data-correct-answer="CU">
        <span>OLA</span>
      </div>
      <div class="flex items-center gap-2">
        <span>A</span>
        <input type="text"
               class="w-16 px-2 py-1 text-center border-2 border-pink-300 dark:border-pink-600 rounded-lg focus:border-pink-500 focus:ring-2 focus:ring-pink-200 outline-none uppercase bg-transparent dark:text-white"
               maxlength="2"
               placeholder="__"
               data-correct-answer="QU">
        <span>ILONE</span>
      </div>
    </div>
  </div>

  <!-- CLIL Section -->
  <div class="mb-6 bg-blue-50 dark:bg-blue-900/30 rounded-lg p-4 md:p-6 border-2 border-pink-300 dark:border-pink-600">
    <h2 class="text-base md:text-lg font-bold text-pink-600 dark:text-pink-400 mb-4">
      ðŸ‡¬ðŸ‡§ CLIL - Leggi e scopri.
    </h2>

    <ul class="space-y-3 text-base md:text-lg list-disc list-inside dark:text-white">
      <li>
        Biblioteca â†’
        <span class="font-semibold text-cyan-600 dark:text-cyan-400 cursor-pointer hover:text-cyan-800 dark:hover:text-cyan-300 transition"
              data-controller="image-speech"
              data-image-speech-word-value="Library"
              data-image-speech-lang-value="en-GB"
              data-action="click->image-speech#speak">Library</span>
      </li>
      <li>
        Scaffale â†’
        <span class="font-semibold text-cyan-600 dark:text-cyan-400 cursor-pointer hover:text-cyan-800 dark:hover:text-cyan-300 transition"
              data-controller="image-speech"
              data-image-speech-word-value="Shelf"
              data-image-speech-lang-value="en-GB"
              data-action="click->image-speech#speak">Shelf</span>
      </li>
      <li>
        Finestra â†’
        <span class="font-semibold text-cyan-600 dark:text-cyan-400 cursor-pointer hover:text-cyan-800 dark:hover:text-cyan-300 transition"
              data-controller="image-speech"
              data-image-speech-word-value="Window"
              data-image-speech-lang-value="en-GB"
              data-action="click->image-speech#speak">Window</span>
      </li>
      <li>
        Sedia â†’
        <span class="font-semibold text-cyan-600 dark:text-cyan-400 cursor-pointer hover:text-cyan-800 dark:hover:text-cyan-300 transition"
              data-controller="image-speech"
              data-image-speech-word-value="Chair"
              data-image-speech-lang-value="en-GB"
              data-action="click->image-speech#speak">Chair</span>
      </li>
    </ul>
  </div>

  <%= render 'shared/exercise_controls' %>
</div>
