<div class="max-w-6xl mx-auto p-3 md:p-8 bg-gradient-to-br from-purple-50 via-white to-purple-50 rounded-3xl shadow-xl" data-controller="exercise-checker page-viewer" data-page-viewer-image-url-value="<%= asset_path('nvi5_mat/p053/page.png') %>">

  <!-- Header -->
  <div class="mb-8">
    <div class="flex items-start sm:items-center justify-between gap-4 mb-4">
      <div class="flex flex-col-reverse sm:flex-row items-start sm:items-center gap-2 sm:gap-4">
        <div class="bg-purple-500 text-white text-md sm:text-xl px-2 sm:px-4 py-1.5 sm:py-2 rounded-lg font-bold">
          MODELLO INVALSI
        </div>
        <h1 class="text-2xl sm:text-3xl font-bold text-purple-600">OPERAZIONI E RELAZIONI TRA NUMERI</h1>
      </div>
      <div class="flex-shrink-0 bg-purple-600 text-white rounded-full w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center font-bold text-lg sm:text-xl cursor-pointer hover:bg-purple-700 transition-colors"
           data-action="click->page-viewer#openOriginal"
           title="Clicca per vedere la pagina originale">
        53
      </div>
    </div>
  </div>

  <p class="text-center text-gray-600 mb-6 italic">
    Segna con una <strong>X</strong> le risposte corrette.
  </p>

  <!-- Esercizio 1 -->
  <div class="bg-white rounded-2xl shadow-lg p-4 sm:p-6 mb-6 border-4 border-blue-200">
    <div class="flex items-start gap-3 mb-4">
      <div class="flex-shrink-0 bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold">
        1
      </div>
      <p class="text-base md:text-lg font-semibold text-blue-800 pt-1">
        Qual √® il risultato di questa addizione?<br/>
        <span class="font-mono text-xl mt-2 inline-block">6,54 + 6,1 =</span>
      </p>
    </div>

    <div class="md:ml-11 space-y-2">
      <label class="flex items-center gap-3 bg-blue-50 p-3 rounded-lg cursor-pointer hover:bg-blue-100">
        <input type="radio" name="q1" value="13.55" class="w-5 h-5"/>
        <span class="text-lg">13,55</span>
      </label>
      <label class="flex items-center gap-3 bg-blue-50 p-3 rounded-lg cursor-pointer hover:bg-blue-100">
        <input type="radio" name="q1" value="12.55" class="w-5 h-5"/>
        <span class="text-lg">12,55</span>
      </label>
      <label class="flex items-center gap-3 bg-blue-50 p-3 rounded-lg cursor-pointer hover:bg-blue-100">
        <input type="radio" name="q1" value="13.64" data-correct-answer="true" class="w-5 h-5"/>
        <span class="text-lg">13,64</span>
      </label>
      <label class="flex items-center gap-3 bg-blue-50 p-3 rounded-lg cursor-pointer hover:bg-blue-100">
        <input type="radio" name="q1" value="12.64" class="w-5 h-5"/>
        <span class="text-lg">12,64</span>
      </label>
    </div>
  </div>

  <!-- Esercizio 2 -->
  <div class="bg-white rounded-2xl shadow-lg p-4 sm:p-6 mb-6 border-4 border-green-200">
    <div class="flex items-start gap-3 mb-4">
      <div class="flex-shrink-0 bg-green-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold">
        2
      </div>
      <div class="text-base md:text-lg text-green-800 pt-1">
        <p class="font-semibold mb-2">Martina √® in cartoleria per acquistare penne, matite e quaderni. Acquista 3 quaderni che costano 3,50 euro ognuno, 2 penne che costano 1,50 euro ognuna e 1 matita che costa 0,50 euro.</p>
        <p class="font-semibold">Quale espressione permette di calco lare quanto ha speso Martina?</p>
      </div>
    </div>

    <div class="md:ml-11 space-y-2">
      <label class="flex items-center gap-3 bg-green-50 p-3 rounded-lg cursor-pointer hover:bg-green-100">
        <input type="radio" name="q2" value="A" class="w-5 h-5"/>
        <span class="text-sm">(3 √ó 3,50 + 2) √ó (1,50 + 0,50) =</span>
      </label>
      <label class="flex items-center gap-3 bg-green-50 p-3 rounded-lg cursor-pointer hover:bg-green-100">
        <input type="radio" name="q2" value="B" data-correct-answer="true" class="w-5 h-5"/>
        <span class="text-sm">(3 √ó 3,50) + (2 √ó 1,50) + 0,50 =</span>
      </label>
      <label class="flex items-center gap-3 bg-green-50 p-3 rounded-lg cursor-pointer hover:bg-green-100">
        <input type="radio" name="q2" value="C" class="w-5 h-5"/>
        <span class="text-sm">3 √ó (3,50 + 2) √ó 1,50 + 0,50 =</span>
      </label>
      <label class="flex items-center gap-3 bg-green-50 p-3 rounded-lg cursor-pointer hover:bg-green-100">
        <input type="radio" name="q2" value="D" class="w-5 h-5"/>
        <span class="text-sm">3 √ó 2 + (3,50 + 1,50) + 0,50 =</span>
      </label>
    </div>
  </div>

  <!-- Esercizio 3 -->
  <div class="bg-white rounded-2xl shadow-lg p-4 sm:p-6 mb-6 border-4 border-orange-200">
    <div class="flex items-start gap-3 mb-4">
      <div class="flex-shrink-0 bg-orange-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold">
        3
      </div>
      <div class="text-base md:text-lg text-orange-800 pt-1">
        <p class="font-semibold mb-2">Osserva le seguenti operazioni:</p>
        <div class="font-mono bg-orange-50 p-3 rounded">
          1709,32 √ó 10 =<br/>
          170,932 √ó 0,01 =<br/>
          17 093,2 : 1 000 =
        </div>
        <p class="font-semibold mt-2">Quale ha risultato maggiore?</p>
      </div>
    </div>

    <div class="md:ml-11 space-y-2">
      <label class="flex items-center gap-3 bg-orange-50 p-3 rounded-lg cursor-pointer hover:bg-orange-100">
        <input type="radio" name="q3" value="same" class="w-5 h-5"/>
        <span>Hanno tutte lo stesso risultato.</span>
      </label>
      <label class="flex items-center gap-3 bg-orange-50 p-3 rounded-lg cursor-pointer hover:bg-orange-100">
        <input type="radio" name="q3" value="first" data-correct-answer="true" class="w-5 h-5"/>
        <span>1 709,32 √ó 10</span>
      </label>
      <label class="flex items-center gap-3 bg-orange-50 p-3 rounded-lg cursor-pointer hover:bg-orange-100">
        <input type="radio" name="q3" value="second" class="w-5 h-5"/>
        <span>170,932 √ó 0,01</span>
      </label>
      <label class="flex items-center gap-3 bg-orange-50 p-3 rounded-lg cursor-pointer hover:bg-orange-100">
        <input type="radio" name="q3" value="third" class="w-5 h-5"/>
        <span>17 093,2 : 1 000</span>
      </label>
    </div>
  </div>

  <!-- Esercizio 4 -->
  <div class="bg-white rounded-2xl shadow-lg p-4 sm:p-6 mb-6 border-4 border-purple-200">
    <div class="flex items-start gap-3 mb-4">
      <div class="flex-shrink-0 bg-purple-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold">
        4
      </div>
      <div class="text-base md:text-lg text-purple-800 pt-1">
        <p class="font-semibold">In quale delle seguenti divisioni √® stata applicata in modo corretto la propriet√† invariantiva?</p>
      </div>
    </div>

    <div class="md:ml-11 space-y-2">
      <label class="flex items-center gap-3 bg-purple-50 p-3 rounded-lg cursor-pointer hover:bg-purple-100">
        <input type="radio" name="q4" value="A" data-correct-answer="true" class="w-5 h-5"/>
        <span>36 : 4 = 72 : 8</span>
      </label>
      <label class="flex items-center gap-3 bg-purple-50 p-3 rounded-lg cursor-pointer hover:bg-purple-100">
        <input type="radio" name="q4" value="B" class="w-5 h-5"/>
        <span>24 : 3 = 45 : 9</span>
      </label>
      <label class="flex items-center gap-3 bg-purple-50 p-3 rounded-lg cursor-pointer hover:bg-purple-100">
        <input type="radio" name="q4" value="C" class="w-5 h-5"/>
        <span>45 : 5 = 15 : 15</span>
      </label>
      <label class="flex items-center gap-3 bg-purple-50 p-3 rounded-lg cursor-pointer hover:bg-purple-100">
        <input type="radio" name="q4" value="D" class="w-5 h-5"/>
        <span>24 : 3 = 6 : 2</span>
      </label>
    </div>
  </div>

  <!-- Esercizio 5 -->
  <div class="bg-white rounded-2xl shadow-lg p-4 sm:p-6 mb-6 border-4 border-red-200">
    <div class="flex items-start gap-3 mb-4">
      <div class="flex-shrink-0 bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold">
        5
      </div>
      <div class="text-base md:text-lg text-red-800 pt-1">
        <p class="font-semibold mb-2">Qual √® il numero, nascosto dalla faccina, che rende vera l'uguaglianza?</p>
        <p class="font-mono text-xl bg-red-50 p-3 rounded text-center">180 : 4 = üòä : 2</p>
      </div>
    </div>

    <div class="md:ml-11 flex flex-wrap gap-4">
      <label class="flex items-center gap-3 bg-red-50 p-3 rounded-lg cursor-pointer hover:bg-red-100">
        <input type="radio" name="q5" value="80" class="w-5 h-5"/>
        <span class="text-xl font-bold">80</span>
      </label>
      <label class="flex items-center gap-3 bg-red-50 p-3 rounded-lg cursor-pointer hover:bg-red-100">
        <input type="radio" name="q5" value="90" data-correct-answer="true" class="w-5 h-5"/>
        <span class="text-xl font-bold">90</span>
      </label>
      <label class="flex items-center gap-3 bg-red-50 p-3 rounded-lg cursor-pointer hover:bg-red-100">
        <input type="radio" name="q5" value="120" class="w-5 h-5"/>
        <span class="text-xl font-bold">120</span>
      </label>
      <label class="flex items-center gap-3 bg-red-50 p-3 rounded-lg cursor-pointer hover:bg-red-100">
        <input type="radio" name="q5" value="45" class="w-5 h-5"/>
        <span class="text-xl font-bold">45</span>
      </label>
    </div>
  </div>

  <!-- Esercizio 6 -->
  <div class="bg-white rounded-2xl shadow-lg p-4 sm:p-6 mb-6 border-4 border-teal-200">
    <div class="flex items-start gap-3 mb-4">
      <div class="flex-shrink-0 bg-teal-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold">
        6
      </div>
      <div class="text-base md:text-lg text-teal-800 pt-1">
        <p class="font-semibold mb-2">Qual √® il valore di questa espressione?</p>
        <p class="font-mono text-lg bg-teal-50 p-3 rounded">96 + (9 √ó 6) - (81 : 9) =</p>
      </div>
    </div>

    <div class="md:ml-11 flex flex-wrap gap-4">
      <label class="flex items-center gap-3 bg-teal-50 p-3 rounded-lg cursor-pointer hover:bg-teal-100">
        <input type="radio" name="q6" value="159" class="w-5 h-5"/>
        <span class="text-xl font-bold">159</span>
      </label>
      <label class="flex items-center gap-3 bg-teal-50 p-3 rounded-lg cursor-pointer hover:bg-teal-100">
        <input type="radio" name="q6" value="45" class="w-5 h-5"/>
        <span class="text-xl font-bold">45</span>
      </label>
      <label class="flex items-center gap-3 bg-teal-50 p-3 rounded-lg cursor-pointer hover:bg-teal-100">
        <input type="radio" name="q6" value="150" class="w-5 h-5"/>
        <span class="text-xl font-bold">150</span>
      </label>
      <label class="flex items-center gap-3 bg-teal-50 p-3 rounded-lg cursor-pointer hover:bg-teal-100">
        <input type="radio" name="q6" value="141" data-correct-answer="true" class="w-5 h-5"/>
        <span class="text-xl font-bold">141</span>
      </label>
    </div>
  </div>

  <!-- Esercizio 7 -->
  <div class="bg-white rounded-2xl shadow-lg p-4 sm:p-6 mb-6 border-4 border-pink-200">
    <div class="flex items-start gap-3 mb-4">
      <div class="flex-shrink-0 bg-pink-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold">
        7
      </div>
      <div class="text-base md:text-lg text-pink-800 pt-1">
        <p class="font-semibold mb-2">Osserva questa successione di numeri. Perch√© √® stato tolto il numero 20?</p>
        <div class="flex items-center gap-2 font-mono text-xl bg-pink-50 p-3 rounded justify-center flex-wrap">
          <span>63</span>
          <span>60</span>
          <span class="line-through text-red-500">20</span>
          <span>45</span>
          <span>24</span>
          <span>36</span>
        </div>
      </div>
    </div>

    <div class="md:ml-11 space-y-2">
      <label class="flex items-center gap-3 bg-pink-50 p-3 rounded-lg cursor-pointer hover:bg-pink-100">
        <input type="radio" name="q7" value="A" class="w-5 h-5"/>
        <span>Perch√© termina per 0.</span>
      </label>
      <label class="flex items-center gap-3 bg-pink-50 p-3 rounded-lg cursor-pointer hover:bg-pink-100">
        <input type="radio" name="q7" value="B" class="w-5 h-5"/>
        <span>Perch√© non √® divisibile per 2.</span>
      </label>
      <label class="flex items-center gap-3 bg-pink-50 p-3 rounded-lg cursor-pointer hover:bg-pink-100">
        <input type="radio" name="q7" value="C" class="w-5 h-5"/>
        <span>Perch√© non √® divisibile per 4.</span>
      </label>
      <label class="flex items-center gap-3 bg-pink-50 p-3 rounded-lg cursor-pointer hover:bg-pink-100">
        <input type="radio" name="q7" value="D" data-correct-answer="true" class="w-5 h-5"/>
        <span>Perch√© non √® divisibile per 3.</span>
      </label>
    </div>
  </div>

  <!-- Esercizio 8 -->
  <div class="bg-white rounded-2xl shadow-lg p-4 sm:p-6 mb-6 border-4 border-indigo-200">
    <div class="flex items-start gap-3 mb-4">
      <div class="flex-shrink-0 bg-indigo-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold">
        8
      </div>
      <div class="text-base md:text-lg text-indigo-800 pt-1">
        <p class="font-semibold mb-2">Michela sta pensando a un numero multiplo di 2, multiplo di 3 e divisibile per 5.</p>
        <p class="font-semibold">Quale tra i seguenti √® il numero a cui sta pensando Michela?</p>
      </div>
    </div>

    <div class="md:ml-11 flex flex-wrap gap-4">
      <label class="flex items-center gap-3 bg-indigo-50 p-3 rounded-lg cursor-pointer hover:bg-indigo-100">
        <input type="radio" name="q8" value="12" class="w-5 h-5"/>
        <span class="text-xl font-bold">12</span>
      </label>
      <label class="flex items-center gap-3 bg-indigo-50 p-3 rounded-lg cursor-pointer hover:bg-indigo-100">
        <input type="radio" name="q8" value="15" class="w-5 h-5"/>
        <span class="text-xl font-bold">15</span>
      </label>
      <label class="flex items-center gap-3 bg-indigo-50 p-3 rounded-lg cursor-pointer hover:bg-indigo-100">
        <input type="radio" name="q8" value="20" class="w-5 h-5"/>
        <span class="text-xl font-bold">20</span>
      </label>
      <label class="flex items-center gap-3 bg-indigo-50 p-3 rounded-lg cursor-pointer hover:bg-indigo-100">
        <input type="radio" name="q8" value="30" data-correct-answer="true" class="w-5 h-5"/>
        <span class="text-xl font-bold">30</span>
      </label>
    </div>
  </div>

  <!-- Esercizio 9 -->
  <div class="bg-white rounded-2xl shadow-lg p-4 sm:p-6 mb-6 border-4 border-yellow-200">
    <div class="flex items-start gap-3 mb-4">
      <div class="flex-shrink-0 bg-yellow-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold">
        9
      </div>
      <div class="text-base md:text-lg text-yellow-800 pt-1">
        <p class="font-semibold mb-2">Fra le seguenti affermazioni qual √® quella vera?</p>
        <div class="space-y-1 text-sm bg-yellow-50 p-3 rounded">
          <p><strong>a)</strong> 24 √® divisore di 50 e multiplo di 8.</p>
          <p><strong>b)</strong> 24 √® multiplo di 8 e divisore di 12.</p>
          <p><strong>c)</strong> 8 √® multiplo di 4 e di 8.</p>
        </div>
      </div>
    </div>

    <div class="md:ml-11 flex flex-wrap gap-4">
      <label class="flex items-center gap-3 bg-yellow-50 p-3 rounded-lg cursor-pointer hover:bg-yellow-100">
        <input type="radio" name="q9" value="a" class="w-5 h-5"/>
        <span class="text-lg font-bold">a)</span>
      </label>
      <label class="flex items-center gap-3 bg-yellow-50 p-3 rounded-lg cursor-pointer hover:bg-yellow-100">
        <input type="radio" name="q9" value="b" class="w-5 h-5"/>
        <span class="text-lg font-bold">b)</span>
      </label>
      <label class="flex items-center gap-3 bg-yellow-50 p-3 rounded-lg cursor-pointer hover:bg-yellow-100">
        <input type="radio" name="q9" value="c" data-correct-answer="true" class="w-5 h-5"/>
        <span class="text-lg font-bold">c)</span>
      </label>
      <label class="flex items-center gap-3 bg-yellow-50 p-3 rounded-lg cursor-pointer hover:bg-yellow-100">
        <input type="radio" name="q9" value="none" class="w-5 h-5"/>
        <span class="text-lg font-bold">Nessuna</span>
      </label>
    </div>
  </div>

  <!-- Info Box -->
  <div class="mt-6 bg-gradient-to-r from-purple-100 to-purple-200 rounded-2xl p-6 border-l-4 border-purple-500">
    <p class="text-lg text-gray-800">
      <span class="font-bold text-purple-700">üìù Test INVALSI:</span>
      Questo tipo di esercizi ti prepara per le prove nazionali. Leggi attentamente ogni domanda e scegli con cura la risposta!
    </p>
  </div>

  <!-- Exercise Controls -->
  <%= render 'shared/exercise_controls', color: 'purple', current_page: 'nvi5_mat_p053' %>

</div>
