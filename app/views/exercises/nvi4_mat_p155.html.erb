<div class="max-w-6xl mx-auto bg-white dark:bg-gray-900 p-3 md:p-6 transition-colors duration-300"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">

    <!-- Container ESERCIZI -->
    <div class="p-4 md:p-6 bg-orange-100 dark:bg-orange-900/30 rounded-2xl space-y-8">

      <!-- Esercizio 1 -->
      <div>
        <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
          <%= numero_esercizio_badge(1) %>
          La maestra chiede a ciascuno dei suoi alunni quale città italiana, tra le cinque proposte, vorrebbe visitare. Ogni bambina o bambino può esprimere una sola preferenza. Osserva i dati raccolti in tabella e rispondi.
        </p>

        <div class="flex flex-col md:flex-row gap-6">
          <!-- Tabella -->
          <div class="shrink-0">
            <table class="border-2 border-cyan-400 dark:border-cyan-600">
              <thead>
                <tr>
                  <th class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-cyan-100 dark:bg-cyan-900/40 text-gray-800 dark:text-gray-200 text-center font-bold">città</th>
                  <th class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-cyan-100 dark:bg-cyan-900/40 text-gray-800 dark:text-gray-200 text-center font-bold">n. bambini</th>
                </tr>
              </thead>
              <tbody class="text-gray-700 dark:text-gray-200">
                <tr>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">Roma</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">9</td>
                </tr>
                <tr>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">Firenze</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">4</td>
                </tr>
                <tr>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">Venezia</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">7</td>
                </tr>
                <tr>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">Milano</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">0</td>
                </tr>
                <tr>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">Napoli</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">2</td>
                </tr>
              </tbody>
            </table>
          </div>

          <!-- Domande -->
          <div class="flex-1 space-y-3 text-gray-700 dark:text-gray-200">
            <div class="flex flex-col gap-2">
              <span><span class="text-<%= @pagina.base_color %>-500">•</span> Quanti bambini hanno partecipato all'indagine?</span>
              <input type="text" data-correct-answer="22" class="w-24 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            </div>
            <div class="flex flex-col gap-2">
              <span><span class="text-<%= @pagina.base_color %>-500">•</span> Quale città ha avuto più preferenze?</span>
              <input type="text" data-correct-answer="Roma" class="w-32 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            </div>
            <div class="flex flex-col gap-2">
              <span><span class="text-<%= @pagina.base_color %>-500">•</span> C'è qualche città che non ha avuto preferenze? Se sì, quale?</span>
              <input type="text" data-correct-answer="Milano" class="w-32 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            </div>
          </div>
        </div>
      </div>

      <!-- Esercizio 2 -->
      <div>
        <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
          <%= numero_esercizio_badge(2) %>
          In questa tabella sono registrate le altezze degli alunni della 4ª. Riordina i dati compilando la tabella di frequenza, poi rispondi.
        </p>

        <div class="flex flex-col lg:flex-row gap-6">
          <!-- Tabella dati raccolti -->
          <div class="space-y-2">
            <p class="font-bold text-gray-700 dark:text-gray-200 text-center">dati raccolti</p>
            <table class="border-2 border-cyan-400 dark:border-cyan-600">
              <thead>
                <tr>
                  <th colspan="4" class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-cyan-100 dark:bg-cyan-900/40 text-gray-800 dark:text-gray-200 text-center font-bold">altezza in cm alunni 4ª A</th>
                </tr>
              </thead>
              <tbody class="text-gray-700 dark:text-gray-200">
                <tr>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">140</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">142</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">142</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">137</td>
                </tr>
                <tr>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">139</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">140</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">140</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">139</td>
                </tr>
                <tr>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">135</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">149</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">139</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">137</td>
                </tr>
                <tr>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">142</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">137</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">140</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">144</td>
                </tr>
                <tr>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">150</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">140</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">150</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">149</td>
                </tr>
              </tbody>
            </table>
          </div>

          <!-- Tabella frequenza da completare -->
          <div class="space-y-2">
            <p class="font-bold text-gray-700 dark:text-gray-200 text-center">dati in ordine di altezza</p>
            <table class="border-2 border-cyan-400 dark:border-cyan-600">
              <thead>
                <tr>
                  <th class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-cyan-100 dark:bg-cyan-900/40 text-gray-800 dark:text-gray-200 text-center font-bold">altezza in cm</th>
                  <th class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-cyan-100 dark:bg-cyan-900/40 text-gray-800 dark:text-gray-200 text-center font-bold">frequenza</th>
                </tr>
              </thead>
              <tbody class="text-gray-700 dark:text-gray-200">
                <tr>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">135</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">1</td>
                </tr>
                <tr>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">137</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">3</td>
                </tr>
                <tr>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">139</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">
                    <input type="text" data-correct-answer="3" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                  </td>
                </tr>
                <tr>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">140</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">
                    <input type="text" data-correct-answer="5" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                  </td>
                </tr>
                <tr>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">142</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">
                    <input type="text" data-correct-answer="3" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                  </td>
                </tr>
                <tr>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">144</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">
                    <input type="text" data-correct-answer="1" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                  </td>
                </tr>
                <tr>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">149</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">
                    <input type="text" data-correct-answer="2" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                  </td>
                </tr>
                <tr>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">150</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">
                    <input type="text" data-correct-answer="2" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

          <!-- Domande -->
          <div class="flex-1 space-y-3 text-gray-700 dark:text-gray-200">
            <div class="flex flex-col gap-2">
              <span><span class="text-<%= @pagina.base_color %>-500">•</span> Quanti sono gli alunni di 4ª A?</span>
              <input type="text" data-correct-answer="20" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            </div>
            <div class="flex flex-col gap-2">
              <span><span class="text-<%= @pagina.base_color %>-500">•</span> Qual è l'altezza che compare con maggiore frequenza?</span>
              <input type="text" data-correct-answer="140" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            </div>
          </div>
        </div>
      </div>

      <!-- Esercizio 3 -->
      <div>
        <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
          <%= numero_esercizio_badge(3) %>
          Nella classe 4ª B ci sono 18 alunni. Decidono di fare un'indagine sugli sport praticati e realizzano la tabella che vedi qui sotto. Osserva i dati e completa la tabella di frequenza.
        </p>

        <div class="flex flex-col lg:flex-row gap-6">
          <!-- Tabella alunni e sport -->
          <div class="overflow-x-auto">
            <table class="border-2 border-cyan-400 dark:border-cyan-600">
              <thead>
                <tr>
                  <th class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-cyan-100 dark:bg-cyan-900/40 text-gray-800 dark:text-gray-200 text-center font-bold">alunni</th>
                  <th class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-cyan-100 dark:bg-cyan-900/40 text-gray-800 dark:text-gray-200 text-center font-bold">sport praticato</th>
                </tr>
              </thead>
              <tbody class="text-gray-700 dark:text-gray-200">
                <tr>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">Federico</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">pallavolo</td>
                </tr>
                <tr>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">Carola</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">basket</td>
                </tr>
                <tr>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">James</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">calcio</td>
                </tr>
                <tr>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">Pietro</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">nuoto</td>
                </tr>
                <tr>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">Alessandra</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">judo</td>
                </tr>
                <tr>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">Simona</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">tennis</td>
                </tr>
                <tr>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">Giacomo</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">ginnastica</td>
                </tr>
                <tr>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">Luigi</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">calcio</td>
                </tr>
                <tr>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">Marta</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">pallavolo</td>
                </tr>
                <tr>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">Tommaso</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">pallavolo</td>
                </tr>
                <tr>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">Emanuele</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">basket</td>
                </tr>
                <tr>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">Lin</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">nuoto</td>
                </tr>
                <tr>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">Ilaria</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">calcio</td>
                </tr>
                <tr>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">Ester</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">pallavolo</td>
                </tr>
                <tr>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">Giovanni</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">basket</td>
                </tr>
                <tr>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">Claudia</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">pallavolo</td>
                </tr>
                <tr>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">Vittoria</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">judo</td>
                </tr>
                <tr>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">Franco</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">judo</td>
                </tr>
              </tbody>
            </table>
          </div>

          <!-- Tabella frequenza da completare -->
          <div>
            <table class="border-2 border-cyan-400 dark:border-cyan-600">
              <thead>
                <tr>
                  <th class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-cyan-100 dark:bg-cyan-900/40 text-gray-800 dark:text-gray-200 text-center font-bold">sport praticato</th>
                  <th class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-cyan-100 dark:bg-cyan-900/40 text-gray-800 dark:text-gray-200 text-center font-bold">n. alunni</th>
                </tr>
              </thead>
              <tbody class="text-gray-700 dark:text-gray-200">
                <tr>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">pallavolo</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">
                    <input type="text" data-correct-answer="5" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                  </td>
                </tr>
                <tr>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">basket</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">
                    <input type="text" data-correct-answer="3" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                  </td>
                </tr>
                <tr>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">calcio</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">
                    <input type="text" data-correct-answer="3" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                  </td>
                </tr>
                <tr>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">nuoto</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">
                    <input type="text" data-correct-answer="2" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                  </td>
                </tr>
                <tr>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">judo</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">
                    <input type="text" data-correct-answer="3" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                  </td>
                </tr>
                <tr>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">tennis</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">
                    <input type="text" data-correct-answer="1" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                  </td>
                </tr>
                <tr>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">ginnastica</td>
                  <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 text-center bg-white dark:bg-gray-700">
                    <input type="text" data-correct-answer="1" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

    </div>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
