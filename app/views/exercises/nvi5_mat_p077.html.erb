<div class="max-w-6xl mx-auto p-3 md:p-6"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <!-- Header -->
  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">
    <!-- Problema 1: La corsa -->
    <div class="p-4 md:p-6 bg-white border-3 border-indigo-500 rounded-3xl">
      <div class="flex items-start gap-3 mb-4">
        <div class="bg-indigo-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">1</div>
        <h2 class="font-bold text-indigo-700">La corsa</h2>
      </div>

      <div class="space-y-4">
        <p class="text-gray-800">
          Mirco, Sauro, Davide, Luca e Franco partecipano a una corsa di velocità e arrivano al traguardo uno dopo l'altro.<br>
          Per l'esattezza:
        </p>

        <ul class="list-disc ml-6 space-y-2 text-gray-800">
          <li>Mirco non è arrivato primo;</li>
          <li>Sauro è arrivato terzo, dopo Luca ma prima di Davide;</li>
          <li>Franco invece è arrivato prima di Davide ma dopo Mirco.</li>
        </ul>

        <p class="font-bold text-indigo-700"><span class="text-pink-600">&#8226;</span> Indica l'ordine di arrivo dei ragazzi.</p>

        <div class="p-4 bg-indigo-50 rounded-lg">
          <div class="grid grid-cols-5 gap-3">
            <div class="p-3 text-center">
              <div class="text-2xl mb-1">&#129351;</div>
              <div class="font-bold text-gray-700 mb-2">1°</div>
              <input type="text" class="w-full px-3 py-2 border-2 border-yellow-400 rounded text-center font-bold text-yellow-700 focus:outline-none" placeholder="?">
            </div>
            <div class="p-3 text-center">
              <div class="text-2xl mb-1">&#129352;</div>
              <div class="font-bold text-gray-700 mb-2">2°</div>
              <input type="text" class="w-full px-3 py-2 border-2 border-gray-400 rounded text-center font-bold text-gray-700 focus:outline-none" placeholder="?">
            </div>
            <div class="p-3 text-center">
              <div class="text-2xl mb-1">&#129353;</div>
              <div class="font-bold text-gray-700 mb-2">3°</div>
              <input type="text" class="w-full px-3 py-2 border-2 border-orange-400 rounded text-center font-bold text-orange-700 focus:outline-none" placeholder="?">
            </div>
            <div class="p-3 text-center">
              <div class="font-bold text-gray-700 mb-2">4°</div>
              <input type="text" class="w-full px-3 py-2 border-2 border-blue-400 rounded text-center font-bold text-blue-700 focus:outline-none" placeholder="?">
            </div>
            <div class="p-3 text-center">
              <div class="font-bold text-gray-700 mb-2">5°</div>
              <input type="text" class="w-full px-3 py-2 border-2 border-purple-400 rounded text-center font-bold text-purple-700 focus:outline-none" placeholder="?">
            </div>
          </div>
        </div>

        <div class="p-4 bg-indigo-50 rounded-lg">
          <div class="h-32 bg-white rounded border-2 border-dashed border-indigo-300 flex items-center justify-center">
            <span class="text-gray-400">Spazio per ragionamento</span>
          </div>
        </div>

        <div class="p-3 bg-yellow-50 border-2 border-yellow-200 rounded-lg">
          <p class="text-gray-700">
            <span class="font-bold">Suggerimento:</span> Parti dall'informazione più precisa (Sauro è terzo) e deduci step by step!
          </p>
        </div>
      </div>
    </div>

    <!-- Problema 2: Nell'antica Roma -->
    <div class="p-4 md:p-6 bg-white border-3 border-blue-500 rounded-3xl">
      <div class="flex items-start gap-3 mb-4">
        <div class="bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">2</div>
        <h2 class="font-bold text-blue-600">Nell'antica Roma</h2>
      </div>

      <div class="space-y-4">
        <p class="text-gray-800">
          Siamo a Roma nel II secolo a.C. Caio e Flavio sono due amici, famosi come esperti di matematica.<br>
          Un giorno s'incontrano alle terme e Caio racconta la seguente storiella:
        </p>

        <div class="p-4 bg-amber-50 border-l-4 border-amber-400 rounded-r-lg">
          <p class="text-gray-800 italic">
            "Un'asina, accompagnata da un giovane mulo, portava un carico di vino.<br>
            Schiacciata dal peso, si lamentava rumorosamente. Il mulo le chiese:<br>
            – Mamma, perché ti lamenti?<br>
            – Figlio mio, se io prendessi una delle tue botti il mio carico sarebbe il doppio del tuo,
            ma se tu prendessi una delle mie, ne avrei quante te!"
          </p>
        </div>

        <p class="text-gray-800">Quanto carico portava ciascuno?</p>

        <p class="font-bold text-blue-600"><span class="text-pink-600">&#8226;</span> Una sola di queste soluzioni è corretta: aiuta il matematico a trovarla.</p>

        <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
          <label class="bg-purple-50 border-2 border-purple-300 rounded-lg p-4 cursor-pointer hover:bg-purple-100 transition">
            <input type="radio" name="soluzione" value="1" class="mr-2">
            <div class="font-bold">
              <div>Asina: <span class="text-cyan-600">2</span></div>
              <div>Mulo: <span class="text-cyan-600">4</span></div>
            </div>
          </label>
          <label class="bg-purple-50 border-2 border-purple-300 rounded-lg p-4 cursor-pointer hover:bg-purple-100 transition">
            <input type="radio" name="soluzione" value="2" class="mr-2">
            <div class="font-bold">
              <div>Asina: <span class="text-cyan-600">3</span></div>
              <div>Mulo: <span class="text-cyan-600">3</span></div>
            </div>
          </label>
          <label class="bg-purple-50 border-2 border-purple-300 rounded-lg p-4 cursor-pointer hover:bg-purple-100 transition" data-correct="true">
            <input type="radio" name="soluzione" value="3" class="mr-2">
            <div class="font-bold">
              <div>Asina: <span class="text-cyan-600">7</span></div>
              <div>Mulo: <span class="text-cyan-600">5</span></div>
            </div>
          </label>
          <label class="bg-purple-50 border-2 border-purple-300 rounded-lg p-4 cursor-pointer hover:bg-purple-100 transition">
            <input type="radio" name="soluzione" value="4" class="mr-2">
            <div class="font-bold">
              <div>Asina: <span class="text-cyan-600">6</span></div>
              <div>Mulo: <span class="text-cyan-600">1</span></div>
            </div>
          </label>
        </div>

        <div class="mt-4">
          <p class="font-bold text-blue-600 mb-2"><span class="text-pink-600">&#8226;</span> Spiega la scelta che hai fatto.</p>
          <textarea class="w-full px-4 py-3 border-2 border-purple-300 rounded focus:border-purple-500 focus:outline-none" rows="3" placeholder="Scrivi qui la tua spiegazione..."></textarea>
        </div>

        <div class="p-3 bg-yellow-50 border-2 border-yellow-200 rounded-lg">
          <p class="text-gray-700">
            <span class="font-bold">Suggerimento:</span> Prova ogni soluzione e verifica se soddisfa entrambe le condizioni del problema!
          </p>
        </div>
      </div>
    </div>

    <!-- Exercise Controls -->
    <%= render 'shared/exercise_controls', color: 'indigo' %>
  </div>
</div>
