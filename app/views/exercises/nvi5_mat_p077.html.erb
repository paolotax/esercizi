<div class="max-w-6xl mx-auto p-3 md:p-8 bg-gradient-to-br from-indigo-50 via-white to-purple-50 rounded-3xl shadow-xl" data-controller="exercise-checker page-viewer" data-page-viewer-image-url-value="<%= asset_path('nvi5_mat/p077/page.png') %>">

  <!-- Header -->
  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">

    <!-- Problema 1: La corsa -->
    <div class="bg-white rounded-2xl border-4 border-indigo-200 shadow-2xl p-4 md:p-6">
      <h2 class="text-xl md:text-2xl font-bold text-indigo-700 mb-4">üèÉ La corsa</h2>

      <div class="space-y-4">
        <p class="text-base md:text-lg text-gray-800 leading-relaxed">
          Mirco, Sauro, Davide, Luca e Franco partecipano a una corsa di velocit√† e arrivano al traguardo uno dopo l'altro.<br>
          Per l'esattezza:
        </p>

        <ul class="list-disc ml-6 space-y-2 text-base md:text-lg text-gray-800">
          <li>Mirco non √® arrivato primo;</li>
          <li>Sauro √® arrivato terzo, dopo Luca ma prima di Davide;</li>
          <li>Franco invece √® arrivato prima di Davide ma dopo Mirco.</li>
        </ul>

        <p class="text-lg font-bold text-indigo-700">Indica l'ordine di arrivo dei ragazzi.</p>

        <div class="bg-indigo-50 rounded-xl p-4 space-y-3">
          <div class="grid grid-cols-1 md:grid-cols-5 gap-3">
            <div class="bg-yellow-100 border-2 border-yellow-400 rounded-lg p-3 text-center">
              <div class="text-2xl mb-1">ü•á</div>
              <div class="font-bold text-gray-700 mb-2">1¬∞</div>
              <input type="text" class="w-full px-3 py-2 border-2 border-yellow-400 rounded text-center font-bold text-yellow-700 focus:outline-none"
                     placeholder="?">
            </div>

            <div class="bg-gray-200 border-2 border-gray-400 rounded-lg p-3 text-center">
              <div class="text-2xl mb-1">ü•à</div>
              <div class="font-bold text-gray-700 mb-2">2¬∞</div>
              <input type="text" class="w-full px-3 py-2 border-2 border-gray-400 rounded text-center font-bold text-gray-700 focus:outline-none"
                     placeholder="?">
            </div>

            <div class="bg-orange-100 border-2 border-orange-400 rounded-lg p-3 text-center">
              <div class="text-2xl mb-1">ü•â</div>
              <div class="font-bold text-gray-700 mb-2">3¬∞</div>
              <input type="text" class="w-full px-3 py-2 border-2 border-orange-400 rounded text-center font-bold text-orange-700 focus:outline-none"
                     placeholder="?">
            </div>

            <div class="bg-blue-100 border-2 border-blue-400 rounded-lg p-3 text-center">
              <div class="font-bold text-gray-700 mb-2">4¬∞</div>
              <input type="text" class="w-full px-3 py-2 border-2 border-blue-400 rounded text-center font-bold text-blue-700 focus:outline-none"
                     placeholder="?">
            </div>

            <div class="bg-purple-100 border-2 border-purple-400 rounded-lg p-3 text-center">
              <div class="font-bold text-gray-700 mb-2">5¬∞</div>
              <input type="text" class="w-full px-3 py-2 border-2 border-purple-400 rounded text-center font-bold text-purple-700 focus:outline-none"
                     placeholder="?">
            </div>
          </div>
        </div>

        <div class="bg-indigo-50 rounded-xl p-4">
          <img src="<%= asset_path('nvi5_mat/p077/output-1715938802077_685_206_307_349.png') %>"
               alt="Spazio per ragionamento"
               class="mx-auto max-w-lg">
        </div>

        <div class="bg-yellow-50 rounded-lg p-3 border-l-4 border-yellow-400">
          <p class="text-sm text-gray-700">
            <span class="font-bold">Suggerimento:</span> Parti dall'informazione pi√π precisa (Sauro √® terzo) e deduce step by step!
          </p>
        </div>
      </div>
    </div>

    <!-- Problema 2: Nell'antica Roma -->
    <div class="bg-white rounded-2xl border-4 border-purple-200 shadow-2xl p-4 md:p-6">
      <h2 class="text-xl md:text-2xl font-bold text-purple-700 mb-4">üèõÔ∏è Nell'antica Roma</h2>

      <div class="space-y-4">
        <p class="text-base md:text-lg text-gray-800 leading-relaxed">
          Siamo a Roma nel II secolo a.C. Caio e Flavio sono due amici, famosi come esperti di matematica.<br>
          Un giorno s'incontrano alle terme e Caio racconta la seguente storiella:
        </p>

        <div class="bg-purple-50 rounded-xl p-4 border-l-4 border-purple-400">
          <p class="text-base md:text-lg text-gray-800 italic leading-relaxed">
            "Un'asina, accompagnata da un giovane mulo, portava un carico di vino.<br>
            Schiacciata dal peso, si lamentava rumorosamente. Il mulo le chiese:<br>
            ‚Äì Mamma, perch√© ti lamenti?<br>
            ‚Äì Figlio mio, se io prendessi una delle tue botti il mio carico sarebbe il doppio del tuo,
            ma se tu prendessi una delle mie, ne avrei quante te!"
          </p>
        </div>

        <p class="text-base md:text-lg text-gray-800 leading-relaxed">
          Quanto carico portava ciascuno?
        </p>

        <p class="text-lg font-bold text-purple-700">Una sola di queste soluzioni √® corretta: aiuta il matematico a trovarla.</p>

        <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
          <label class="bg-purple-50 border-2 border-purple-300 rounded-lg p-4 cursor-pointer hover:bg-purple-100 transition">
            <input type="radio" name="soluzione" value="1" class="mr-2">
            <div class="font-bold">
              <div>Asina: <span class="text-purple-700">2</span></div>
              <div>Mulo: <span class="text-purple-700">4</span></div>
            </div>
          </label>

          <label class="bg-purple-50 border-2 border-purple-300 rounded-lg p-4 cursor-pointer hover:bg-purple-100 transition">
            <input type="radio" name="soluzione" value="2" class="mr-2">
            <div class="font-bold">
              <div>Asina: <span class="text-purple-700">3</span></div>
              <div>Mulo: <span class="text-purple-700">3</span></div>
            </div>
          </label>

          <label class="bg-purple-50 border-2 border-purple-300 rounded-lg p-4 cursor-pointer hover:bg-purple-100 transition">
            <input type="radio" name="soluzione" value="3" class="mr-2">
            <div class="font-bold">
              <div>Asina: <span class="text-purple-700">7</span></div>
              <div>Mulo: <span class="text-purple-700">5</span></div>
            </div>
          </label>

          <label class="bg-purple-50 border-2 border-purple-300 rounded-lg p-4 cursor-pointer hover:bg-purple-100 transition">
            <input type="radio" name="soluzione" value="4" class="mr-2">
            <div class="font-bold">
              <div>Asina: <span class="text-purple-700">6</span></div>
              <div>Mulo: <span class="text-purple-700">1</span></div>
            </div>
          </label>
        </div>

        <div class="mt-4">
          <p class="font-bold text-purple-700 mb-2">Spiega la scelta che hai fatto.</p>
          <textarea class="w-full px-4 py-3 border-2 border-purple-300 rounded-lg focus:border-purple-500 focus:outline-none" rows="3"
                    placeholder="Scrivi qui la tua spiegazione..."></textarea>
        </div>

        <div class="bg-yellow-50 rounded-lg p-3 border-l-4 border-yellow-400">
          <p class="text-sm text-gray-700">
            <span class="font-bold">Suggerimento:</span> Prova ogni soluzione e verifica se soddisfa entrambe le condizioni del problema!
          </p>
        </div>
      </div>
    </div>

    <!-- Exercise Controls -->
    <%= render 'shared/exercise_controls', color: 'indigo', current_page: 'nvi5_mat_p077' %>

  </div>
</div>
