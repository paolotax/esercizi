<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8" data-controller="exercise-checker">

  <!-- Header con badge SINTASSI -->
  <div class="mb-8">
    <div class="flex items-start justify-between">
      <!-- Badge e Titolo -->
      <div class="flex items-start gap-4">
        <!-- Badge SINTASSI con icona -->
        <div class="bg-orange-500 text-white px-6 py-3 rounded-lg font-bold text-lg flex items-center gap-2">
          <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
            <path d="M10 2a6 6 0 00-6 6c0 1.887.875 3.517 2.084 4.485A.5.5 0 016 12.5V14a1 1 0 001 1h6a1 1 0 001-1v-1.5a.5.5 0 01-.084-.015C15.125 11.517 16 9.887 16 8a6 6 0 00-6-6z"/>
          </svg>
          SINTASSI
        </div>
      </div>
      <!-- Numero pagina -->
      <div class="bg-orange-500 text-white rounded-full w-12 h-12 flex items-center justify-center font-bold text-xl">
        122
      </div>
    </div>

    <!-- Titolo principale -->
    <h1 class="text-3xl font-bold text-orange-600 mt-6 text-center">
      Frase semplice e frase complessa
    </h1>
  </div>

  <!-- Introduzione teorica -->
  <div class="bg-orange-50 border-2 border-orange-300 rounded-lg p-6 mb-8">
    <p class="text-gray-700 mb-4">Ogni frase ha bisogno di un verbo.</p>
    <ul class="space-y-2 text-gray-700">
      <li>• La <strong class="underline text-orange-600">frase semplice</strong> contiene un solo verbo → <strong>Esco</strong> con Luigi.</li>
      <li>• La <strong class="underline text-green-600">frase complessa</strong> o <strong class="underline text-green-600">periodo</strong> contiene più verbi, cioè più frasi collegate tra loro da congiunzioni, da preposizioni o dalla punteggiatura. Osserva lo schema.</li>
    </ul>

    <div class="mt-6 bg-white border-2 border-orange-200 rounded-lg p-6 flex items-center justify-center gap-8">
      <div class="text-center">
        <div class="text-sm font-bold text-gray-600 mb-2">1ª frase</div>
        <div class="text-lg">↓</div>
        <div class="border-2 border-orange-400 rounded-lg px-6 py-3 bg-orange-50">
          <strong>Sistema</strong> la tua cameretta
        </div>
      </div>
      <div class="text-center">
        <div class="text-sm font-bold text-gray-600 mb-2">2ª frase</div>
        <div class="text-lg">↓</div>
        <div class="border-2 border-blue-400 rounded-lg px-6 py-3 bg-blue-50">
          e <strong>uscirai</strong>!
        </div>
      </div>
    </div>

    <div class="mt-6 flex justify-center">
      <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='300' viewBox='0 0 400 300'%3E%3Crect x='20' y='50' width='150' height='200' fill='%23E0F2FE' stroke='%233B82F6' stroke-width='3'/%3E%3Crect x='25' y='55' width='140' height='30' fill='%23BFDBFE'/%3E%3Ctext x='95' y='75' text-anchor='middle' font-size='16' fill='%231E40AF' font-weight='bold'%3EEsco con%3C/text%3E%3Ctext x='95' y='95' text-anchor='middle' font-size='16' fill='%231E40AF' font-weight='bold'%3ELuigi.%3C/text%3E%3Crect x='200' y='50' width='180' height='200' fill='%23FEF3C7' stroke='%23F59E0B' stroke-width='3'/%3E%3Crect x='205' y='55' width='170' height='30' fill='%23FDE68A'/%3E%3Ctext x='290' y='75' text-anchor='middle' font-size='14' fill='%2392400E' font-weight='bold'%3ESistema la tua%3C/text%3E%3Ctext x='290' y='95' text-anchor='middle' font-size='14' fill='%2392400E' font-weight='bold'%3Ecameretta e uscirai!%3C/text%3E%3Cpath d='M 100,150 Q 150,180 200,150' stroke='%2310B981' stroke-width='3' fill='none' marker-end='url(%23arrowgreen)'/%3E%3C/svg%3E" class="max-w-md" alt="schema">
    </div>
  </div>

  <!-- Esercizio 1 - IMPARARE TUTTI: Collega frasi semplici -->
  <div class="bg-yellow-50 border-2 border-yellow-400 rounded-lg p-6 mb-8">
    <div class="mb-4 inline-block bg-gradient-to-r from-yellow-500 to-orange-500 text-white px-3 md:px-6 py-2 rounded-full text-xs md:text-sm font-bold shadow-lg">
      1 IMPARARE TUTTI
    </div>
    <h2 class="text-lg md:text-xl font-bold text-gray-700 mb-4">
      Collega tra loro le <em class="underline text-orange-600">frasi semplici</em> e forma <strong class="underline text-green-600">frasi complesse</strong>.
    </h2>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
      <div class="border-2 border-orange-400 rounded-lg px-4 py-3 bg-orange-50 text-center">
        Entra in casa
      </div>
      <div class="border-2 border-blue-400 rounded-lg px-4 py-3 bg-blue-50 text-center">
        ma lo spettacolo era già finito.
      </div>

      <div class="border-2 border-orange-400 rounded-lg px-4 py-3 bg-orange-50 text-center">
        Siamo venuti qui
      </div>
      <div class="border-2 border-blue-400 rounded-lg px-4 py-3 bg-blue-50 text-center">
        così potrai scaldarti.
      </div>

      <div class="border-2 border-orange-400 rounded-lg px-4 py-3 bg-orange-50 text-center">
        Arrivammo presto
      </div>
      <div class="border-2 border-blue-400 rounded-lg px-4 py-3 bg-blue-50 text-center">
        perché Chiara ci ha invitato.
      </div>
    </div>

    <div class="bg-white border-2 border-yellow-200 rounded-lg p-4">
      <p class="text-sm text-gray-600 italic">
        Traccia delle linee per collegare le frasi semplici a sinistra con le loro continuazioni a destra, formando frasi complesse complete.
      </p>
    </div>
  </div>

  <!-- Esercizio 2 - Leggi il testo -->
  <div class="bg-green-50 border-2 border-green-300 rounded-lg p-6 mb-8">
    <h2 class="text-lg md:text-xl font-bold text-gray-700 mb-4">
      <span class="bg-green-500 text-white rounded-full w-8 h-8 md:w-10 md:h-10 inline-flex items-center justify-center mr-2">2</span>
      Leggi il testo e scrivi in fondo a ogni frase se si tratta di una <em class="underline text-orange-600">frase semplice</em> <strong>(S)</strong> o di una <strong class="underline text-green-600">frase complessa</strong> <strong>(C)</strong>.
    </h2>

    <div class="bg-white border-2 border-green-200 rounded-lg p-6 space-y-4">
      <div class="flex items-center gap-3">
        <p class="flex-1 text-gray-700">Ieri sono stata dalla mia amica Luisa</p>
        <label class="flex items-center gap-2">
          <input type="checkbox" data-correct-answer="true" class="w-5 h-5">
          <span class="font-bold">S</span>
        </label>
        <label class="flex items-center gap-2">
          <input type="checkbox" data-correct-answer="false" class="w-5 h-5">
          <span class="font-bold">C</span>
        </label>
      </div>

      <div class="flex items-center gap-3">
        <p class="flex-1 text-gray-700">Io e Luisa trascorriamo spesso il pomeriggio insieme</p>
        <label class="flex items-center gap-2">
          <input type="checkbox" data-correct-answer="true" class="w-5 h-5">
          <span class="font-bold">S</span>
        </label>
        <label class="flex items-center gap-2">
          <input type="checkbox" data-correct-answer="false" class="w-5 h-5">
          <span class="font-bold">C</span>
        </label>
      </div>

      <div class="flex items-center gap-3">
        <p class="flex-1 text-gray-700">Di solito facciamo i compiti e poi giochiamo in cortile</p>
        <label class="flex items-center gap-2">
          <input type="checkbox" data-correct-answer="false" class="w-5 h-5">
          <span class="font-bold">S</span>
        </label>
        <label class="flex items-center gap-2">
          <input type="checkbox" data-correct-answer="true" class="w-5 h-5">
          <span class="font-bold">C</span>
        </label>
      </div>

      <div class="flex items-center gap-3">
        <p class="flex-1 text-gray-700">Se piove, leggiamo un libro o dei fumetti</p>
        <label class="flex items-center gap-2">
          <input type="checkbox" data-correct-answer="false" class="w-5 h-5">
          <span class="font-bold">S</span>
        </label>
        <label class="flex items-center gap-2">
          <input type="checkbox" data-correct-answer="true" class="w-5 h-5">
          <span class="font-bold">C</span>
        </label>
      </div>

      <div class="flex items-center gap-3">
        <p class="flex-1 text-gray-700">Alcune volte mi fermo a cena da Luisa</p>
        <label class="flex items-center gap-2">
          <input type="checkbox" data-correct-answer="true" class="w-5 h-5">
          <span class="font-bold">S</span>
        </label>
        <label class="flex items-center gap-2">
          <input type="checkbox" data-correct-answer="false" class="w-5 h-5">
          <span class="font-bold">C</span>
        </label>
      </div>
    </div>
  </div>

  <!-- Esercizio 3 - Sottolinea i predicati -->
  <div class="bg-blue-50 border-2 border-blue-300 rounded-lg p-6 mb-8" data-controller="word-highlighter" data-word-highlighter-multi-color-value="false">
    <h2 class="text-lg md:text-xl font-bold text-gray-700 mb-4">
      <span class="bg-blue-500 text-white rounded-full w-8 h-8 md:w-10 md:h-10 inline-flex items-center justify-center mr-2">3</span>
      Sottolinea i predicati<span class="inline-block w-6 h-6 bg-yellow-300 rounded ml-2 align-middle cursor-pointer" data-word-highlighter-target="colorBox" data-color="yellow" data-action="click->word-highlighter#selectColor"></span> e indica con una <strong>X</strong> se la frase è <em class="underline text-orange-600">semplice</em> <strong>(S)</strong> o <strong class="underline text-green-600">complessa</strong> <strong>(C)</strong>. Nelle frasi complesse cerchia gli elementi che collegano le frasi.
    </h2>

    <div class="space-y-4 cursor-pointer">
      <div class="bg-white border-2 border-blue-200 rounded-lg p-4">
        <p class="text-gray-700 mb-3">
          • Jacopo <span data-word-highlighter-target="word" data-correct="yellow" data-action="click->word-highlighter#toggleHighlight" class="px-1 rounded">canta</span> molto bene ed <span data-word-highlighter-target="word" data-correct="yellow" data-action="click->word-highlighter#toggleHighlight" class="px-1 rounded">è</span> anche un bravo musicista.
        </p>
        <div class="flex gap-6">
          <label class="flex items-center gap-2">
            <input type="radio" name="q3_1" data-correct-answer="false">
            <span class="font-bold">S</span>
          </label>
          <label class="flex items-center gap-2">
            <input type="radio" name="q3_1" data-correct-answer="true">
            <span class="font-bold">C</span>
          </label>
        </div>
      </div>

      <div class="bg-white border-2 border-blue-200 rounded-lg p-4">
        <p class="text-gray-700 mb-3">
          • Chi non <span data-word-highlighter-target="word" data-correct="yellow" data-action="click->word-highlighter#toggleHighlight" class="px-1 rounded">gradirebbe</span> una proposta del genere?
        </p>
        <div class="flex gap-6">
          <label class="flex items-center gap-2">
            <input type="radio" name="q3_2" data-correct-answer="true">
            <span class="font-bold">S</span>
          </label>
          <label class="flex items-center gap-2">
            <input type="radio" name="q3_2" data-correct-answer="false">
            <span class="font-bold">C</span>
          </label>
        </div>
      </div>

      <div class="bg-white border-2 border-blue-200 rounded-lg p-4">
        <p class="text-gray-700 mb-3">
          • <span data-word-highlighter-target="word" data-correct="yellow" data-action="click->word-highlighter#toggleHighlight" class="px-1 rounded">Passa</span> di qui quando <span data-word-highlighter-target="word" data-correct="yellow" data-action="click->word-highlighter#toggleHighlight" class="px-1 rounded">finisci</span> quel lavoro.
        </p>
        <div class="flex gap-6">
          <label class="flex items-center gap-2">
            <input type="radio" name="q3_3" data-correct-answer="false">
            <span class="font-bold">S</span>
          </label>
          <label class="flex items-center gap-2">
            <input type="radio" name="q3_3" data-correct-answer="true">
            <span class="font-bold">C</span>
          </label>
        </div>
      </div>

      <div class="bg-white border-2 border-blue-200 rounded-lg p-4">
        <p class="text-gray-700 mb-3">
          • <span data-word-highlighter-target="word" data-correct="yellow" data-action="click->word-highlighter#toggleHighlight" class="px-1 rounded">Chiameremo</span> nostro zio Sergio e gli <span data-word-highlighter-target="word" data-correct="yellow" data-action="click->word-highlighter#toggleHighlight" class="px-1 rounded">diremo</span> tutto.
        </p>
        <div class="flex gap-6">
          <label class="flex items-center gap-2">
            <input type="radio" name="q3_4" data-correct-answer="false">
            <span class="font-bold">S</span>
          </label>
          <label class="flex items-center gap-2">
            <input type="radio" name="q3_4" data-correct-answer="true">
            <span class="font-bold">C</span>
          </label>
        </div>
      </div>
    </div>

    <!-- Hidden color selector for monocolor mode -->
    <div class="hidden">
      <span data-word-highlighter-target="colorBox" data-color="yellow"></span>
    </div>
  </div>

  <!-- Nota esercizi supplementari -->
  <div class="bg-gray-100 border-2 border-gray-300 rounded-lg p-4 text-center">
    <p class="text-gray-700 font-semibold">
      <strong>Esercizi p. <%= link_to "189", pagina_path("nvl5_gram_p189"), class: "text-gray-600 hover:text-gray-800 underline" %></strong>
    </p>
  </div>

  <!-- Exercise controls -->
  <%= render 'shared/exercise_controls', color: 'orange' %>
</div>
