<div class="max-w-6xl mx-auto bg-white dark:bg-gray-900 p-3 md:p-6 transition-colors duration-300"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">

    <!-- Istruzione generale -->
    <p class="text-gray-700 dark:text-gray-200">
      <span class="text-cyan-500">•</span> Risolvi sul quaderno i seguenti problemi.
    </p>

    <!-- Esercizi IMPARARE TUTTI -->
    <div class="p-5 bg-white dark:bg-gray-800 rounded-2xl border-3 border-yellow-400 dark:border-yellow-500 space-y-6">

      <!-- Esercizio 1 -->
      <div class="space-y-2">
        <p class="font-bold text-gray-700 dark:text-gray-200">
          <%= imparare_tutti_badge(1) %>
          Un cartolaio vende delle penne a € 3,75 l'una. Marta ne acquista 5 e paga con una banconota da € 20. Quanti euro riceve di resto?
        </p>
        <div class="flex items-center gap-2">
          <span class="text-gray-700 dark:text-gray-200">Resto:</span>
          <input type="text" data-correct-answer="1,25" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          <span class="text-gray-700 dark:text-gray-200">€</span>
        </div>
      </div>

      <!-- Esercizio 2 -->
      <div class="space-y-2">
        <p class="font-bold text-gray-700 dark:text-gray-200">
          <%= imparare_tutti_badge(2) %>
          Per il suo compleanno Andrea riceve dal nonno € 20. Con la somma ricevuta compra un gioco da tavolo che costa € 16,70 e spende tutti i soldi rimasti per comprare 3 pacchetti di figurine. Quanto costa un pacchetto di figurine?
        </p>
        <div class="flex items-center gap-2">
          <span class="text-gray-700 dark:text-gray-200">Costo pacchetto:</span>
          <input type="text" data-correct-answer="1,10" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          <span class="text-gray-700 dark:text-gray-200">€</span>
        </div>
      </div>
    </div>

    <!-- Problemi 3-13 -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

      <!-- Colonna sinistra -->
      <div class="space-y-4">
        <!-- Problema 3 -->
        <div class="space-y-2">
          <p class="text-gray-700 dark:text-gray-200">
            <%= numero_esercizio_badge(3) %> Per riparare il bagno del signor Verdi l'idraulico ha impiegato 3 ore di lavoro. Se la sua tariffa è € 24,50 l'ora e il costo dei materiali utilizzati è € 67,85, quanto dovrà pagare il signor Verdi all'idraulico?
          </p>
          <div class="flex items-center gap-2">
            <span class="text-gray-700 dark:text-gray-200">Totale:</span>
            <input type="text" data-correct-answer="141,35" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            <span class="text-gray-700 dark:text-gray-200">€</span>
          </div>
        </div>

        <!-- Problema 4 -->
        <div class="space-y-2">
          <p class="text-gray-700 dark:text-gray-200">
            <%= numero_esercizio_badge(4) %> Otto amici decidono di organizzare un picnic. Spendono € 27,85 per le bibite, € 7,25 per pane e focaccia e € 53,70 per altri alimenti. Se dividono la spesa in parti uguali, quanto spende ciascun amico?
          </p>
          <div class="flex items-center gap-2">
            <span class="text-gray-700 dark:text-gray-200">Ciascuno:</span>
            <input type="text" data-correct-answer="11,10" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            <span class="text-gray-700 dark:text-gray-200">€</span>
          </div>
        </div>

        <!-- Problema 5 -->
        <div class="space-y-2">
          <p class="text-gray-700 dark:text-gray-200">
            <%= numero_esercizio_badge(5) %> In un centro commerciale Rosa spende € 17,50 in prodotti per la casa, € 38,65 in prodotti alimentari e € 25,29 per una maglietta. Paga con una banconota da € 100. Quanto riceve di resto?
          </p>
          <div class="flex items-center gap-2">
            <span class="text-gray-700 dark:text-gray-200">Resto:</span>
            <input type="text" data-correct-answer="18,56" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            <span class="text-gray-700 dark:text-gray-200">€</span>
          </div>
        </div>

        <!-- Problema 6 -->
        <div class="space-y-2">
          <p class="text-gray-700 dark:text-gray-200">
            <%= numero_esercizio_badge(6) %> Un agricoltore ha raccolto 560 kg di olive. Per ottenere un litro di olio occorrono 5 kg di olive; quanti litri otterrà l'agricoltore? Vende ogni litro a € 9,25. Quanto incassa?
          </p>
          <div class="flex items-center gap-2 flex-wrap">
            <span class="text-gray-700 dark:text-gray-200">Litri:</span>
            <input type="text" data-correct-answer="112" class="w-14 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            <span class="text-gray-700 dark:text-gray-200 mx-2">|</span>
            <span class="text-gray-700 dark:text-gray-200">Incasso:</span>
            <input type="text" data-correct-answer="1036" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            <span class="text-gray-700 dark:text-gray-200">€</span>
          </div>
        </div>
      </div>

      <!-- Colonna destra -->
      <div class="space-y-4">
        <!-- Problema 7 -->
        <div class="space-y-2">
          <p class="text-gray-700 dark:text-gray-200">
            <%= numero_esercizio_badge(7) %> La nonna compra per i suoi nipotini 2 hg di caramelle da € 2,65 all'etto e 1,8 hg di cioccolatini da € 3,70 all'etto. Quanto spende in tutto la nonna?
          </p>
          <div class="flex items-center gap-2">
            <span class="text-gray-700 dark:text-gray-200">Totale:</span>
            <input type="text" data-correct-answer="11,96" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            <span class="text-gray-700 dark:text-gray-200">€</span>
          </div>
        </div>

        <!-- Problema 8 -->
        <div class="space-y-2">
          <p class="text-gray-700 dark:text-gray-200">
            <%= numero_esercizio_badge(8) %> Con i soldi incassati durante un mercatino, la classe 4ª B acquista 35 libri a € 9,50 l'uno. Se dopo l'acquisto restano ancora € 85, quanti soldi erano stati incassati con il mercatino?
          </p>
          <div class="flex items-center gap-2">
            <span class="text-gray-700 dark:text-gray-200">Incasso:</span>
            <input type="text" data-correct-answer="417,50" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            <span class="text-gray-700 dark:text-gray-200">€</span>
          </div>
        </div>

        <!-- Problema 9 -->
        <div class="space-y-2">
          <p class="text-gray-700 dark:text-gray-200">
            <%= numero_esercizio_badge(9) %> Per la ristrutturazione di un grande palazzo servono 9 operai per 20 giorni. Ciascun operaio lavora 8 ore al giorno a € 12,75 all'ora. Quanto si spenderà per pagare gli operai?
          </p>
          <div class="flex items-center gap-2">
            <span class="text-gray-700 dark:text-gray-200">Totale:</span>
            <input type="text" data-correct-answer="18360" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            <span class="text-gray-700 dark:text-gray-200">€</span>
          </div>
        </div>

        <!-- Problema 10 -->
        <div class="space-y-2">
          <p class="text-gray-700 dark:text-gray-200">
            <%= numero_esercizio_badge(10) %> La baby-sitter di Francesca guadagna € 9,50 l'ora e lavora 5 ore al giorno dal lunedì al venerdì. Quanto guadagna in una settimana?
          </p>
          <div class="flex items-center gap-2">
            <span class="text-gray-700 dark:text-gray-200">Guadagno:</span>
            <input type="text" data-correct-answer="237,50" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            <span class="text-gray-700 dark:text-gray-200">€</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Problemi 11-13 -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <!-- Problema 11 -->
      <div class="space-y-2">
        <p class="text-gray-700 dark:text-gray-200">
          <%= numero_esercizio_badge(11) %> Un ristorante serve 110 persone al giorno. Se ogni persona spende mediamente € 22,50, quale sarà l'incasso del ristorante in una settimana?
        </p>
        <div class="flex items-center gap-2">
          <span class="text-gray-700 dark:text-gray-200">Incasso:</span>
          <input type="text" data-correct-answer="17325" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          <span class="text-gray-700 dark:text-gray-200">€</span>
        </div>
      </div>

      <!-- Problema 12 -->
      <div class="space-y-2">
        <p class="text-gray-700 dark:text-gray-200">
          <%= numero_esercizio_badge(12) %> Il proprietario di un negozio compra 10 tavolini a € 118 l'uno e 40 sedie a € 54,90 ciascuna. Quanto spende complessivamente?
        </p>
        <div class="flex items-center gap-2">
          <span class="text-gray-700 dark:text-gray-200">Totale:</span>
          <input type="text" data-correct-answer="3376" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          <span class="text-gray-700 dark:text-gray-200">€</span>
        </div>
      </div>

      <!-- Problema 13 -->
      <div class="space-y-2">
        <p class="text-gray-700 dark:text-gray-200">
          <%= numero_esercizio_badge(13) %> All'inizio della scuola il papà compra a Matilde 5 quaderni da € 1,45 l'uno, un album da disegno a € 4,20 e 2 penne da € 2,79 l'una. Riceve di resto € 2,97. Quanti euro ha dato il papà al negoziante?
        </p>
        <div class="flex items-center gap-2">
          <span class="text-gray-700 dark:text-gray-200">Ha dato:</span>
          <input type="text" data-correct-answer="20" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          <span class="text-gray-700 dark:text-gray-200">€</span>
        </div>
      </div>
    </div>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
