<div class="max-w-6xl mx-auto p-6 bg-white rounded-lg shadow-lg" data-controller="exercise-checker rhyme-highlighter">
  <!-- Header -->
  <div class="flex items-center justify-between mb-8 border-b-4 border-purple-500 pb-4">
    <div class="flex items-center gap-4">
      <div class="bg-purple-500 text-white rounded-full w-12 h-12 flex items-center justify-center">
        <span class="text-2xl font-bold">18</span>
      </div>
      <div>
        <div class="text-sm text-purple-600 font-semibold">NUMERI</div>
        <h1 class="text-3xl font-bold text-pink-600">I NUMERI</h1>
      </div>
    </div>
  </div>

  <div class="space-y-8">

    <!-- Sezione ESERCIZI -->
    <div class="bg-gradient-to-r from-pink-500 to-pink-600 text-white rounded-t-lg px-6 py-3">
      <h2 class="text-2xl font-bold">ESERCIZI</h2>
    </div>

    <!-- Exercise 1: IMPARARE TUTTI - Cerchia -->
    <div class="bg-white rounded-lg shadow-lg p-8 border-l-4 border-orange-500">
      <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-3">
        <span class="bg-orange-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold">1</span>
        <span class="bg-gradient-to-r from-orange-400 to-orange-500 text-white px-4 py-1 rounded-lg font-bold">IMPARARE TUTTI</span>
        <span>In ogni numero cerchia di <span class="text-blue-600">blu</span> la classe delle unità semplici, di <span class="text-purple-600">viola</span> quella delle migliaia, di <span class="text-green-600">verde</span> quella dei milioni e di <span class="text-orange-600">arancione</span> quella dei miliardi.</span>
      </h3>

      <!-- Color selection boxes -->
      <div class="flex items-center gap-3 mb-6 flex-wrap bg-gray-50 rounded-lg p-4">
        <span class="text-gray-700 text-sm font-semibold">Seleziona il colore:</span>
        <button class="px-4 py-2 bg-blue-500 text-white rounded font-semibold border-2 border-gray-300 hover:scale-110 transition cursor-pointer shadow-md"
                data-rhyme-highlighter-target="colorBox"
                data-color="blue"
                data-action="click->rhyme-highlighter#selectColor"
                title="Blu - Unità semplici">
          Blu (unità)
        </button>
        <button class="px-4 py-2 bg-purple-500 text-white rounded font-semibold border-2 border-gray-300 hover:scale-110 transition cursor-pointer shadow-md"
                data-rhyme-highlighter-target="colorBox"
                data-color="purple"
                data-action="click->rhyme-highlighter#selectColor"
                title="Viola - Migliaia">
          Viola (migliaia)
        </button>
        <button class="px-4 py-2 bg-green-500 text-white rounded font-semibold border-2 border-gray-300 hover:scale-110 transition cursor-pointer shadow-md"
                data-rhyme-highlighter-target="colorBox"
                data-color="green"
                data-action="click->rhyme-highlighter#selectColor"
                title="Verde - Milioni">
          Verde (milioni)
        </button>
        <button class="px-4 py-2 bg-orange-500 text-white rounded font-semibold border-2 border-gray-300 hover:scale-110 transition cursor-pointer shadow-md"
                data-rhyme-highlighter-target="colorBox"
                data-color="orange"
                data-action="click->rhyme-highlighter#selectColor"
                title="Arancione - Miliardi">
          Arancione (miliardi)
        </button>
        <button class="text-sm text-gray-600 hover:text-gray-800 underline"
                data-action="click->rhyme-highlighter#clearHighlights">
          Cancella
        </button>
        <button class="text-sm bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded font-semibold"
                data-action="click->rhyme-highlighter#checkAnswers">
          Controlla
        </button>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
        <!-- 30 215 987 006: arancione=30, verde=215, viola=987, blu=006 -->
        <div class="bg-orange-50 rounded-lg p-4 text-center">
          <div class="text-3xl font-mono font-bold text-gray-800 select-none">
            <span class="cursor-pointer hover:underline px-1 rounded" data-rhyme-highlighter-target="rhymeWord" data-rhyme-group="orange" data-action="click->rhyme-highlighter#highlightRhyme">30</span><span class="mx-1"></span><span class="cursor-pointer hover:underline px-1 rounded" data-rhyme-highlighter-target="rhymeWord" data-rhyme-group="green" data-action="click->rhyme-highlighter#highlightRhyme">215</span><span class="mx-1"></span><span class="cursor-pointer hover:underline px-1 rounded" data-rhyme-highlighter-target="rhymeWord" data-rhyme-group="purple" data-action="click->rhyme-highlighter#highlightRhyme">987</span><span class="mx-1"></span><span class="cursor-pointer hover:underline px-1 rounded" data-rhyme-highlighter-target="rhymeWord" data-rhyme-group="blue" data-action="click->rhyme-highlighter#highlightRhyme">006</span>
          </div>
        </div>
        <!-- 4 056 125 003: arancione=4, verde=056, viola=125, blu=003 -->
        <div class="bg-orange-50 rounded-lg p-4 text-center">
          <div class="text-3xl font-mono font-bold text-gray-800 select-none">
            <span class="cursor-pointer hover:underline px-1 rounded" data-rhyme-highlighter-target="rhymeWord" data-rhyme-group="orange" data-action="click->rhyme-highlighter#highlightRhyme">4</span><span class="mx-1"></span><span class="cursor-pointer hover:underline px-1 rounded" data-rhyme-highlighter-target="rhymeWord" data-rhyme-group="green" data-action="click->rhyme-highlighter#highlightRhyme">056</span><span class="mx-1"></span><span class="cursor-pointer hover:underline px-1 rounded" data-rhyme-highlighter-target="rhymeWord" data-rhyme-group="purple" data-action="click->rhyme-highlighter#highlightRhyme">125</span><span class="mx-1"></span><span class="cursor-pointer hover:underline px-1 rounded" data-rhyme-highlighter-target="rhymeWord" data-rhyme-group="blue" data-action="click->rhyme-highlighter#highlightRhyme">003</span>
          </div>
        </div>
        <!-- 336 758 100 989: arancione=336, verde=758, viola=100, blu=989 -->
        <div class="bg-orange-50 rounded-lg p-4 text-center">
          <div class="text-3xl font-mono font-bold text-gray-800 select-none">
            <span class="cursor-pointer hover:underline px-1 rounded" data-rhyme-highlighter-target="rhymeWord" data-rhyme-group="orange" data-action="click->rhyme-highlighter#highlightRhyme">336</span><span class="mx-1"></span><span class="cursor-pointer hover:underline px-1 rounded" data-rhyme-highlighter-target="rhymeWord" data-rhyme-group="green" data-action="click->rhyme-highlighter#highlightRhyme">758</span><span class="mx-1"></span><span class="cursor-pointer hover:underline px-1 rounded" data-rhyme-highlighter-target="rhymeWord" data-rhyme-group="purple" data-action="click->rhyme-highlighter#highlightRhyme">100</span><span class="mx-1"></span><span class="cursor-pointer hover:underline px-1 rounded" data-rhyme-highlighter-target="rhymeWord" data-rhyme-group="blue" data-action="click->rhyme-highlighter#highlightRhyme">989</span>
          </div>
        </div>
        <!-- 2 559 205 879: arancione=2, verde=559, viola=205, blu=879 -->
        <div class="bg-orange-50 rounded-lg p-4 text-center">
          <div class="text-3xl font-mono font-bold text-gray-800 select-none">
            <span class="cursor-pointer hover:underline px-1 rounded" data-rhyme-highlighter-target="rhymeWord" data-rhyme-group="orange" data-action="click->rhyme-highlighter#highlightRhyme">2</span><span class="mx-1"></span><span class="cursor-pointer hover:underline px-1 rounded" data-rhyme-highlighter-target="rhymeWord" data-rhyme-group="green" data-action="click->rhyme-highlighter#highlightRhyme">559</span><span class="mx-1"></span><span class="cursor-pointer hover:underline px-1 rounded" data-rhyme-highlighter-target="rhymeWord" data-rhyme-group="purple" data-action="click->rhyme-highlighter#highlightRhyme">205</span><span class="mx-1"></span><span class="cursor-pointer hover:underline px-1 rounded" data-rhyme-highlighter-target="rhymeWord" data-rhyme-group="blue" data-action="click->rhyme-highlighter#highlightRhyme">879</span>
          </div>
        </div>
        <!-- 1 200 002 900: arancione=1, verde=200, viola=002, blu=900 -->
        <div class="bg-orange-50 rounded-lg p-4 text-center">
          <div class="text-3xl font-mono font-bold text-gray-800 select-none">
            <span class="cursor-pointer hover:underline px-1 rounded" data-rhyme-highlighter-target="rhymeWord" data-rhyme-group="orange" data-action="click->rhyme-highlighter#highlightRhyme">1</span><span class="mx-1"></span><span class="cursor-pointer hover:underline px-1 rounded" data-rhyme-highlighter-target="rhymeWord" data-rhyme-group="green" data-action="click->rhyme-highlighter#highlightRhyme">200</span><span class="mx-1"></span><span class="cursor-pointer hover:underline px-1 rounded" data-rhyme-highlighter-target="rhymeWord" data-rhyme-group="purple" data-action="click->rhyme-highlighter#highlightRhyme">002</span><span class="mx-1"></span><span class="cursor-pointer hover:underline px-1 rounded" data-rhyme-highlighter-target="rhymeWord" data-rhyme-group="blue" data-action="click->rhyme-highlighter#highlightRhyme">900</span>
          </div>
        </div>
      </div>

      <p class="text-gray-600 text-sm italic mt-4">Seleziona un colore e clicca sulle cifre dei numeri. Poi clicca "Controlla" per verificare.</p>
    </div>

    <!-- Exercise 2: Inserisci in tabella -->
    <div class="bg-white rounded-lg shadow-lg p-8 border-l-4 border-blue-500">
      <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-3">
        <span class="bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold">2</span>
        <span>Inserisci i numeri in tabella, poi scrivili in cifre. Segui l'esempio.</span>
      </h3>

      <div class="bg-blue-50 rounded-lg p-6 mb-6">
        <p class="text-gray-700 mb-4">
          <span class="font-bold">Numeri da inserire:</span>
        </p>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
          <div class="bg-white rounded p-3">
            <code class="text-sm">3 daG 6 uG 9 uM 8 hk 5 dak 1 uk 6 h</code>
          </div>
          <div class="bg-white rounded p-3">
            <code class="text-sm">5 uG 9 hM 7 daM 3 dak 1 uk 7 h 4 u</code>
          </div>
          <div class="bg-white rounded p-3">
            <code class="text-sm">2 hG 3 daG 6 hM 4 uM 8 hk 9 dak 6 da 5 u</code>
          </div>
          <div class="bg-white rounded p-3">
            <code class="text-sm">1 hG 8 daG 4 uG 5 hM 6 daM 9 uM 2 h 4 da 4 u</code>
          </div>
        </div>
      </div>

      <!-- Tabella esempio -->
      <div class="overflow-x-auto mb-6">
        <table class="w-full text-center border-collapse text-sm">
          <thead>
            <tr>
              <th colspan="3" class="bg-orange-400 text-white py-2 border border-orange-300 font-bold">classe dei miliardi (G)</th>
              <th colspan="3" class="bg-cyan-400 text-white py-2 border border-cyan-300 font-bold">classe dei milioni (M)</th>
              <th colspan="3" class="bg-pink-400 text-white py-2 border border-pink-300 font-bold">classe delle migliaia (k)</th>
              <th colspan="3" class="bg-blue-400 text-white py-2 border border-blue-300 font-bold">classe delle unità semplici</th>
            </tr>
            <tr>
              <th class="bg-orange-200 py-2 border text-xs">hG</th>
              <th class="bg-orange-200 py-2 border text-xs">daG</th>
              <th class="bg-orange-200 py-2 border text-xs">uG</th>
              <th class="bg-cyan-200 py-2 border text-xs">hM</th>
              <th class="bg-cyan-200 py-2 border text-xs">daM</th>
              <th class="bg-cyan-200 py-2 border text-xs">uM</th>
              <th class="bg-pink-200 py-2 border text-xs">hk</th>
              <th class="bg-pink-200 py-2 border text-xs">dak</th>
              <th class="bg-pink-200 py-2 border text-xs">uk</th>
              <th class="bg-blue-200 py-2 border text-xs">h</th>
              <th class="bg-blue-200 py-2 border text-xs">da</th>
              <th class="bg-blue-200 py-2 border text-xs">u</th>
            </tr>
          </thead>
          <tbody>
            <!-- Riga esempio: 36 009 851 600 -->
            <tr class="bg-gray-50">
              <td class="py-2 border"></td>
              <td class="py-2 border font-bold">3</td>
              <td class="py-2 border font-bold">6</td>
              <td class="py-2 border font-bold">0</td>
              <td class="py-2 border font-bold">0</td>
              <td class="py-2 border font-bold">9</td>
              <td class="py-2 border font-bold">8</td>
              <td class="py-2 border font-bold">5</td>
              <td class="py-2 border font-bold">1</td>
              <td class="py-2 border font-bold">6</td>
              <td class="py-2 border font-bold">0</td>
              <td class="py-2 border font-bold">0</td>
            </tr>
            <!-- Riga 1: 5 uG 9 hM 7 daM 3 dak 1 uk 7 h 4 u = 5 970 031 704 -->
            <tr>
              <td class="py-2 border bg-gray-50"></td>
              <td class="py-2 border bg-gray-50"></td>
              <td class="py-2 border bg-gray-50">
                <input type="text" data-correct-answer="5" class="w-full text-center border-0 bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-300 rounded px-1" maxlength="1">
              </td>
              <td class="py-2 border bg-gray-50">
                <input type="text" data-correct-answer="9" class="w-full text-center border-0 bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-300 rounded px-1" maxlength="1">
              </td>
              <td class="py-2 border bg-gray-50">
                <input type="text" data-correct-answer="7" class="w-full text-center border-0 bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-300 rounded px-1" maxlength="1">
              </td>
              <td class="py-2 border bg-gray-50">
                <input type="text" data-correct-answer="0" class="w-full text-center border-0 bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-300 rounded px-1" maxlength="1">
              </td>
              <td class="py-2 border bg-gray-50">
                <input type="text" data-correct-answer="0" class="w-full text-center border-0 bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-300 rounded px-1" maxlength="1">
              </td>
              <td class="py-2 border bg-gray-50">
                <input type="text" data-correct-answer="3" class="w-full text-center border-0 bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-300 rounded px-1" maxlength="1">
              </td>
              <td class="py-2 border bg-gray-50">
                <input type="text" data-correct-answer="1" class="w-full text-center border-0 bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-300 rounded px-1" maxlength="1">
              </td>
              <td class="py-2 border bg-gray-50">
                <input type="text" data-correct-answer="7" class="w-full text-center border-0 bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-300 rounded px-1" maxlength="1">
              </td>
              <td class="py-2 border bg-gray-50">
                <input type="text" data-correct-answer="0" class="w-full text-center border-0 bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-300 rounded px-1" maxlength="1">
              </td>
              <td class="py-2 border bg-gray-50">
                <input type="text" data-correct-answer="4" class="w-full text-center border-0 bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-300 rounded px-1" maxlength="1">
              </td>
            </tr>
            <!-- Riga 2: 2 hG 3 daG 6 hM 4 uM 8 hk 9 dak 6 da 5 u = 230 604 890 065 -->
            <tr>
              <td class="py-2 border">
                <input type="text" data-correct-answer="2" class="w-full text-center border-0 bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-300 rounded px-1" maxlength="1">
              </td>
              <td class="py-2 border">
                <input type="text" data-correct-answer="3" class="w-full text-center border-0 bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-300 rounded px-1" maxlength="1">
              </td>
              <td class="py-2 border">
                <input type="text" data-correct-answer="0" class="w-full text-center border-0 bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-300 rounded px-1" maxlength="1">
              </td>
              <td class="py-2 border">
                <input type="text" data-correct-answer="6" class="w-full text-center border-0 bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-300 rounded px-1" maxlength="1">
              </td>
              <td class="py-2 border">
                <input type="text" data-correct-answer="0" class="w-full text-center border-0 bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-300 rounded px-1" maxlength="1">
              </td>
              <td class="py-2 border">
                <input type="text" data-correct-answer="4" class="w-full text-center border-0 bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-300 rounded px-1" maxlength="1">
              </td>
              <td class="py-2 border">
                <input type="text" data-correct-answer="8" class="w-full text-center border-0 bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-300 rounded px-1" maxlength="1">
              </td>
              <td class="py-2 border">
                <input type="text" data-correct-answer="9" class="w-full text-center border-0 bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-300 rounded px-1" maxlength="1">
              </td>
              <td class="py-2 border">
                <input type="text" data-correct-answer="0" class="w-full text-center border-0 bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-300 rounded px-1" maxlength="1">
              </td>
              <td class="py-2 border">
                <input type="text" data-correct-answer="0" class="w-full text-center border-0 bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-300 rounded px-1" maxlength="1">
              </td>
              <td class="py-2 border">
                <input type="text" data-correct-answer="6" class="w-full text-center border-0 bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-300 rounded px-1" maxlength="1">
              </td>
              <td class="py-2 border">
                <input type="text" data-correct-answer="5" class="w-full text-center border-0 bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-300 rounded px-1" maxlength="1">
              </td>
            </tr>
            <!-- Riga 3: 1 hG 8 daG 4 uG 5 hM 6 daM 9 uM 2 h 4 da 4 u = 184 569 002 044 -->
            <tr>
              <td class="py-2 border bg-gray-50">
                <input type="text" data-correct-answer="1" class="w-full text-center border-0 bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-300 rounded px-1" maxlength="1">
              </td>
              <td class="py-2 border bg-gray-50">
                <input type="text" data-correct-answer="8" class="w-full text-center border-0 bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-300 rounded px-1" maxlength="1">
              </td>
              <td class="py-2 border bg-gray-50">
                <input type="text" data-correct-answer="4" class="w-full text-center border-0 bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-300 rounded px-1" maxlength="1">
              </td>
              <td class="py-2 border bg-gray-50">
                <input type="text" data-correct-answer="5" class="w-full text-center border-0 bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-300 rounded px-1" maxlength="1">
              </td>
              <td class="py-2 border bg-gray-50">
                <input type="text" data-correct-answer="6" class="w-full text-center border-0 bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-300 rounded px-1" maxlength="1">
              </td>
              <td class="py-2 border bg-gray-50">
                <input type="text" data-correct-answer="9" class="w-full text-center border-0 bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-300 rounded px-1" maxlength="1">
              </td>
              <td class="py-2 border bg-gray-50">
                <input type="text" data-correct-answer="0" class="w-full text-center border-0 bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-300 rounded px-1" maxlength="1">
              </td>
              <td class="py-2 border bg-gray-50">
                <input type="text" data-correct-answer="0" class="w-full text-center border-0 bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-300 rounded px-1" maxlength="1">
              </td>
              <td class="py-2 border bg-gray-50">
                <input type="text" data-correct-answer="0" class="w-full text-center border-0 bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-300 rounded px-1" maxlength="1">
              </td>
              <td class="py-2 border bg-gray-50">
                <input type="text" data-correct-answer="2" class="w-full text-center border-0 bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-300 rounded px-1" maxlength="1">
              </td>
              <td class="py-2 border bg-gray-50">
                <input type="text" data-correct-answer="4" class="w-full text-center border-0 bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-300 rounded px-1" maxlength="1">
              </td>
              <td class="py-2 border bg-gray-50">
                <input type="text" data-correct-answer="4" class="w-full text-center border-0 bg-transparent focus:outline-none focus:ring-2 focus:ring-blue-300 rounded px-1" maxlength="1">
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- Exercise 3: Scrivi in lettere -->
    <div class="bg-white rounded-lg shadow-lg p-8 border-l-4 border-green-500">
      <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-3">
        <span class="bg-green-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold">3</span>
        <span>Scrivi in lettere i seguenti numeri.</span>
      </h3>

      <div class="space-y-6">
        <div class="bg-green-50 rounded-lg p-4">
          <div class="text-xl font-mono font-bold text-gray-800 mb-3 text-center">556 234</div>
          <input type="text"
                 data-correct-answer="cinquecentocinquantaseimila duecentotrentaquattro"
                 class="w-full px-4 py-2 border-2 border-green-300 rounded focus:border-green-500 focus:outline-none"
                 placeholder="Scrivi in lettere...">
        </div>

        <div class="bg-green-50 rounded-lg p-4">
          <div class="text-xl font-mono font-bold text-gray-800 mb-3 text-center">12 354 098</div>
          <input type="text"
                 data-correct-answer="dodici milioni trecentocinquantaquattromila novantotto"
                 class="w-full px-4 py-2 border-2 border-green-300 rounded focus:border-green-500 focus:outline-none"
                 placeholder="Scrivi in lettere...">
        </div>

        <div class="bg-green-50 rounded-lg p-4">
          <div class="text-xl font-mono font-bold text-gray-800 mb-3 text-center">9 345 236 063</div>
          <input type="text"
                 data-correct-answer="nove miliardi trecentoquarantacinque milioni duecentotrentaseimila sessantatré"
                 class="w-full px-4 py-2 border-2 border-green-300 rounded focus:border-green-500 focus:outline-none"
                 placeholder="Scrivi in lettere...">
        </div>

        <div class="bg-green-50 rounded-lg p-4">
          <div class="text-xl font-mono font-bold text-gray-800 mb-3 text-center">1 075 355</div>
          <input type="text"
                 data-correct-answer="un milione settantacinquemila trecentocinquantacinque"
                 class="w-full px-4 py-2 border-2 border-green-300 rounded focus:border-green-500 focus:outline-none"
                 placeholder="Scrivi in lettere...">
        </div>

        <div class="bg-green-50 rounded-lg p-4">
          <div class="text-xl font-mono font-bold text-gray-800 mb-3 text-center">120 000 000</div>
          <input type="text"
                 data-correct-answer="centoventi milioni"
                 class="w-full px-4 py-2 border-2 border-green-300 rounded focus:border-green-500 focus:outline-none"
                 placeholder="Scrivi in lettere...">
        </div>
      </div>
    </div>

    <!-- Exercise 4: Somma di valori -->
    <div class="bg-white rounded-lg shadow-lg p-8 border-l-4 border-purple-500">
      <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-3">
        <span class="bg-purple-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold">4</span>
        <span>Scrivi i numeri come somma di valori, somma di addendi e somma di prodotti. Segui l'esempio.</span>
      </h3>

      <!-- Esempio -->
      <div class="bg-purple-50 rounded-lg p-6 mb-6 border-2 border-purple-300">
        <h4 class="font-bold text-purple-700 mb-3">Esempio:</h4>
        <div class="space-y-2">
          <div class="flex items-start gap-2">
            <span class="font-bold text-purple-700 min-w-32">7 135 024</span>
            <span class="text-gray-600">→</span>
            <span class="text-gray-800">7 uM + 1 hk + 3 dak + 5 uk + 2 da + 4 u</span>
          </div>
          <div class="flex items-start gap-2 pl-36">
            <span class="text-gray-800">7 000 000 + 100 000 + 30 000 + 5 000 + 20 + 4</span>
          </div>
          <div class="flex items-start gap-2 pl-36">
            <span class="text-gray-800">7 × 1 000 000 + 1 × 100 000 + 3 × 10 000 + 5 × 1 000 + 2 × 10 + 4 × 1</span>
          </div>
        </div>
      </div>

      <!-- Esercizi -->
      <div class="space-y-6">
        <div class="bg-gray-50 rounded-lg p-6">
          <div class="font-bold text-2xl text-gray-800 mb-4">67 083 105</div>
          <div class="space-y-3">
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-1">Somma di valori:</label>
              <input type="text"
                     data-correct-answer="6 daM + 7 uM + 8 dak + 3 uk + 1 h + 5 u"
                     class="w-full px-3 py-2 border-2 border-gray-300 rounded focus:border-purple-500 focus:outline-none"
                     placeholder="es: 6 daM + 7 uM + ...">
            </div>
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-1">Somma di addendi:</label>
              <input type="text"
                     data-correct-answer="60000000 + 7000000 + 80000 + 3000 + 100 + 5"
                     class="w-full px-3 py-2 border-2 border-gray-300 rounded focus:border-purple-500 focus:outline-none"
                     placeholder="es: 60000000 + 7000000 + ...">
            </div>
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-1">Somma di prodotti:</label>
              <input type="text"
                     data-correct-answer="6 × 10000000 + 7 × 1000000 + 8 × 10000 + 3 × 1000 + 1 × 100 + 5 × 1"
                     class="w-full px-3 py-2 border-2 border-gray-300 rounded focus:border-purple-500 focus:outline-none"
                     placeholder="es: 6 × 10000000 + 7 × 1000000 + ...">
            </div>
          </div>
        </div>

        <div class="bg-gray-50 rounded-lg p-6">
          <div class="font-bold text-2xl text-gray-800 mb-4">190 315 070</div>
          <div class="space-y-3">
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-1">Somma di valori:</label>
              <input type="text"
                     data-correct-answer="1 hM + 9 daM + 3 hk + 1 dak + 5 uk + 7 da"
                     class="w-full px-3 py-2 border-2 border-gray-300 rounded focus:border-purple-500 focus:outline-none">
            </div>
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-1">Somma di addendi:</label>
              <input type="text"
                     data-correct-answer="100000000 + 90000000 + 300000 + 10000 + 5000 + 70"
                     class="w-full px-3 py-2 border-2 border-gray-300 rounded focus:border-purple-500 focus:outline-none">
            </div>
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-1">Somma di prodotti:</label>
              <input type="text"
                     data-correct-answer="1 × 100000000 + 9 × 10000000 + 3 × 100000 + 1 × 10000 + 5 × 1000 + 7 × 10"
                     class="w-full px-3 py-2 border-2 border-gray-300 rounded focus:border-purple-500 focus:outline-none">
            </div>
          </div>
        </div>

        <div class="bg-gray-50 rounded-lg p-6">
          <div class="font-bold text-2xl text-gray-800 mb-4">23 500 167 000</div>
          <div class="space-y-3">
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-1">Somma di valori:</label>
              <input type="text"
                     data-correct-answer="2 daG + 3 uG + 5 hM + 1 hk + 6 dak + 7 uk"
                     class="w-full px-3 py-2 border-2 border-gray-300 rounded focus:border-purple-500 focus:outline-none">
            </div>
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-1">Somma di addendi:</label>
              <input type="text"
                     data-correct-answer="20000000000 + 3000000000 + 500000000 + 100000 + 60000 + 7000"
                     class="w-full px-3 py-2 border-2 border-gray-300 rounded focus:border-purple-500 focus:outline-none">
            </div>
            <div>
              <label class="block text-sm font-semibold text-gray-700 mb-1">Somma di prodotti:</label>
              <input type="text"
                     data-correct-answer="2 × 10000000000 + 3 × 1000000000 + 5 × 100000000 + 1 × 100000 + 6 × 10000 + 7 × 1000"
                     class="w-full px-3 py-2 border-2 border-gray-300 rounded focus:border-purple-500 focus:outline-none">
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Exercise Controls -->
    <%= render 'shared/exercise_controls', color: 'purple', current_page: 'nvi5_mat_p018' %>

  </div>
</div>
