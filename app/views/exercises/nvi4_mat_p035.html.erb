<div class="max-w-6xl mx-auto bg-white dark:bg-gray-900 p-3 md:p-6 transition-colors duration-300"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">

    <!-- Esempio Sara - Palloncini -->
    <div class="p-4 md:p-6">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <div class="p-3 bg-custom-blue-light dark:bg-cyan-900 mb-4">
            <p class="text-gray-700 dark:text-gray-200">
              Sara ha comprato 18 palloncini colorati: alcuni sono gialli, altri sono viola. I palloncini viola sono 6. Quanti sono i palloncini gialli?
            </p>
          </div>

          <!-- Diagramma -->
          <div class="flex justify-center">
            <%= render 'shared/operazioni_inverse',
                left: 18, right: nil, right_answer: "12",
                op_direct: "-", op_direct_num: 6,
                op_inverse: "+", op_inverse_num: 6 %>
          </div>
        </div>

        <div class="flex flex-col justify-end">
          <div class="p-3">
            <p class="text-gray-700 dark:text-gray-200 font-bold">18 − 6 = 12</p>
            <p class="text-gray-700 dark:text-gray-200">I palloncini gialli sono 12.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Esempio Pietro - Figurine -->
    <div class="p-4 md:p-6">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <div class="p-3 bg-custom-blue-light dark:bg-cyan-900 mb-4">
            <p class="text-gray-700 dark:text-gray-200">
              Pietro ha 14 figurine di calciatori. Biko gliene regala alcune. Ora Pietro ha 22 figurine. Quante sono le figurine che Biko ha regalato a Pietro?
            </p>
          </div>

          <!-- Diagramma -->
          <div class="flex justify-center">
            <%= render 'shared/operazioni_inverse',
                left: 14, right: 22,
                op_direct: "+", op_direct_num: nil, op_direct_answer: "8",
                op_inverse: "-", op_inverse_num: nil, op_inverse_answer: "8" %>
          </div>
        </div>

        <div class="flex flex-col justify-end">
          <div class="p-3">
            <p class="text-gray-700 dark:text-gray-200 font-bold">22 − 14 = 8</p>
            <p class="text-gray-700 dark:text-gray-200">Biko ha regalato a Pietro 8 figurine.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- ESERCIZI -->
    <div class="p-4 md:p-6 bg-orange-100 dark:bg-orange-900/30 rounded-2xl">

      <p class="font-bold text-gray-700 dark:text-gray-200 mb-6">
        Risolvi i problemi proposti. Traduci nel linguaggio matematico e usa le frecce quando ti servono.
      </p>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 md:divide-x-2 md:divide-orange-300">

        <!-- Colonna sinistra -->
        <div class="md:pr-4 space-y-6">

          <!-- Problema 1 -->
          <div>
            <p class="text-gray-700 dark:text-gray-200 mb-2">
              <%= numero_esercizio_badge(1) %>
              Paola ha 245 biglie. Sara gliene regala alcune. Ora Paola ha 280 biglie. Quante ne ha avute da Sara?
            </p>
            <div class="flex items-center justify-end gap-2">
              <input type="text" data-correct-answer="35" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
              <span class="shrink-0">biglie</span>
            </div>
          </div>

          <!-- Problema 2 -->
          <div>
            <p class="text-gray-700 dark:text-gray-200 mb-2">
              <%= numero_esercizio_badge(2) %>
              Filippo ha messo da parte 1 275 euro, ma per comprare il televisore ne servono 2 350. Quanti euro gli mancano?
            </p>
            <div class="flex items-center justify-end gap-2">
              <input type="text" data-correct-answer="1075" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
              <span class="shrink-0">euro</span>
            </div>
          </div>

          <!-- Problema 3 -->
          <div>
            <p class="text-gray-700 dark:text-gray-200 mb-2">
              <%= numero_esercizio_badge(3) %>
              Elena esce di casa con degli euro nel borsellino e va a fare acquisti. Spende 235 euro. Nel borsellino ora ci sono 25 euro. Quanti euro aveva Elena quando è uscita di casa?
            </p>
            <div class="flex items-center justify-end gap-2">
              <input type="text" data-correct-answer="260" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
              <span class="shrink-0">euro</span>
            </div>
          </div>

          <!-- Problema 4 -->
          <div>
            <p class="text-gray-700 dark:text-gray-200 mb-2">
              <%= numero_esercizio_badge(4) %>
              Emma ha 24 caramelle: alcune al limone, le altre alla fragola. 8 caramelle sono al limone; quante caramelle sono al gusto di fragola?
            </p>
            <div class="flex items-center justify-end gap-2">
              <input type="text" data-correct-answer="16" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
              <span class="shrink-0">caramelle</span>
            </div>
          </div>

          <!-- Problema 5 -->
          <div>
            <p class="text-gray-700 dark:text-gray-200 mb-2">
              <%= numero_esercizio_badge(5) %>
              Luca e Thomas mettono le loro biglie in un sacchetto: ce ne sono 135. Luca ha messo 48 biglie. Quante biglie ha messo Thomas?
            </p>
            <div class="flex items-center justify-end gap-2">
              <input type="text" data-correct-answer="87" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
              <span class="shrink-0">biglie</span>
            </div>
          </div>

        </div>

        <!-- Colonna destra -->
        <div class="md:pl-4 space-y-6">

          <!-- Problema 6 -->
          <div>
            <p class="text-gray-700 dark:text-gray-200 mb-2">
              <%= numero_esercizio_badge(6) %>
              Angelica ha 11 anni; sua sorella Claudia ne ha 6. Claudia quanti anni di meno ha?
            </p>
            <div class="flex items-center justify-end gap-2">
              <input type="text" data-correct-answer="5" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
              <span class="shrink-0">anni</span>
            </div>
          </div>

          <!-- Problema 7 -->
          <div>
            <p class="text-gray-700 dark:text-gray-200 mb-2">
              <%= numero_esercizio_badge(7) %>
              Ivo ha delle fragole e ne regala 8 a Giulia. La nonna porta a Ivo altre 10 fragole. Ora Ivo ha 24 fragole in tutto. Quante ne aveva all'inizio?
            </p>
            <div class="flex items-center justify-end gap-2">
              <input type="text" data-correct-answer="22" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
              <span class="shrink-0">fragole</span>
            </div>
          </div>

          <!-- Problema 8 -->
          <div>
            <p class="text-gray-700 dark:text-gray-200 mb-2">
              <%= numero_esercizio_badge(8) %>
              Agnese compra 3 libri che costano 65 euro in tutto e 4 quaderni che costano 12 euro in tutto. Paga con una banconota da 100 euro. Quanto riceve di resto?
            </p>
            <div class="flex items-center justify-end gap-2">
              <input type="text" data-correct-answer="23" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
              <span class="shrink-0">euro</span>
            </div>
          </div>

          <!-- Problema 9 -->
          <div>
            <p class="text-gray-700 dark:text-gray-200 mb-2">
              <%= numero_esercizio_badge(9) %>
              Linda ha a disposizione 700 euro per arredare il suo nuovo salotto in un mese. Nella prima settimana spende 138 euro, nella seconda settimana 24 euro in più rispetto alla prima, nella terza settimana 27 euro in più rispetto alla seconda. Quanto le resta?
            </p>
            <div class="flex items-center justify-end gap-2">
              <input type="text" data-correct-answer="184" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
              <span class="shrink-0">euro</span>
            </div>
          </div>

        </div>

      </div>

    </div>

    <%= render 'shared/quaderno_link', pagine: [179, 180, 181, 182, 183, 184, 185, 186, 187, 196, 198, 199] %>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
