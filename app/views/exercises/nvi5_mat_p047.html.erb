<div class="max-w-6xl mx-auto p-3 md:p-8 bg-gradient-to-br from-purple-50 via-white to-purple-50 rounded-3xl shadow-xl" data-controller="exercise-checker page-viewer" data-page-viewer-image-url-value="<%= asset_path('nvi5_mat/p047/page.png') %>">
  <div class="mb-8">
    <div class="flex items-start sm:items-center justify-between gap-4 mb-4">
      <div class="flex flex-col-reverse sm:flex-row items-start sm:items-center gap-2 sm:gap-4">
        <div class="bg-purple-500 text-white text-md sm:text-xl px-2 sm:px-4 py-1.5 sm:py-2 rounded-lg font-bold">NUMERI</div>
        <h1 class="text-2xl sm:text-3xl font-bold text-purple-600">CRITERI DI DIVISIBILITÀ</h1>
      </div>
      <div class="flex-shrink-0 bg-purple-600 text-white rounded-full w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center font-bold text-lg sm:text-xl cursor-pointer hover:bg-purple-700 transition-colors"
           data-action="click->page-viewer#openOriginal"
           title="Clicca per vedere la pagina originale">
        47
      </div>
    </div>
  </div>
  <div class="space-y-6">
    <p class="text-base md:text-lg">Per stabilire rapidamente se un numero è divisibile per un altro, puoi usare alcune regole: i <strong class="text-purple-700">criteri di divisibilità</strong>.</p>
    <div class="overflow-x-auto">
      <table class="w-full border-collapse">
        <thead>
          <tr class="bg-blue-100"><th class="border-2 p-2">Un numero è divisibile per...</th><th class="border-2 p-2">se... (criterio di divisibilità)</th><th class="border-2 p-2">Esempi</th></tr>
        </thead>
        <tbody>
          <tr><td class="border-2 p-3 text-center"><span class="text-2xl font-bold text-red-600">2</span></td><td class="border-2 p-3">l'ultima cifra è pari.</td><td class="border-2 p-3"><strong class="text-blue-700">4 – 10 – 12 – 26 – 138</strong> sono <strong>divisibili</strong> per 2 perché 4 – 0 – 2 – 6 – 8 <strong>sono pari</strong>.</td></tr>
          <tr><td class="border-2 p-3 text-center"><span class="text-2xl font-bold text-red-600">3</span></td><td class="border-2 p-3">la somma delle sue cifre è divisibile per 3.</td><td class="border-2 p-3">1 905 &nbsp; 1 + 9 + 0 + 5 = 15<br>15 <strong>è divisibile</strong> per 3, dunque 1 905 è divisibile per 3.</td></tr>
          <tr><td class="border-2 p-3 text-center"><span class="text-2xl font-bold text-red-600">4</span></td><td class="border-2 p-3">termina con due zeri o se le ultime due cifre formano un numero multiplo di 4.</td><td class="border-2 p-3"><strong class="text-blue-700">200 – 3 500 – 45 600 – 87 200</strong> sono <strong>divisibili</strong> per 4.</td></tr>
          <tr><td class="border-2 p-3 text-center"><span class="text-2xl font-bold text-red-600">5</span></td><td class="border-2 p-3">l'ultima cifra è 5 oppure 0.</td><td class="border-2 p-3"><strong class="text-blue-700">2 455 – 2 680 – 125 – 9 600</strong> sono <strong>divisibili</strong> per 5.</td></tr>
          <tr><td class="border-2 p-3 text-center"><span class="text-2xl font-bold text-red-600">9</span></td><td class="border-2 p-3">la somma delle sue cifre è divisibile per 9.</td><td class="border-2 p-3">1 386 &nbsp; 1 + 3 + 8 + 6 = 18<br>18 <strong>è divisibile</strong> per 9, dunque 1 386 è divisibile per 9.</td></tr>
          <tr><td class="border-2 p-3 text-center"><span class="text-2xl font-bold text-red-600">10</span></td><td class="border-2 p-3">termina con 0.</td><td class="border-2 p-3"><strong class="text-blue-700">90 – 650 – 1 800 – 150 000</strong> sono <strong>divisibili</strong> per 10.</td></tr>
        </tbody>
      </table>
    </div>
    <div class="bg-gradient-to-br from-purple-100 to-pink-100 rounded-2xl p-4 md:p-6">
      <h2 class="text-xl font-bold text-purple-700 mb-4">ESERCIZI</h2>
      <div class="bg-white rounded-2xl border-4 border-yellow-200 shadow-2xl p-4">
        <h3 class="text-lg font-bold mb-3"><span class="bg-purple-600 text-white rounded-full w-8 h-8 inline-flex items-center justify-center mr-2">1</span>Cerchia i numeri divisibili per...</h3>
        <div class="space-y-4 md:ml-11">
          <div>
            <strong>4 →</strong>
            <div class="flex flex-wrap gap-3 mt-2">
              <span class="bg-white border-2 border-purple-300 px-4 py-2 rounded-lg font-bold text-xl cursor-pointer hover:bg-purple-100 transition"
                    data-controller="word-highlighter"
                    data-action="click->word-highlighter#toggleHighlight"
                    data-correct-value="true">124</span>
              <span class="bg-white border-2 border-purple-300 px-4 py-2 rounded-lg font-bold text-xl cursor-pointer hover:bg-purple-100 transition"
                    data-controller="word-highlighter"
                    data-action="click->word-highlighter#toggleHighlight"
                    data-correct-value="false">107</span>
              <span class="bg-white border-2 border-purple-300 px-4 py-2 rounded-lg font-bold text-xl cursor-pointer hover:bg-purple-100 transition"
                    data-controller="word-highlighter"
                    data-action="click->word-highlighter#toggleHighlight"
                    data-correct-value="true">100</span>
              <span class="bg-white border-2 border-purple-300 px-4 py-2 rounded-lg font-bold text-xl cursor-pointer hover:bg-purple-100 transition"
                    data-controller="word-highlighter"
                    data-action="click->word-highlighter#toggleHighlight"
                    data-correct-value="true">548</span>
              <span class="bg-white border-2 border-purple-300 px-4 py-2 rounded-lg font-bold text-xl cursor-pointer hover:bg-purple-100 transition"
                    data-controller="word-highlighter"
                    data-action="click->word-highlighter#toggleHighlight"
                    data-correct-value="true">1516</span>
            </div>
          </div>
          <div>
            <strong>5 →</strong>
            <div class="flex flex-wrap gap-3 mt-2">
              <span class="bg-white border-2 border-purple-300 px-4 py-2 rounded-lg font-bold text-xl cursor-pointer hover:bg-purple-100 transition"
                    data-controller="word-highlighter"
                    data-action="click->word-highlighter#toggleHighlight"
                    data-correct-value="false">864</span>
              <span class="bg-white border-2 border-purple-300 px-4 py-2 rounded-lg font-bold text-xl cursor-pointer hover:bg-purple-100 transition"
                    data-controller="word-highlighter"
                    data-action="click->word-highlighter#toggleHighlight"
                    data-correct-value="true">530</span>
              <span class="bg-white border-2 border-purple-300 px-4 py-2 rounded-lg font-bold text-xl cursor-pointer hover:bg-purple-100 transition"
                    data-controller="word-highlighter"
                    data-action="click->word-highlighter#toggleHighlight"
                    data-correct-value="true">225</span>
              <span class="bg-white border-2 border-purple-300 px-4 py-2 rounded-lg font-bold text-xl cursor-pointer hover:bg-purple-100 transition"
                    data-controller="word-highlighter"
                    data-action="click->word-highlighter#toggleHighlight"
                    data-correct-value="true">85</span>
              <span class="bg-white border-2 border-purple-300 px-4 py-2 rounded-lg font-bold text-xl cursor-pointer hover:bg-purple-100 transition"
                    data-controller="word-highlighter"
                    data-action="click->word-highlighter#toggleHighlight"
                    data-correct-value="false">1342</span>
            </div>
          </div>
          <div>
            <strong>9 →</strong>
            <div class="flex flex-wrap gap-3 mt-2">
              <span class="bg-white border-2 border-purple-300 px-4 py-2 rounded-lg font-bold text-xl cursor-pointer hover:bg-purple-100 transition"
                    data-controller="word-highlighter"
                    data-action="click->word-highlighter#toggleHighlight"
                    data-correct-value="false">399</span>
              <span class="bg-white border-2 border-purple-300 px-4 py-2 rounded-lg font-bold text-xl cursor-pointer hover:bg-purple-100 transition"
                    data-controller="word-highlighter"
                    data-action="click->word-highlighter#toggleHighlight"
                    data-correct-value="false">83</span>
              <span class="bg-white border-2 border-purple-300 px-4 py-2 rounded-lg font-bold text-xl cursor-pointer hover:bg-purple-100 transition"
                    data-controller="word-highlighter"
                    data-action="click->word-highlighter#toggleHighlight"
                    data-correct-value="true">270</span>
              <span class="bg-white border-2 border-purple-300 px-4 py-2 rounded-lg font-bold text-xl cursor-pointer hover:bg-purple-100 transition"
                    data-controller="word-highlighter"
                    data-action="click->word-highlighter#toggleHighlight"
                    data-correct-value="true">324</span>
              <span class="bg-white border-2 border-purple-300 px-4 py-2 rounded-lg font-bold text-xl cursor-pointer hover:bg-purple-100 transition"
                    data-controller="word-highlighter"
                    data-action="click->word-highlighter#toggleHighlight"
                    data-correct-value="true">1809</span>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="mt-8 text-center"><p class="text-red-600 font-bold text-lg">Quaderno esercizi pp. 198, 201</p></div>
  </div>
  <%= render 'shared/exercise_controls', color: 'purple' %>
</div>
