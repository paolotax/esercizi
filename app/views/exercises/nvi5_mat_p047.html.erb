<div class="max-w-6xl mx-auto bg-white p-3 md:p-6"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">
    <!-- Introduzione -->
    <div class="p-4 md:p-6">
      <p class="text-gray-800 mb-4">
        Per stabilire rapidamente se un numero è divisibile per un altro, puoi usare alcune regole: i <strong class="text-<%= @pagina.base_color %>-600">criteri di divisibilità</strong>.
      </p>
    </div>

    <!-- Tabella criteri -->
    <div class="p-4 md:p-6 overflow-x-auto">
      <table class="w-full border-collapse bg-white">
        <thead>
          <tr class="bg-custom-blue-light text-gray-800">
            <th class="border border-gray-400 p-2 text-left align-top md:w-16">Un numero<br><span class="whitespace-nowrap">è divisibile</span><br>per...</th>
            <th class="border border-gray-400 p-2 text-left align-top md:w-36">se...<br><span class="whitespace-nowrap">(criterio di divisibilità)</span></th>
            <th class="border border-gray-400 p-2 text-left align-top bg-white min-w-[600px]">Esempi</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="border border-gray-300 p-3 text-center"><span class="font-bold text-custom-pink">2</span></td>
            <td class="border border-gray-300 p-3">l'ultima cifra è pari.</td>
            <td class="border border-gray-300 p-3">
              <strong class="text-custom-pink">4</strong> – 1<strong class="text-custom-pink">0</strong> – 1<strong class="text-custom-pink">2</strong> – 2<strong class="text-custom-pink">6</strong> – 13<strong class="text-custom-pink">8</strong> <strong>sono divisibili</strong> per 2<br>
              perché 4 – 0 – 2 – 6 – 8 <strong>sono pari</strong>.
            </td>
          </tr>
          <tr>
            <td class="border border-gray-300 p-3 text-center" rowspan="2"><span class="font-bold text-custom-pink">3</span></td>
            <td class="border border-gray-300 p-3" rowspan="2">la somma delle sue cifre è divisibile per 3.</td>
            <td class="border border-gray-300 p-3">
              <span class="whitespace-nowrap">1 905</span> &nbsp; 1 + 9 + 0 + 5 = 15<br>
              15 <strong>è divisibile</strong> per 3, dunque <span class="whitespace-nowrap">1 905</span> è divisibile per 3.
            </td>
          </tr>
          <tr>
            <td class="border border-gray-300 p-3">
              <span class="whitespace-nowrap">1 906</span> &nbsp; 1 + 9 + 0 + 6 = 16<br>
              16 <strong>non è divisibile</strong> per 3, dunque <span class="whitespace-nowrap">1 906</span> non è divisibile per 3.
            </td>
          </tr>
          <tr>
            <td class="border border-gray-300 p-3 text-center" rowspan="3"><span class="font-bold text-custom-pink">4</span></td>
            <td class="border border-gray-300 p-3" rowspan="3">termina con due zeri o se le ultime due cifre formano un numero multiplo di 4.</td>
            <td class="border border-gray-300 p-3">
              2<strong class="text-custom-pink">00</strong> – <span class="whitespace-nowrap">3 5<strong class="text-custom-pink">00</strong></span> – <span class="whitespace-nowrap">45 6<strong class="text-custom-pink">00</strong></span> – <span class="whitespace-nowrap">87 2<strong class="text-custom-pink">00</strong></span> <strong>sono divisibili</strong> per 4.
            </td>
          </tr>
          <tr>
            <td class="border border-gray-300 p-3">
              7<strong class="text-custom-pink">12</strong> – 8<strong class="text-custom-pink">36</strong> – <span class="whitespace-nowrap">1 0<strong class="text-custom-pink">44</strong></span> – 9<strong class="text-custom-pink">28</strong> <strong>sono divisibili</strong> per 4<br>
              perché 12 – 36 – 44 – 28 sono divisibili per 4.
            </td>
          </tr>
          <tr>
            <td class="border border-gray-300 p-3">
              6<strong>14</strong> – 8<strong>25</strong> – 9<strong>87</strong> – 1<strong>49</strong> <strong>non sono divisibili</strong> per 4<br>
              perché 14 – 25 – 87 – 49 non sono divisibili per 4.
            </td>
          </tr>
          <tr>
            <td class="border border-gray-300 p-3 text-center" rowspan="2"><span class="font-bold text-custom-pink">5</span></td>
            <td class="border border-gray-300 p-3" rowspan="2">l'ultima cifra è 5 oppure 0.</td>
            <td class="border border-gray-300 p-3">
              <span class="whitespace-nowrap">2 45<strong class="text-custom-pink">5</strong></span> – <span class="whitespace-nowrap">2 68<strong class="text-custom-pink">0</strong></span> – 12<strong class="text-custom-pink">5</strong> – <span class="whitespace-nowrap">9 60<strong class="text-custom-pink">0</strong></span> <strong>sono divisibili</strong> per 5.
            </td>
          </tr>
          <tr>
            <td class="border border-gray-300 p-3">
              4<strong>8</strong> – 12<strong>7</strong> – 45<strong>4</strong> <strong>non sono divisibili</strong> per 5.
            </td>
          </tr>
          <tr>
            <td class="border border-gray-300 p-3 text-center" rowspan="2"><span class="font-bold text-custom-pink">9</span></td>
            <td class="border border-gray-300 p-3" rowspan="2">la somma delle sue cifre è divisibile per 9.</td>
            <td class="border border-gray-300 p-3">
              <span class="whitespace-nowrap">1 386</span> &nbsp; 1 + 3 + 8 + 6 = 18<br>
              18 <strong>è divisibile</strong> per 9, dunque <span class="whitespace-nowrap">1 386</span> è divisibile per 9.
            </td>
          </tr>
          <tr>
            <td class="border border-gray-300 p-3">
              218 &nbsp; 2 + 1 + 8 = 11<br>
              11 <strong>non è divisibile</strong> per 9, dunque 218 non è divisibile per 9.
            </td>
          </tr>
          <tr>
            <td class="border border-gray-300 p-3 text-center" rowspan="2"><span class="font-bold text-custom-pink">10</span></td>
            <td class="border border-gray-300 p-3" rowspan="2">termina con 0.</td>
            <td class="border border-gray-300 p-3">
              9<strong class="text-custom-pink">0</strong> – 65<strong class="text-custom-pink">0</strong> – <span class="whitespace-nowrap">1 80<strong class="text-custom-pink">0</strong></span> – <span class="whitespace-nowrap">150 00<strong class="text-custom-pink">0</strong></span> <strong>sono divisibili</strong> per 10.
            </td>
          </tr>
          <tr>
            <td class="border border-gray-300 p-3">
              9<strong>2</strong> – 7<strong>5</strong> – 10<strong>3</strong> <strong>non sono divisibili</strong> per 10.
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- ESERCIZI -->
    <div class="p-4 md:p-6 bg-orange-100 rounded-lg">
      <p class="font-bold text-gray-700 mb-4">
        <%= numero_esercizio_badge(1) %>
        Cerchia i numeri divisibili per...
      </p>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4" data-controller="word-highlighter">
        <div class="flex items-center gap-3 flex-wrap">
          <strong class="text-custom-pink">4 →</strong>
          <span data-word-highlighter-target="word" data-correct="true"
                data-action="click->word-highlighter#toggleHighlight"
                class="cursor-pointer hover:opacity-80">124</span>
          <span data-word-highlighter-target="word" data-correct="false"
                data-action="click->word-highlighter#toggleHighlight"
                class="cursor-pointer hover:opacity-80">107</span>
          <span data-word-highlighter-target="word" data-correct="true"
                data-action="click->word-highlighter#toggleHighlight"
                class="cursor-pointer hover:opacity-80">100</span>
          <span data-word-highlighter-target="word" data-correct="true"
                data-action="click->word-highlighter#toggleHighlight"
                class="cursor-pointer hover:opacity-80">548</span>
          <span data-word-highlighter-target="word" data-correct="true"
                data-action="click->word-highlighter#toggleHighlight"
                class="cursor-pointer hover:opacity-80 whitespace-nowrap">1 516</span>
        </div>
        <div class="flex items-center gap-3 flex-wrap">
          <strong class="text-custom-pink">5 →</strong>
          <span data-word-highlighter-target="word" data-correct="false"
                data-action="click->word-highlighter#toggleHighlight"
                class="cursor-pointer hover:opacity-80">864</span>
          <span data-word-highlighter-target="word" data-correct="true"
                data-action="click->word-highlighter#toggleHighlight"
                class="cursor-pointer hover:opacity-80">530</span>
          <span data-word-highlighter-target="word" data-correct="true"
                data-action="click->word-highlighter#toggleHighlight"
                class="cursor-pointer hover:opacity-80">225</span>
          <span data-word-highlighter-target="word" data-correct="true"
                data-action="click->word-highlighter#toggleHighlight"
                class="cursor-pointer hover:opacity-80">85</span>
          <span data-word-highlighter-target="word" data-correct="false"
                data-action="click->word-highlighter#toggleHighlight"
                class="cursor-pointer hover:opacity-80 whitespace-nowrap">1 342</span>
        </div>
        <div class="flex items-center gap-3 flex-wrap">
          <strong class="text-custom-pink">9 →</strong>
          <span data-word-highlighter-target="word" data-correct="false"
                data-action="click->word-highlighter#toggleHighlight"
                class="cursor-pointer hover:opacity-80">399</span>
          <span data-word-highlighter-target="word" data-correct="false"
                data-action="click->word-highlighter#toggleHighlight"
                class="cursor-pointer hover:opacity-80">83</span>
          <span data-word-highlighter-target="word" data-correct="true"
                data-action="click->word-highlighter#toggleHighlight"
                class="cursor-pointer hover:opacity-80">270</span>
          <span data-word-highlighter-target="word" data-correct="true"
                data-action="click->word-highlighter#toggleHighlight"
                class="cursor-pointer hover:opacity-80">324</span>
          <span data-word-highlighter-target="word" data-correct="true"
                data-action="click->word-highlighter#toggleHighlight"
                class="cursor-pointer hover:opacity-80 whitespace-nowrap">1 809</span>
        </div>
      </div>
    </div>

    <%= render 'shared/quaderno_link', pagine: [198, 201] %>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
