<div class="max-w-6xl mx-auto bg-white dark:bg-gray-900 p-3 md:p-6 transition-colors duration-300"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">

    <!-- Esercizio 1 -->
    <div class="space-y-4">
      <p class="font-bold text-gray-700 dark:text-gray-200">
        <%= numero_esercizio_badge(1) %>
        Completa scrivendo la marca che manca.
      </p>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-gray-700 dark:text-gray-200">
        <div class="space-y-3">
          <div class="flex items-center gap-2 flex-wrap">
            <span>3,6 kg = 36</span>
            <input type="text" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white" data-correct-answer="hg" placeholder="...">
          </div>
          <div class="flex items-center gap-2 flex-wrap">
            <span>14 kg = 140</span>
            <input type="text" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white" data-correct-answer="hg" placeholder="...">
          </div>
          <div class="flex items-center gap-2 flex-wrap">
            <span>720 g = 0,72</span>
            <input type="text" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white" data-correct-answer="kg" placeholder="...">
          </div>
          <div class="flex items-center gap-2 flex-wrap">
            <span>2 kg = 2 000</span>
            <input type="text" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white" data-correct-answer="g" placeholder="...">
          </div>
          <div class="flex items-center gap-2 flex-wrap">
            <span>5,33 g = 53,3</span>
            <input type="text" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white" data-correct-answer="dg" placeholder="...">
          </div>
        </div>
        <div class="space-y-3">
          <div class="flex items-center gap-2 flex-wrap">
            <span>6,60 hg = 660</span>
            <input type="text" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white" data-correct-answer="g" placeholder="...">
          </div>
          <div class="flex items-center gap-2 flex-wrap">
            <span>220 dag = 2,2</span>
            <input type="text" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white" data-correct-answer="kg" placeholder="...">
          </div>
          <div class="flex items-center gap-2 flex-wrap">
            <span>25 kg = 25 000</span>
            <input type="text" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white" data-correct-answer="g" placeholder="...">
          </div>
          <div class="flex items-center gap-2 flex-wrap">
            <span>3,60 hg = 36</span>
            <input type="text" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white" data-correct-answer="dag" placeholder="...">
          </div>
          <div class="flex items-center gap-2 flex-wrap">
            <span>7 000 kg = 7</span>
            <input type="text" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white" data-correct-answer="t" placeholder="...">
          </div>
        </div>
      </div>
    </div>

    <!-- Esercizio 2 -->
    <div class="space-y-4">
      <p class="font-bold text-gray-700 dark:text-gray-200">
        <%= numero_esercizio_badge(2) %>
        Completa le equivalenze.
      </p>

      <div class="space-y-3 text-gray-700 dark:text-gray-200">
        <div class="flex items-center gap-2 flex-wrap">
          <span>12 kg =</span>
          <input type="text" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white" data-correct-answer="120" placeholder="...">
          <span>hg =</span>
          <input type="text" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white" data-correct-answer="1200" placeholder="...">
          <span>dag =</span>
          <input type="text" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white" data-correct-answer="12000" placeholder="...">
          <span>dg =</span>
          <input type="text" class="w-24 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white" data-correct-answer="120000" placeholder="...">
          <span>g</span>
        </div>
        <div class="flex items-center gap-2 flex-wrap">
          <span>396 g =</span>
          <input type="text" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white" data-correct-answer="3960" placeholder="...">
          <span>hg =</span>
          <input type="text" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white" data-correct-answer="0,396" placeholder="...">
          <span>kg =</span>
          <input type="text" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white" data-correct-answer="39,6" placeholder="...">
          <span>dg =</span>
          <input type="text" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white" data-correct-answer="39,6" placeholder="...">
          <span>dag</span>
        </div>
        <div class="flex items-center gap-2 flex-wrap">
          <span>28 dag =</span>
          <input type="text" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white" data-correct-answer="0,28" placeholder="...">
          <span>kg =</span>
          <input type="text" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white" data-correct-answer="2,8" placeholder="...">
          <span>hg =</span>
          <input type="text" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white" data-correct-answer="280" placeholder="...">
          <span>g =</span>
          <input type="text" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white" data-correct-answer="2800" placeholder="...">
          <span>dg</span>
        </div>
      </div>
    </div>

    <!-- Esercizio 3 -->
    <div class="space-y-4">
      <p class="font-bold text-gray-700 dark:text-gray-200">
        <%= numero_esercizio_badge(3) %>
        Completa con le parole che mancano.
      </p>

      <div class="flex justify-center">
        <div class="relative text-gray-700 dark:text-gray-200">
          <!-- Diagramma peso lordo/netto/tara -->
          <div class="flex flex-col items-center gap-4">
            <div class="flex items-center gap-4">
              <input type="text" class="w-24 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white" data-correct-answer="tara" placeholder="...">
              <span class="text-cyan-500 font-bold">+</span>
              <span class="px-3 py-1 bg-cyan-100 dark:bg-cyan-800 rounded text-cyan-600 dark:text-cyan-300 font-bold">peso netto</span>
            </div>
            <div class="flex items-center gap-8">
              <span class="text-cyan-500">↓</span>
              <span class="text-cyan-500">↓</span>
            </div>
            <div class="flex items-center gap-4">
              <input type="text" class="w-24 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white" data-correct-answer="peso lordo" placeholder="...">
            </div>
            <div class="flex items-center gap-8">
              <span class="text-cyan-500">↓</span>
            </div>
            <div class="flex items-center gap-4">
              <span class="px-3 py-1 bg-cyan-100 dark:bg-cyan-800 rounded text-cyan-600 dark:text-cyan-300 font-bold">peso netto</span>
              <span class="text-cyan-500 font-bold">−</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Esercizio 4 -->
    <div class="space-y-4">
      <p class="font-bold text-gray-700 dark:text-gray-200">
        <%= numero_esercizio_badge(4) %>
        Completa la tabella.
      </p>

      <div class="overflow-x-auto">
        <table class="w-full border-collapse border border-cyan-400 dark:border-cyan-600">
          <thead>
            <tr>
              <th class="p-2 border border-cyan-400 dark:border-cyan-600 bg-cyan-100 dark:bg-cyan-800 text-gray-800 dark:text-gray-200 font-bold">Peso lordo</th>
              <th class="p-2 border border-cyan-400 dark:border-cyan-600 bg-cyan-100 dark:bg-cyan-800 text-gray-800 dark:text-gray-200 font-bold">Peso netto</th>
              <th class="p-2 border border-cyan-400 dark:border-cyan-600 bg-cyan-100 dark:bg-cyan-800 text-gray-800 dark:text-gray-200 font-bold">Tara</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="p-2 border border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center text-gray-700 dark:text-gray-200">1 050 g</td>
              <td class="p-2 border border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center text-gray-700 dark:text-gray-200">1 000 g</td>
              <td class="p-2 border border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700">
                <input type="text" class="w-full border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white" data-correct-answer="50 g" placeholder="...">
              </td>
            </tr>
            <tr>
              <td class="p-2 border border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center text-gray-700 dark:text-gray-200">3 hg</td>
              <td class="p-2 border border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700">
                <input type="text" class="w-full border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white" data-correct-answer="2,5 hg" placeholder="...">
              </td>
              <td class="p-2 border border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center text-gray-700 dark:text-gray-200">0,5 hg</td>
            </tr>
            <tr>
              <td class="p-2 border border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700">
                <input type="text" class="w-full border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white" data-correct-answer="13 kg" placeholder="...">
              </td>
              <td class="p-2 border border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center text-gray-700 dark:text-gray-200">12 kg</td>
              <td class="p-2 border border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center text-gray-700 dark:text-gray-200">1 kg</td>
            </tr>
            <tr>
              <td class="p-2 border border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center text-gray-700 dark:text-gray-200">150 g</td>
              <td class="p-2 border border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700">
                <input type="text" class="w-full border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white" data-correct-answer="130 g" placeholder="...">
              </td>
              <td class="p-2 border border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center text-gray-700 dark:text-gray-200">20 g</td>
            </tr>
            <tr>
              <td class="p-2 border border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700">
                <input type="text" class="w-full border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white" data-correct-answer="380 g" placeholder="...">
              </td>
              <td class="p-2 border border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center text-gray-700 dark:text-gray-200">350 g</td>
              <td class="p-2 border border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center text-gray-700 dark:text-gray-200">30 g</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
