<div class="max-w-6xl mx-auto p-3 md:p-8 bg-gradient-to-br from-cyan-50 via-white to-blue-50 rounded-3xl shadow-xl" data-controller="exercise-checker">

  <!-- Header -->
  <div class="mb-8">
    <div class="flex items-start sm:items-center justify-between gap-4 mb-4">
      <div class="flex flex-col-reverse sm:flex-row items-start sm:items-center gap-2 sm:gap-4">
        <div class="bg-cyan-500 text-white text-md sm:text-xl px-2 sm:px-4 py-1.5 sm:py-2 rounded-lg font-bold">
          MORFOLOGIA
        </div>
        <h1 class="text-2xl sm:text-3xl font-bold text-cyan-600">Gli aggettivi qualificativi</h1>
      </div>
      <div class="flex-shrink-0 bg-cyan-600 text-white rounded-full w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center font-bold text-lg sm:text-xl">
        155
      </div>
    </div>
  </div>

  <!-- Esercizio 4: Sottolinea superlativo relativo (rosso) e assoluto (blu) -->
  <div class="mb-6 bg-white rounded-2xl border-4 border-yellow-200 shadow-2xl p-4 md:p-6" data-controller="word-highlighter" data-word-highlighter-multi-color-value="true">
    <h2 class="text-lg md:text-xl font-bold text-yellow-700 mb-3">
      <div class="flex items-center gap-2 flex-wrap">
        <span class="bg-yellow-600 text-white rounded-full w-8 h-8 md:w-10 md:h-10 inline-flex items-center justify-center flex-shrink-0">4</span>
        <span>Sottolinea in <span class="text-red-600 font-bold">rosso<span class="inline-block w-6 h-6 bg-red-300 rounded ml-1 align-middle cursor-pointer transition transform hover:scale-110" data-word-highlighter-target="colorBox" data-color="red" data-action="click->word-highlighter#selectColor"></span></span> gli aggettivi di grado <span class="underline">superlativo relativo</span>, in <span class="text-blue-600 font-bold">blu<span class="inline-block w-6 h-6 bg-blue-300 rounded ml-1 align-middle cursor-pointer transition transform hover:scale-110" data-word-highlighter-target="colorBox" data-color="blue" data-action="click->word-highlighter#selectColor"></span></span> quelli al <span class="underline">superlativo assoluto</span>.</span>
      </div>
    </h2>

    <div class="space-y-3 text-base md:text-lg cursor-pointer">
      <div class="bg-yellow-50 border-2 border-yellow-200 rounded-xl px-3 py-3">
        <span class="text-gray-700">• <span data-word-highlighter-target="word" data-correct="false" data-action="click->word-highlighter#toggleHighlight" class="rounded">Lia</span> <span data-word-highlighter-target="word" data-correct="false" data-action="click->word-highlighter#toggleHighlight" class="rounded">è</span> <span data-word-highlighter-target="word" data-correct="false" data-action="click->word-highlighter#toggleHighlight" class="rounded">la</span> <span data-word-highlighter-target="word" data-correct="false" data-action="click->word-highlighter#toggleHighlight" class="rounded">ragazza</span> <span data-word-highlighter-target="word" data-correct="red" data-action="click->word-highlighter#toggleHighlight" class="rounded">più</span> <span data-word-highlighter-target="word" data-correct="red" data-action="click->word-highlighter#toggleHighlight" class="rounded">alta</span> <span data-word-highlighter-target="word" data-correct="false" data-action="click->word-highlighter#toggleHighlight" class="rounded">della</span> <span data-word-highlighter-target="word" data-correct="false" data-action="click->word-highlighter#toggleHighlight" class="rounded">classe</span>.</span>
      </div>

      <div class="bg-yellow-50 border-2 border-yellow-200 rounded-xl px-3 py-3">
        <span class="text-gray-700">• <span data-word-highlighter-target="word" data-correct="false" data-action="click->word-highlighter#toggleHighlight" class="rounded">Lia</span> <span data-word-highlighter-target="word" data-correct="false" data-action="click->word-highlighter#toggleHighlight" class="rounded">è</span> <span data-word-highlighter-target="word" data-correct="false" data-action="click->word-highlighter#toggleHighlight" class="rounded">una</span> <span data-word-highlighter-target="word" data-correct="false" data-action="click->word-highlighter#toggleHighlight" class="rounded">ragazza</span> <span data-word-highlighter-target="word" data-correct="blue" data-action="click->word-highlighter#toggleHighlight" class="rounded">molto</span> <span data-word-highlighter-target="word" data-correct="blue" data-action="click->word-highlighter#toggleHighlight" class="rounded">alta</span>.</span>
      </div>

      <div class="bg-yellow-50 border-2 border-yellow-200 rounded-xl px-3 py-3">
        <span class="text-gray-700">• <span data-word-highlighter-target="word" data-correct="false" data-action="click->word-highlighter#toggleHighlight" class="rounded">Quello</span> <span data-word-highlighter-target="word" data-correct="false" data-action="click->word-highlighter#toggleHighlight" class="rounded">di</span> <span data-word-highlighter-target="word" data-correct="false" data-action="click->word-highlighter#toggleHighlight" class="rounded">Liam</span> <span data-word-highlighter-target="word" data-correct="false" data-action="click->word-highlighter#toggleHighlight" class="rounded">è</span> <span data-word-highlighter-target="word" data-correct="false" data-action="click->word-highlighter#toggleHighlight" class="rounded">il</span> <span data-word-highlighter-target="word" data-correct="false" data-action="click->word-highlighter#toggleHighlight" class="rounded">vestito</span> <span data-word-highlighter-target="word" data-correct="red" data-action="click->word-highlighter#toggleHighlight" class="rounded">meno</span> <span data-word-highlighter-target="word" data-correct="red" data-action="click->word-highlighter#toggleHighlight" class="rounded">semplice</span>.</span>
      </div>

      <div class="bg-yellow-50 border-2 border-yellow-200 rounded-xl px-3 py-3">
        <span class="text-gray-700">• <span data-word-highlighter-target="word" data-correct="false" data-action="click->word-highlighter#toggleHighlight" class="rounded">Liam</span> <span data-word-highlighter-target="word" data-correct="false" data-action="click->word-highlighter#toggleHighlight" class="rounded">indossa</span> <span data-word-highlighter-target="word" data-correct="false" data-action="click->word-highlighter#toggleHighlight" class="rounded">un</span> <span data-word-highlighter-target="word" data-correct="false" data-action="click->word-highlighter#toggleHighlight" class="rounded">vestito</span> <span data-word-highlighter-target="word" data-correct="blue" data-action="click->word-highlighter#toggleHighlight" class="rounded">semplicissimo</span>.</span>
      </div>
    </div>
  </div>

  <!-- Esercizio 5: Scrivi superlativo relativo e assoluto -->
  <div class="mb-6 bg-white rounded-2xl border-4 border-blue-200 shadow-2xl p-4 md:p-6" data-controller="fill-blanks">
    <h2 class="text-lg md:text-xl font-bold text-blue-700 mb-3">
      <div class="flex items-center gap-2 flex-wrap">
        <span class="bg-blue-600 text-white rounded-full w-8 h-8 md:w-10 md:h-10 inline-flex items-center justify-center flex-shrink-0">5</span>
        <span>Per ogni aggettivo scrivi il <span class="text-blue-600 font-bold underline">superlativo relativo</span> e il <span class="underline">superlativo assoluto</span>, come nell'esempio.</span>
      </div>
    </h2>

    <div class="bg-yellow-100 rounded-lg p-3 mb-4 text-sm md:text-base">
      <p>Gli aggettivi <strong>buono</strong>, <strong>cattivo</strong>, <strong>grande</strong> e <strong>piccolo</strong> hanno anche dei superlativi particolari. Li ricordi? Nell'esercizio prova a scrivere la forma normale e quella particolare.</p>
    </div>

    <div class="overflow-x-auto">
      <table class="w-full text-base md:text-lg">
        <thead>
          <tr>
            <th class="text-left pb-2"></th>
            <th class="text-center pb-2 px-2"><span class="underline font-bold">superlativo relativo</span></th>
            <th class="text-center pb-2 px-2"><span class="underline font-bold">superlativo assoluto</span></th>
          </tr>
        </thead>
        <tbody class="space-y-2">
          <tr class="bg-blue-50 border-2 border-blue-200">
            <td class="py-2 px-3">• utile</td>
            <td class="py-2 px-3 text-center"><strong>il più / il meno utile</strong></td>
            <td class="py-2 px-3 text-center"><strong>utilissimo / molto utile</strong></td>
          </tr>
          <tr class="bg-blue-50 border-2 border-blue-200">
            <td class="py-2 px-3">• bianco</td>
            <td class="py-2 px-3"><input type="text" class="w-full border-b-2 border-blue-500 bg-transparent px-2 py-1 focus:outline-none focus:border-blue-700" data-fill-blanks-target="input" data-correct-answer="il più bianco|il meno bianco|il più/il meno bianco" placeholder=""></td>
            <td class="py-2 px-3"><input type="text" class="w-full border-b-2 border-blue-500 bg-transparent px-2 py-1 focus:outline-none focus:border-blue-700" data-fill-blanks-target="input" data-correct-answer="bianchissimo|molto bianco" placeholder=""></td>
          </tr>
          <tr class="bg-blue-50 border-2 border-blue-200">
            <td class="py-2 px-3">• lungo</td>
            <td class="py-2 px-3"><input type="text" class="w-full border-b-2 border-blue-500 bg-transparent px-2 py-1 focus:outline-none focus:border-blue-700" data-fill-blanks-target="input" data-correct-answer="il più lungo|il meno lungo|il più/il meno lungo" placeholder=""></td>
            <td class="py-2 px-3"><input type="text" class="w-full border-b-2 border-blue-500 bg-transparent px-2 py-1 focus:outline-none focus:border-blue-700" data-fill-blanks-target="input" data-correct-answer="lunghissimo|molto lungo" placeholder=""></td>
          </tr>
          <tr class="bg-blue-50 border-2 border-blue-200">
            <td class="py-2 px-3">• buono</td>
            <td class="py-2 px-3"><input type="text" class="w-full border-b-2 border-blue-500 bg-transparent px-2 py-1 focus:outline-none focus:border-blue-700" data-fill-blanks-target="input" data-correct-answer="il più buono|il migliore|il meno buono|il peggiore" placeholder=""></td>
            <td class="py-2 px-3"><input type="text" class="w-full border-b-2 border-blue-500 bg-transparent px-2 py-1 focus:outline-none focus:border-blue-700" data-fill-blanks-target="input" data-correct-answer="buonissimo|ottimo|molto buono" placeholder=""></td>
          </tr>
          <tr class="bg-blue-50 border-2 border-blue-200">
            <td class="py-2 px-3"></td>
            <td class="py-2 px-3"><input type="text" class="w-full border-b-2 border-blue-500 bg-transparent px-2 py-1 focus:outline-none focus:border-blue-700" data-fill-blanks-target="input" data-correct-answer="il minore|il maggiore" placeholder=""></td>
            <td class="py-2 px-3"><input type="text" class="w-full border-b-2 border-blue-500 bg-transparent px-2 py-1 focus:outline-none focus:border-blue-700" data-fill-blanks-target="input" data-correct-answer="massimo|minimo" placeholder=""></td>
          </tr>
          <tr class="bg-blue-50 border-2 border-blue-200">
            <td class="py-2 px-3">• cattivo</td>
            <td class="py-2 px-3"><input type="text" class="w-full border-b-2 border-blue-500 bg-transparent px-2 py-1 focus:outline-none focus:border-blue-700" data-fill-blanks-target="input" data-correct-answer="il più cattivo|il peggiore|il meno cattivo" placeholder=""></td>
            <td class="py-2 px-3"><input type="text" class="w-full border-b-2 border-blue-500 bg-transparent px-2 py-1 focus:outline-none focus:border-blue-700" data-fill-blanks-target="input" data-correct-answer="cattivissimo|pessimo|molto cattivo" placeholder=""></td>
          </tr>
          <tr class="bg-blue-50 border-2 border-blue-200">
            <td class="py-2 px-3"></td>
            <td class="py-2 px-3"><input type="text" class="w-full border-b-2 border-blue-500 bg-transparent px-2 py-1 focus:outline-none focus:border-blue-700" data-fill-blanks-target="input" data-correct-answer="il minore|il maggiore" placeholder=""></td>
            <td class="py-2 px-3"><input type="text" class="w-full border-b-2 border-blue-500 bg-transparent px-2 py-1 focus:outline-none focus:border-blue-700" data-fill-blanks-target="input" data-correct-answer="massimo|minimo" placeholder=""></td>
          </tr>
          <tr class="bg-blue-50 border-2 border-blue-200">
            <td class="py-2 px-3">• grande</td>
            <td class="py-2 px-3"><input type="text" class="w-full border-b-2 border-blue-500 bg-transparent px-2 py-1 focus:outline-none focus:border-blue-700" data-fill-blanks-target="input" data-correct-answer="il più grande|il maggiore|il meno grande" placeholder=""></td>
            <td class="py-2 px-3"><input type="text" class="w-full border-b-2 border-blue-500 bg-transparent px-2 py-1 focus:outline-none focus:border-blue-700" data-fill-blanks-target="input" data-correct-answer="grandissimo|massimo|molto grande" placeholder=""></td>
          </tr>
          <tr class="bg-blue-50 border-2 border-blue-200">
            <td class="py-2 px-3"></td>
            <td class="py-2 px-3"><input type="text" class="w-full border-b-2 border-blue-500 bg-transparent px-2 py-1 focus:outline-none focus:border-blue-700" data-fill-blanks-target="input" data-correct-answer="il minore|il maggiore" placeholder=""></td>
            <td class="py-2 px-3"><input type="text" class="w-full border-b-2 border-blue-500 bg-transparent px-2 py-1 focus:outline-none focus:border-blue-700" data-fill-blanks-target="input" data-correct-answer="massimo|minimo" placeholder=""></td>
          </tr>
          <tr class="bg-blue-50 border-2 border-blue-200">
            <td class="py-2 px-3">• piccolo</td>
            <td class="py-2 px-3"><input type="text" class="w-full border-b-2 border-blue-500 bg-transparent px-2 py-1 focus:outline-none focus:border-blue-700" data-fill-blanks-target="input" data-correct-answer="il più piccolo|il minore|il meno piccolo" placeholder=""></td>
            <td class="py-2 px-3"><input type="text" class="w-full border-b-2 border-blue-500 bg-transparent px-2 py-1 focus:outline-none focus:border-blue-700" data-fill-blanks-target="input" data-correct-answer="piccolissimo|minimo|molto piccolo" placeholder=""></td>
          </tr>
          <tr class="bg-blue-50 border-2 border-blue-200">
            <td class="py-2 px-3"></td>
            <td class="py-2 px-3"><input type="text" class="w-full border-b-2 border-blue-500 bg-transparent px-2 py-1 focus:outline-none focus:border-blue-700" data-fill-blanks-target="input" data-correct-answer="il minore|il maggiore" placeholder=""></td>
            <td class="py-2 px-3"><input type="text" class="w-full border-b-2 border-blue-500 bg-transparent px-2 py-1 focus:outline-none focus:border-blue-700" data-fill-blanks-target="input" data-correct-answer="massimo|minimo" placeholder=""></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Esercizio 6: Completa con superlativo -->
  <div class="mb-6 bg-white rounded-2xl border-4 border-green-200 shadow-2xl p-4 md:p-6" data-controller="fill-blanks">
    <h2 class="text-lg md:text-xl font-bold text-green-700 mb-3">
      <div class="flex items-center gap-2 flex-wrap">
        <span class="bg-green-600 text-white rounded-full w-8 h-8 md:w-10 md:h-10 inline-flex items-center justify-center flex-shrink-0">6</span>
        <span>Completa con l'aggettivo qualificativo al grado <span class="text-green-600 font-bold underline">superlativo relativo</span> o <span class="underline">superlativo assoluto</span>.</span>
      </div>
    </h2>

    <div class="space-y-3 text-base md:text-lg">
      <div class="bg-green-50 border-2 border-green-200 rounded-xl px-3 py-3">
        <div class="flex flex-wrap items-center gap-2">
          <span class="text-gray-700">• Alla guida una distrazione può essere (<strong>pericolosa</strong>)</span>
          <input type="text" class="border-b-2 border-green-500 bg-transparent px-2 py-1 focus:outline-none focus:border-green-700 flex-1 min-w-[150px]" data-fill-blanks-target="input" data-correct-answer="pericolosissima|molto pericolosa" placeholder="">
          <span class="text-gray-700">.</span>
        </div>
      </div>

      <div class="bg-green-50 border-2 border-green-200 rounded-xl px-3 py-3">
        <div class="flex flex-wrap items-center gap-2">
          <span class="text-gray-700">• L'elefante è (<strong>grande</strong>)</span>
          <input type="text" class="border-b-2 border-green-500 bg-transparent px-2 py-1 focus:outline-none focus:border-green-700 flex-1 min-w-[150px]" data-fill-blanks-target="input" data-correct-answer="il più grande|il maggiore" placeholder="">
          <span class="text-gray-700">dei mammiferi.</span>
        </div>
      </div>

      <div class="bg-green-50 border-2 border-green-200 rounded-xl px-3 py-3">
        <div class="flex flex-wrap items-center gap-2">
          <span class="text-gray-700">• Il ferro è (<strong>utile</strong>)</span>
          <input type="text" class="border-b-2 border-green-500 bg-transparent px-2 py-1 focus:outline-none focus:border-green-700 flex-1 min-w-[150px]" data-fill-blanks-target="input" data-correct-answer="utilissimo|molto utile" placeholder="">
          <span class="text-gray-700">nell'edilizia e nell'industria meccanica.</span>
        </div>
      </div>

      <div class="bg-green-50 border-2 border-green-200 rounded-xl px-3 py-3">
        <div class="flex flex-wrap items-center gap-2">
          <span class="text-gray-700">• Stefano è molto lento, è (<strong>veloce</strong>)</span>
          <input type="text" class="border-b-2 border-green-500 bg-transparent px-2 py-1 focus:outline-none focus:border-green-700 flex-1 min-w-[150px]" data-fill-blanks-target="input" data-correct-answer="il meno veloce|il più lento" placeholder="">
          <span class="text-gray-700">della classe quarta.</span>
        </div>
      </div>

      <div class="bg-green-50 border-2 border-green-200 rounded-xl px-3 py-3">
        <div class="flex flex-wrap items-center gap-2">
          <span class="text-gray-700">• L'oro è (<strong>prezioso</strong>)</span>
          <input type="text" class="border-b-2 border-green-500 bg-transparent px-2 py-1 focus:outline-none focus:border-green-700 flex-1 min-w-[150px]" data-fill-blanks-target="input" data-correct-answer="il più prezioso|preziosissimo" placeholder="">
          <span class="text-gray-700">dei metalli.</span>
        </div>
      </div>

      <div class="bg-green-50 border-2 border-green-200 rounded-xl px-3 py-3">
        <div class="flex flex-wrap items-center gap-2">
          <span class="text-gray-700">• Questo film è (<strong>lungo</strong>)</span>
          <input type="text" class="border-b-2 border-green-500 bg-transparent px-2 py-1 focus:outline-none focus:border-green-700 flex-1 min-w-[150px]" data-fill-blanks-target="input" data-correct-answer="lunghissimo|molto lungo" placeholder="">
          <span class="text-gray-700">: dura più di tre ore.</span>
        </div>
      </div>

      <div class="bg-green-50 border-2 border-green-200 rounded-xl px-3 py-3">
        <div class="flex flex-wrap items-center gap-2">
          <span class="text-gray-700">• Le ciliegie di quell'albero sono (<strong>mature</strong>)</span>
          <input type="text" class="border-b-2 border-green-500 bg-transparent px-2 py-1 focus:outline-none focus:border-green-700 flex-1 min-w-[150px]" data-fill-blanks-target="input" data-correct-answer="le più mature|maturissime" placeholder="">
          <span class="text-gray-700">del frutteto.</span>
        </div>
      </div>
    </div>
  </div>

  <div class="text-right text-sm text-gray-500 mb-6">
    Grammatica pp. 52-53
  </div>

  <!-- Exercise Controls -->
  <div class="mt-6">
    <%= render 'shared/exercise_controls', color: 'cyan', current_page: 'nvl5_gram_p155' %>
  </div>
</div>
