<div class="max-w-6xl mx-auto bg-white p-3 md:p-6"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">
    <!-- Sezione ESERCIZI -->
    <div class="p-4 md:p-6 bg-orange-100 rounded-lg">
      <!-- Esercizio 1 - IMPARARE TUTTI -->
      <div class="p-4 bg-white rounded-2xl -mx-4 md:-mx-6 -mt-4 md:-mt-6 mb-6 border-3 border-blue-500">
        <p class="font-bold text-gray-700 mb-4">
          <%= imparare_tutti_badge(1) %>
          Calcola il perimetro di questi poligoni.
        </p>
        <div class="grid grid-cols-2 md:grid-cols-5 gap-4">
          <div class="text-center">
            <%= image_tag "nvi5_mat/p111/p111_01.jpg", class: "mx-auto mb-2 max-w-full", alt: "Parallelogramma" %>
            <div class="text-gray-700">
              P = <input type="text" data-correct-answer="14,2" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> m
            </div>
          </div>
          <div class="text-center">
            <%= image_tag "nvi5_mat/p111/p111_02.jpg", class: "mx-auto mb-2 max-w-full", alt: "Pentagono" %>
            <div class="text-gray-700">
              P = <input type="text" data-correct-answer="32" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> m
            </div>
          </div>
          <div class="text-center">
            <%= image_tag "nvi5_mat/p111/p111_03.jpg", class: "mx-auto mb-2 max-w-full", alt: "Triangolo equilatero" %>
            <div class="text-gray-700">
              P = <input type="text" data-correct-answer="7,5" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> m
            </div>
          </div>
          <div class="text-center">
            <%= image_tag "nvi5_mat/p111/p111_04.jpg", class: "mx-auto mb-2 max-w-full", alt: "Pentagono irregolare" %>
            <div class="text-gray-700">
              P = <input type="text" data-correct-answer="27,2" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> m
            </div>
          </div>
          <div class="text-center">
            <%= image_tag "nvi5_mat/p111/p111_05.jpg", class: "mx-auto mb-2 max-w-full", alt: "Esagono" %>
            <div class="text-gray-700">
              P = <input type="text" data-correct-answer="22,4" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> m
            </div>
          </div>
        </div>
      </div>

      <!-- Esercizi 2 e 3 affiancati -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
        <div>
          <p class="text-gray-700 mb-4">
            <%= numero_esercizio_badge(2) %>
            Disegna sul quaderno un rettangolo con i lati di 9,5 cm e 15,7 cm e calcola il suo perimetro.
          </p>
        </div>
        <div>
          <p class="text-gray-700 mb-4">
            <%= numero_esercizio_badge(3) %>
            Disegna sul quaderno un triangolo isoscele con un lato di 8 cm e due lati obliqui di 12 cm ciascuno. Poi calcola il suo perimetro.
          </p>
        </div>
      </div>

      <!-- Esercizi 4, 5 e 6 -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
        <!-- Colonna sinistra: esercizi 4 e 5 -->
        <div class="space-y-6">
          <div>
            <p class="text-gray-700 mb-4">
              <%= numero_esercizio_badge(4) %>
              Misura con una riga i lati del poligono raffigurato e poi calcola il suo perimetro.
            </p>
            <div class="flex items-start gap-4">
              <%= image_tag "nvi5_mat/p111/p111_06.jpg", class: "max-w-24", alt: "Poligono da misurare" %>
              <div class="text-gray-700">
                P = <input type="text" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> mm
              </div>
            </div>
          </div>

          <div>
            <p class="text-gray-700 mb-4">
              <%= numero_esercizio_badge(5) %>
              Misura con una riga i lati del poligono raffigurato e calcola il suo perimetro. Poi trova la misura del lato di un triangolo equilatero con lo stesso perimetro. Lavora sul quaderno.
            </p>
            <%= image_tag "nvi5_mat/p111/p111_07.jpg", class: "max-w-32", alt: "Poligono da misurare" %>
          </div>
        </div>

        <!-- Colonna destra: esercizio 6 tabella -->
        <div>
          <p class="text-gray-700 mb-4">
            <%= numero_esercizio_badge(6) %>
            Completa la tabella.
          </p>
          <div class="overflow-x-auto">
            <table class="w-full border-collapse border border-gray-300">
              <thead>
                <tr>
                  <th class="border border-gray-300 p-2 bg-gray-100 font-bold">poligono regolare</th>
                  <th class="border border-gray-300 p-2 bg-gray-100 font-bold">misura del lato</th>
                  <th class="border border-gray-300 p-2 bg-gray-100 font-bold">perimetro</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="border border-gray-300 p-2 text-center bg-white">
                    <%= image_tag "nvi5_mat/p111/output-1715938802111_555_566_77_58.png", class: "mx-auto", alt: "Quadrato" %>
                  </td>
                  <td class="border border-gray-300 p-2 text-center bg-white">4,5 m</td>
                  <td class="border border-gray-300 p-2 text-center bg-white">
                    <input type="text" data-correct-answer="18" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> m
                  </td>
                </tr>
                <tr>
                  <td class="border border-gray-300 p-2 text-center bg-white">
                    <%= image_tag "nvi5_mat/p111/output-1715938802111_561_628_64_61.png", class: "mx-auto", alt: "Pentagono" %>
                  </td>
                  <td class="border border-gray-300 p-2 text-center bg-white">
                    <input type="text" data-correct-answer="25" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> dm
                  </td>
                  <td class="border border-gray-300 p-2 text-center bg-white">125 dm</td>
                </tr>
                <tr>
                  <td class="border border-gray-300 p-2 text-center bg-white">
                    <%= image_tag "nvi5_mat/p111/output-1715938802111_560_693_66_59.png", class: "mx-auto", alt: "Esagono" %>
                  </td>
                  <td class="border border-gray-300 p-2 text-center bg-white">8,7 cm</td>
                  <td class="border border-gray-300 p-2 text-center bg-white">
                    <input type="text" data-correct-answer="52,2" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> cm
                  </td>
                </tr>
                <tr>
                  <td class="border border-gray-300 p-2 text-center bg-white">
                    <%= image_tag "nvi5_mat/p111/output-1715938802111_559_757_68_58.png", class: "mx-auto", alt: "Ottagono" %>
                  </td>
                  <td class="border border-gray-300 p-2 text-center bg-white">
                    <input type="text" data-correct-answer="24,525" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> cm
                  </td>
                  <td class="border border-gray-300 p-2 text-center bg-white">196,2 cm</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- RISOLVI I PROBLEMI -->
      <div>
        <h2 class="font-bold italic text-<%= @pagina.base_color %>-600 mb-4">RISOLVI I PROBLEMI</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <!-- Colonna sinistra -->
          <div class="space-y-4">
            <div>
              <p class="text-gray-700 mb-2">
                <%= numero_esercizio_badge(7) %>
                Un prato a forma di trapezio isoscele ha la base maggiore lunga 38 m, la base minore lunga 27 m e il lato obliquo di 32 m. Quanto misura il perimetro del prato?
              </p>
              <div class="text-gray-700">
                <input type="text" data-correct-answer="129" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> m
              </div>
            </div>

            <div>
              <p class="text-gray-700 mb-2">
                <%= numero_esercizio_badge(8) %>
                Giacomo deve sistemare il battiscopa intorno a un pavimento di forma rettangolare con i lati lunghi rispettivamente 4,5 m e 5 m. Quanti metri di battiscopa gli occorrono? Se il battiscopa costa € 4,80 al metro, quanto spende Giacomo?
              </p>
              <div class="text-gray-700 space-y-1">
                <div>
                  <input type="text" data-correct-answer="19" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> m
                </div>
                <div>
                  € <input type="text" data-correct-answer="91,20" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                </div>
              </div>
            </div>
          </div>

          <!-- Colonna destra -->
          <div class="space-y-4">
            <div>
              <p class="text-gray-700 mb-2">
                <%= numero_esercizio_badge(9) %>
                Lungo il perimetro di una piazza quadrata con il lato di 30 m, si piantano degli alberi alla distanza di 5 m l'uno dall'altro. Quanti alberi si piantano?
              </p>
              <div class="text-gray-700">
                <input type="text" data-correct-answer="24" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> alberi
              </div>
            </div>

            <div>
              <p class="text-gray-700 mb-2">
                <%= numero_esercizio_badge(10) %>
                Un segnale stradale a forma di triangolo equilatero ha il perimetro di 180 cm. Quanto misura il lato?
              </p>
              <div class="text-gray-700">
                <input type="text" data-correct-answer="60" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> cm
              </div>
            </div>

            <div>
              <p class="text-gray-700 mb-2">
                <%= numero_esercizio_badge(11) %>
                Giorgia ha disegnato un trapezio isoscele con il perimetro di 11,3 cm. La base minore misura 2 cm e la base maggiore 4,3 cm. Quanto misura ogni lato obliquo?
              </p>
              <div class="text-gray-700">
                <input type="text" data-correct-answer="2,5" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> cm
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
