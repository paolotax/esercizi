<% content_for :titolo, "Le Frazioni - Pagina 74" %>

<div class="max-w-7xl mx-auto p-6 bg-gradient-to-b from-blue-50 to-white"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">
  <!-- Header -->
  <div class="mb-8">
    <div class="flex items-start sm:items-center justify-between gap-4 mb-4">
      <div class="flex flex-col-reverse sm:flex-row items-start sm:items-center gap-2 sm:gap-4">
        <div class="bg-blue-500 text-white text-md sm:text-xl px-2 sm:px-4 py-1.5 sm:py-2 rounded-lg font-bold">
          FRAZIONI
        </div>
        <h1 class="text-2xl sm:text-3xl font-bold text-blue-600">LE FRAZIONI</h1>
      </div>
      <div class="flex-shrink-0 bg-red-600 text-white rounded-full w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center font-bold text-lg sm:text-xl">
        74
      </div>
    </div>
  </div>

  <!-- Esercizio 1 - Leggi e rispondi -->
  <div class="bg-gradient-to-br from-cyan-50 to-blue-50 rounded-xl shadow-lg p-8 mb-8">
    <div class="flex items-start gap-3 mb-6">
      <div class="bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">
        1
      </div>
      <p class="text-lg text-gray-700">
        Leggi: fai attenzione alle parole in colore. Poi rispondi.
      </p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
      <!-- Scenario 1: Biscotto -->
      <div class="rounded-xl p-6 shadow-md" style="background-color: #D4F1F4;">
        <div class="mb-4">
          <p class="text-gray-700 leading-relaxed mb-2" data-text-toggle-target="content">
            Un <span class="text-cyan-600 font-bold">terzo</span> del biscotto √® <span class="text-cyan-600 font-bold">alla fragola</span>.
          </p>
        </div>

        <div class="flex justify-center mb-4">
          <%= image_tag "p074_01.png",
              alt: "Biscotto alla fragola",
              class: "w-32 h-auto" %>
        </div>

        <div class="mb-4">
          <p class="font-semibold text-gray-800 mb-3" data-text-toggle-target="content">Il biscotto √® tutto alla fragola?</p>
          <div class="flex gap-3 justify-center">
            <button type="button"
                    data-question="domanda1"
                    data-answer="si"
                    data-correct-answer="false"
                    data-action="click->exercise-checker#selectAnswer"
                    class="px-6 py-2 rounded-lg font-bold border-2 transition hover:scale-105 bg-transparent border-gray-300">
              <span data-text-toggle-target="content">S√¨</span>
            </button>
            <button type="button"
                    data-question="domanda1"
                    data-answer="no"
                    data-correct-answer="true"
                    data-action="click->exercise-checker#selectAnswer"
                    class="px-6 py-2 rounded-lg font-bold border-2 transition hover:scale-105 bg-transparent border-gray-300">
              <span data-text-toggle-target="content">No</span>
            </button>
          </div>
        </div>

        <div class="bg-cyan-50 rounded-lg p-3 border-l-4 border-cyan-400">
          <p class="text-sm text-gray-700" data-text-toggle-target="content">
            <span class="text-cyan-600 font-bold">Un terzo</span> √® una parte del biscotto.
          </p>
        </div>
      </div>

      <!-- Scenario 2: Chitarra -->
      <div class="rounded-xl p-6 shadow-md" style="background-color: #D4F1F4;">
        <div class="mb-4">
          <p class="text-gray-700 leading-relaxed mb-2" data-text-toggle-target="content">
            La lezione di chitarra dura <span class="text-cyan-600 font-bold">tre quarti</span> d'ora.
          </p>
        </div>

        <div class="flex justify-center mb-4">
          <%= image_tag "p074_02.png",
              alt: "Lezione di chitarra",
              class: "w-32 h-auto" %>
        </div>

        <div class="mb-4">
          <p class="font-semibold text-gray-800 mb-3" data-text-toggle-target="content">La lezione dura pi√π di un'ora?</p>
          <div class="flex gap-3 justify-center">
            <button type="button"
                    data-question="domanda2"
                    data-answer="si"
                    data-correct-answer="false"
                    data-action="click->exercise-checker#selectAnswer"
                    class="px-6 py-2 rounded-lg font-bold border-2 transition hover:scale-105 bg-transparent border-gray-300">
              <span data-text-toggle-target="content">S√¨</span>
            </button>
            <button type="button"
                    data-question="domanda2"
                    data-answer="no"
                    data-correct-answer="true"
                    data-action="click->exercise-checker#selectAnswer"
                    class="px-6 py-2 rounded-lg font-bold border-2 transition hover:scale-105 bg-transparent border-gray-300">
              <span data-text-toggle-target="content">No</span>
            </button>
          </div>
        </div>

        <div class="bg-cyan-50 rounded-lg p-3 border-l-4 border-cyan-400">
          <p class="text-sm text-gray-700" data-text-toggle-target="content">
            <span class="text-cyan-600 font-bold">Tre quarti</span> d'ora sono meno di un'ora, sono una parte.
          </p>
        </div>
      </div>

      <!-- Scenario 3: Biglietto -->
      <div class="rounded-xl p-6 shadow-md" style="background-color: #D4F1F4;">
        <div class="mb-4">
          <p class="text-gray-700 leading-relaxed mb-2" data-text-toggle-target="content">
            Il biglietto dell'autobus costa <span class="text-cyan-600 font-bold">1 euro</span> e <span class="text-cyan-600 font-bold">venti centesimi</span>.
          </p>
        </div>

        <div class="flex justify-center mb-4">
          <%= image_tag "p074_03.png",
              alt: "Biglietto autobus",
              class: "w-32 h-auto" %>
        </div>

        <div class="mb-4">
          <p class="font-semibold text-gray-800 mb-3" data-text-toggle-target="content">Il biglietto costa meno di 2 euro?</p>
          <div class="flex gap-3 justify-center">
            <button type="button"
                    data-question="domanda3"
                    data-answer="si"
                    data-correct-answer="true"
                    data-action="click->exercise-checker#selectAnswer"
                    class="px-6 py-2 rounded-lg font-bold border-2 transition hover:scale-105 bg-transparent border-gray-300">
              <span data-text-toggle-target="content">S√¨</span>
            </button>
            <button type="button"
                    data-question="domanda3"
                    data-answer="no"
                    data-correct-answer="false"
                    data-action="click->exercise-checker#selectAnswer"
                    class="px-6 py-2 rounded-lg font-bold border-2 transition hover:scale-105 bg-transparent border-gray-300">
              <span data-text-toggle-target="content">No</span>
            </button>
          </div>
        </div>

        <div class="bg-cyan-50 rounded-lg p-3 border-l-4 border-cyan-400">
          <p class="text-sm text-gray-700" data-text-toggle-target="content">
            <span class="text-cyan-600 font-bold">Venti centesimi</span> sono meno di 1 euro, sono una parte.
          </p>
        </div>
      </div>
    </div>

    <!-- Box informativo -->
    <div class="bg-gradient-to-r from-pink-100 to-pink-50 rounded-lg p-6 border-l-4 border-pink-500 flex items-start gap-4">
      <div class="hidden md:block flex-shrink-0 text-5xl">üîç</div>
      <p class="text-lg font-semibold text-gray-800" data-text-toggle-target="content">
        Un terzo, tre quarti, venti centesimi... indicano <span class="text-pink-600 font-bold text-xl">una parte</span> di qualcosa.
      </p>
    </div>
  </div>

  <!-- Esercizio 2 - Osserva i disegni e completa -->
  <div class="rounded-xl shadow-lg p-8 mb-8">
    <div class="flex items-start gap-3 mb-6">
      <div class="bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">
        2
      </div>
      <p class="text-lg text-gray-700" data-text-toggle-target="content">
        Osserva i disegni e completa.
      </p>
    </div>

    <div class="grid grid-cols-2 md:grid-cols-5 gap-6 mb-6">
      <!-- Pizza intera -->
      <div class="flex flex-col items-center gap-3">
        <%= image_tag "p074_04.png",
            alt: "Pizza intera",
            class: "w-32 h-32 object-contain" %>
        <div class="text-center">
          <p class="text-sm text-gray-700" data-text-toggle-target="content">una pizza intera</p>
          <p class="text-sm text-gray-600" data-text-toggle-target="content">(un <span class="text-cyan-600 font-bold">intero</span>)</p>
        </div>
      </div>

      <!-- Pizza divisa in 4 -->
      <div class="flex flex-col items-center gap-3">
        <%= image_tag "p074_06.png",
            alt: "Pizza divisa in 4",
            class: "w-32 h-32 object-contain" %>
        <div class="text-center">
          <p class="text-sm text-gray-700" data-text-toggle-target="content">una pizza divisa</p>
          <p class="text-sm text-gray-700" data-text-toggle-target="content">
            in
            <input type="text"
                   data-correct-answer="4"
                   class="w-12 px-2 py-1 border-2 border-cyan-300 rounded text-center font-bold mx-1"
                   placeholder="..." />
            <span class="text-cyan-600 font-bold">parti uguali</span>
          </p>
        </div>
      </div>

      <!-- Un quarto -->
      <div class="flex flex-col items-center gap-3">
        <%= image_tag "p074_05.png",
            alt: "Un quarto di pizza",
            class: "w-32 h-32 object-contain" %>
        <div class="text-center">
          <p class="text-sm text-cyan-600 font-bold" data-text-toggle-target="content">un quarto</p>
          <p class="text-sm text-gray-700" data-text-toggle-target="content">di pizza</p>
        </div>
      </div>

      <!-- Due quarti -->
      <div class="flex flex-col items-center gap-3">
        <%= image_tag "p074_07.png",
            alt: "Due quarti di pizza",
            class: "w-32 h-32 object-contain" %>
        <div class="text-center">
          <p class="text-sm text-cyan-600 font-bold" data-text-toggle-target="content">due quarti</p>
          <p class="text-sm text-gray-700" data-text-toggle-target="content">di pizza</p>
        </div>
      </div>

      <!-- Tre quarti -->
      <div class="flex flex-col items-center gap-3">
        <%= image_tag "p074_08.png",
            alt: "Tre quarti di pizza",
            class: "w-32 h-32 object-contain" %>
        <div class="text-center">
          <p class="text-sm text-gray-700" data-text-toggle-target="content">
            tre
            <input type="text"
                   data-correct-answer="quarti"
                   class="w-20 px-2 py-1 border-2 border-cyan-300 rounded text-center font-bold mx-1"
                   placeholder="..." />
          </p>
          <p class="text-sm text-gray-700" data-text-toggle-target="content">di pizza</p>
        </div>
      </div>
    </div>

    <!-- Box informativo -->
    <div class="bg-gradient-to-r from-pink-100 to-pink-50 rounded-lg p-6 border-l-4 border-pink-500 flex items-start gap-4">
      <div class="hidden md:block flex-shrink-0 text-5xl">üîç</div>
      <div class="flex-1">
        <p class="text-lg font-semibold text-gray-800 mb-2" data-text-toggle-target="content">
          Le frazioni (un quarto, due quarti...) sono le parti che si formano quando <span class="text-cyan-600 font-bold">dividi un intero</span> in <span class="text-cyan-600 font-bold">parti uguali</span>.
        </p>
        <p class="text-base text-gray-700" data-text-toggle-target="content">
          Un <span class="text-cyan-600 font-bold">intero</span> √® qualsiasi elemento a cui non manca nessuna parte.
        </p>
      </div>
    </div>
  </div>

  <!-- Footer con controlli -->
  <%= render 'shared/exercise_controls', color: 'blue', current_page: 'bus3_mat_p074' %>
</div>
