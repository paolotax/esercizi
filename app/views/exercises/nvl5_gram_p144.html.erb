<div class="max-w-6xl mx-auto p-3 md:p-8 bg-gradient-to-br from-red-50 via-white to-orange-50 rounded-3xl shadow-xl" data-controller="exercise-checker">

  <!-- Header -->
  <div class="mb-8">
    <div class="flex items-start sm:items-center justify-between gap-4 mb-4">
      <div class="flex flex-col-reverse sm:flex-row items-start sm:items-center gap-2 sm:gap-4">
        <div class="bg-red-500 text-white text-md sm:text-xl px-2 sm:px-4 py-1.5 sm:py-2 rounded-lg font-bold">
          VERSO LA PROVA INVALSI
        </div>
        <h1 class="text-2xl sm:text-3xl font-bold text-red-600">Lessico</h1>
      </div>
      <div class="flex-shrink-0 bg-red-600 text-white rounded-full w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center font-bold text-lg sm:text-xl">
        144
      </div>
    </div>
  </div>

  <!-- Esercizio 1: Sostituisci il verbo dire -->
  <div class="mb-6 bg-white rounded-2xl border-2 border-red-200 shadow-lg p-4 md:p-6" data-controller="fill-blanks">
    <h2 class="text-lg md:text-xl font-bold text-red-700 mb-4 flex items-center gap-2">
      <span class="bg-red-500 text-white rounded-full w-8 h-8 md:w-10 md:h-10 inline-flex items-center justify-center">1</span>
      <span>In ogni frase sostituisci il verbo <strong class="text-blue-600">dire</strong> con un verbo più preciso. Scegli fra:</span>
    </h2>

    <div class="mb-4 flex flex-wrap gap-2">
      <span class="px-4 py-2 bg-red-100 border-2 border-red-400 rounded-full text-red-800 font-bold">rivelare</span>
      <span class="px-4 py-2 bg-red-100 border-2 border-red-400 rounded-full text-red-800 font-bold">riportare</span>
      <span class="px-4 py-2 bg-red-100 border-2 border-red-400 rounded-full text-red-800 font-bold">recitare</span>
      <span class="px-4 py-2 bg-red-100 border-2 border-red-400 rounded-full text-red-800 font-bold">pronunciare</span>
    </div>

    <div class="space-y-3 text-base md:text-lg">
      <div class="flex items-start gap-2">
        <span class="text-red-600">•</span>
        <p>Mirella dice <input type="text" class="border-b-2 border-red-500 bg-transparent px-2 py-1 w-48 focus:outline-none" data-fill-blanks-target="input" data-answer="pronuncia" data-correct-answer="pronuncia"> le parole con un accento francese.</p>
      </div>

      <div class="flex items-start gap-2">
        <span class="text-red-600">•</span>
        <p>Durante l'intervallo la mia compagna di banco mi ha detto <input type="text" class="border-b-2 border-red-500 bg-transparent px-2 py-1 w-48 focus:outline-none" data-fill-blanks-target="input" data-answer="rivelato" data-correct-answer="rivelato"> un segreto.</p>
      </div>

      <div class="flex items-start gap-2">
        <span class="text-red-600">•</span>
        <p>L'articolo del giornale dice <input type="text" class="border-b-2 border-red-500 bg-transparent px-2 py-1 w-48 focus:outline-none" data-fill-blanks-target="input" data-answer="riporta" data-correct-answer="riporta"> con precisione come si sono svolti i fatti.</p>
      </div>

      <div class="flex items-start gap-2">
        <span class="text-red-600">•</span>
        <p>Liam è il più bravo nel dire <input type="text" class="border-b-2 border-red-500 bg-transparent px-2 py-1 w-48 focus:outline-none" data-fill-blanks-target="input" data-answer="recitare" data-correct-answer="recitare"> le poesie.</p>
      </div>
    </div>
  </div>

  <!-- Esercizio 2: Verbi con prefisso ri- -->
  <div class="mb-6 bg-white rounded-2xl border-2 border-red-200 shadow-lg p-4 md:p-6" data-controller="multiple-choice">
    <h2 class="text-lg md:text-xl font-bold text-red-700 mb-4 flex items-center gap-2">
      <span class="bg-red-500 text-white rounded-full w-8 h-8 md:w-10 md:h-10 inline-flex items-center justify-center">2</span>
      <span>In quali dei seguenti verbi <strong class="text-blue-600">ri-</strong> è un prefisso e ha il significato di "azione che si ripete"? Metti una X nella colonna giusta. Osserva l'esempio.</span>
    </h2>

    <div class="overflow-x-auto">
      <table class="w-full border-2 border-gray-300">
        <thead>
          <tr class="bg-blue-100">
            <th class="border border-gray-300 px-4 py-2"></th>
            <th class="border border-gray-300 px-4 py-2 text-blue-600">L'azione si ripete</th>
            <th class="border border-gray-300 px-4 py-2 text-blue-600">L'azione non si ripete</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="border border-gray-300 px-4 py-2 font-semibold">ritornare</td>
            <td class="border border-gray-300 px-4 py-2 text-center bg-green-50">X</td>
            <td class="border border-gray-300 px-4 py-2 text-center"></td>
          </tr>
          <tr>
            <td class="border border-gray-300 px-4 py-2 font-semibold">ricamare</td>
            <td class="border border-gray-300 px-4 py-2 text-center">
              <input type="radio" name="q2_ricamare" data-multiple-choice-target="answer" data-correct-answer="false" class="w-5 h-5 mx-auto">
            </td>
            <td class="border border-gray-300 px-4 py-2 text-center">
              <input type="radio" name="q2_ricamare" data-multiple-choice-target="answer" data-correct-answer="true" class="w-5 h-5 mx-auto">
            </td>
          </tr>
          <tr>
            <td class="border border-gray-300 px-4 py-2 font-semibold">ridire</td>
            <td class="border border-gray-300 px-4 py-2 text-center">
              <input type="radio" name="q2_ridire" data-multiple-choice-target="answer" data-correct-answer="true" class="w-5 h-5 mx-auto">
            </td>
            <td class="border border-gray-300 px-4 py-2 text-center">
              <input type="radio" name="q2_ridire" data-multiple-choice-target="answer" data-correct-answer="false" class="w-5 h-5 mx-auto">
            </td>
          </tr>
          <tr>
            <td class="border border-gray-300 px-4 py-2 font-semibold">ricavare</td>
            <td class="border border-gray-300 px-4 py-2 text-center">
              <input type="radio" name="q2_ricavare" data-multiple-choice-target="answer" data-correct-answer="false" class="w-5 h-5 mx-auto">
            </td>
            <td class="border border-gray-300 px-4 py-2 text-center">
              <input type="radio" name="q2_ricavare" data-multiple-choice-target="answer" data-correct-answer="true" class="w-5 h-5 mx-auto">
            </td>
          </tr>
          <tr>
            <td class="border border-gray-300 px-4 py-2 font-semibold">rimuovere</td>
            <td class="border border-gray-300 px-4 py-2 text-center">
              <input type="radio" name="q2_rimuovere" data-multiple-choice-target="answer" data-correct-answer="false" class="w-5 h-5 mx-auto">
            </td>
            <td class="border border-gray-300 px-4 py-2 text-center">
              <input type="radio" name="q2_rimuovere" data-multiple-choice-target="answer" data-correct-answer="true" class="w-5 h-5 mx-auto">
            </td>
          </tr>
          <tr>
            <td class="border border-gray-300 px-4 py-2 font-semibold">rifare</td>
            <td class="border border-gray-300 px-4 py-2 text-center">
              <input type="radio" name="q2_rifare" data-multiple-choice-target="answer" data-correct-answer="true" class="w-5 h-5 mx-auto">
            </td>
            <td class="border border-gray-300 px-4 py-2 text-center">
              <input type="radio" name="q2_rifare" data-multiple-choice-target="answer" data-correct-answer="false" class="w-5 h-5 mx-auto">
            </td>
          </tr>
          <tr>
            <td class="border border-gray-300 px-4 py-2 font-semibold">riscrivere</td>
            <td class="border border-gray-300 px-4 py-2 text-center">
              <input type="radio" name="q2_riscrivere" data-multiple-choice-target="answer" data-correct-answer="true" class="w-5 h-5 mx-auto">
            </td>
            <td class="border border-gray-300 px-4 py-2 text-center">
              <input type="radio" name="q2_riscrivere" data-multiple-choice-target="answer" data-correct-answer="false" class="w-5 h-5 mx-auto">
            </td>
          </tr>
          <tr>
            <td class="border border-gray-300 px-4 py-2 font-semibold">riflettere</td>
            <td class="border border-gray-300 px-4 py-2 text-center">
              <input type="radio" name="q2_riflettere" data-multiple-choice-target="answer" data-correct-answer="false" class="w-5 h-5 mx-auto">
            </td>
            <td class="border border-gray-300 px-4 py-2 text-center">
              <input type="radio" name="q2_riflettere" data-multiple-choice-target="answer" data-correct-answer="true" class="w-5 h-5 mx-auto">
            </td>
          </tr>
          <tr>
            <td class="border border-gray-300 px-4 py-2 font-semibold">rigirare</td>
            <td class="border border-gray-300 px-4 py-2 text-center">
              <input type="radio" name="q2_rigirare" data-multiple-choice-target="answer" data-correct-answer="true" class="w-5 h-5 mx-auto">
            </td>
            <td class="border border-gray-300 px-4 py-2 text-center">
              <input type="radio" name="q2_rigirare" data-multiple-choice-target="answer" data-correct-answer="false" class="w-5 h-5 mx-auto">
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Esercizio 3: Nome derivato da aggettivo -->
  <div class="mb-6 bg-white rounded-2xl border-2 border-red-200 shadow-lg p-4 md:p-6" data-controller="multiple-choice">
    <h2 class="text-lg md:text-xl font-bold text-red-700 mb-4 flex items-center gap-2">
      <span class="bg-red-500 text-white rounded-full w-8 h-8 md:w-10 md:h-10 inline-flex items-center justify-center">3</span>
      <span>I nomi seguenti sono tutti derivati. Quale nome deriva da un aggettivo?</span>
    </h2>

    <div class="grid grid-cols-2 gap-3">
      <label class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-blue-50">
        <input type="radio" name="q3" data-multiple-choice-target="answer" data-correct-answer="false" class="w-5 h-5">
        <span>A. collare</span>
      </label>

      <label class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-blue-50">
        <input type="radio" name="q3" data-multiple-choice-target="answer" data-correct-answer="false" class="w-5 h-5">
        <span>B. mareggiata</span>
      </label>

      <label class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-blue-50">
        <input type="radio" name="q3" data-multiple-choice-target="answer" data-correct-answer="false" class="w-5 h-5">
        <span>C. costo</span>
      </label>

      <label class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-blue-50">
        <input type="radio" name="q3" data-multiple-choice-target="answer" data-correct-answer="true" class="w-5 h-5">
        <span>D. umiltà</span>
      </label>
    </div>
  </div>

  <!-- Esercizio 4: Leggi definizione dal dizionario -->
  <div class="mb-6 bg-white rounded-2xl border-2 border-red-200 shadow-lg p-4 md:p-6" data-controller="multiple-choice">
    <h2 class="text-lg md:text-xl font-bold text-red-700 mb-4 flex items-center gap-2">
      <span class="bg-red-500 text-white rounded-full w-8 h-8 md:w-10 md:h-10 inline-flex items-center justify-center">4</span>
      <span>Leggi questa definizione dal dizionario.</span>
    </h2>

    <div class="bg-blue-50 border-2 border-blue-300 rounded-xl p-4 mb-4">
      <p class="text-base"><strong>gèo-</strong> [dal gr. γεω-, da γῆ «terra»]. – Primo elemento di parole composte della terminologia scientifica derivate dal greco o formate modernamente, in cui <em>geo-</em> significa «terra, globo terrestre, superficie terrestre» e simili.</p>
    </div>

    <p class="text-lg mb-3">• Quale delle seguenti parole è un nome composto con <strong class="text-blue-600">geo-</strong>?</p>

    <div class="grid grid-cols-2 gap-3">
      <label class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-blue-50">
        <input type="radio" name="q4" data-multiple-choice-target="answer" data-correct-answer="true" class="w-5 h-5">
        <span>A. geometria</span>
      </label>

      <label class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-blue-50">
        <input type="radio" name="q4" data-multiple-choice-target="answer" data-correct-answer="false" class="w-5 h-5">
        <span>B. territorio</span>
      </label>

      <label class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-blue-50">
        <input type="radio" name="q4" data-multiple-choice-target="answer" data-correct-answer="false" class="w-5 h-5">
        <span>C. superficialità</span>
      </label>

      <label class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-blue-50">
        <input type="radio" name="q4" data-multiple-choice-target="answer" data-correct-answer="false" class="w-5 h-5">
        <span>D. globalità</span>
      </label>
    </div>
  </div>

  <%= render 'shared/exercise_controls', color: 'red' %>

</div>
