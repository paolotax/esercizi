<div class="max-w-6xl mx-auto p-3 md:p-8 bg-gradient-to-br from-sky-50 via-white to-blue-50 rounded-3xl shadow-xl" data-controller="exercise-checker">

  <%= render 'shared/page_header', pagina: @pagina %>

  <!-- Exercise 5: Complete table of special forms -->
  <div class="mb-6 bg-white rounded-2xl border-4 border-blue-200 shadow-2xl p-4 md:p-6" data-controller="fill-blanks">
    <h2 class="text-lg md:text-xl font-bold text-blue-700 mb-3">
      <span class="font-bold">5</span> Completa la tabella delle forme speciali scrivendo la forma regolare accanto a comparativo/superlativi.
    </h2>

    <div class="overflow-x-auto">
      <table class="w-full border-collapse text-sm md:text-base">
        <thead>
          <tr class="bg-blue-100">
            <th class="border-2 border-blue-300 px-3 py-2 text-blue-700 font-bold">Positivo</th>
            <th class="border-2 border-blue-300 px-3 py-2 text-blue-700 font-bold">Comparativo</th>
            <th class="border-2 border-blue-300 px-3 py-2 text-blue-700 font-bold">Superlativo assoluto</th>
            <th class="border-2 border-blue-300 px-3 py-2 text-blue-700 font-bold">Superlativo relativo</th>
          </tr>
        </thead>
        <tbody>
          <!-- Row 1: grande (example) -->
          <tr class="bg-blue-50">
            <td class="border-2 border-blue-200 px-3 py-2 font-semibold text-center">grande</td>
            <td class="border-2 border-blue-200 px-3 py-2">
              <div class="text-center">maggiore <span class="text-gray-600">(più grande)</span></div>
            </td>
            <td class="border-2 border-blue-200 px-3 py-2">
              <div class="text-center">massimo <span class="text-gray-600">(grandissimo)</span></div>
            </td>
            <td class="border-2 border-blue-200 px-3 py-2">
              <div class="text-center">il maggiore <span class="text-gray-600">(il più grande)</span></div>
            </td>
          </tr>

          <!-- Row 2: piccolo -->
          <tr class="bg-white">
            <td class="border-2 border-blue-200 px-3 py-2 font-semibold text-center">piccolo</td>
            <td class="border-2 border-blue-200 px-3 py-2">
              <div class="flex items-center gap-1">
                <span>minore</span>
                <span class="text-gray-600">(</span>
                <input type="text" class="border-b border-blue-500 bg-transparent px-1 py-0.5 focus:outline-none focus:border-blue-700 w-24" data-fill-blanks-target="input" data-answer="più piccolo" data-correct-answer="più piccolo" maxlength="20">
                <span class="text-gray-600">)</span>
              </div>
            </td>
            <td class="border-2 border-blue-200 px-3 py-2">
              <div class="flex items-center gap-1">
                <span>minimo</span>
                <span class="text-gray-600">(</span>
                <input type="text" class="border-b border-blue-500 bg-transparent px-1 py-0.5 focus:outline-none focus:border-blue-700 w-24" data-fill-blanks-target="input" data-answer="piccolissimo" data-correct-answer="piccolissimo" maxlength="20">
                <span class="text-gray-600">)</span>
              </div>
            </td>
            <td class="border-2 border-blue-200 px-3 py-2">
              <div class="flex items-center gap-1">
                <span>il minore</span>
                <span class="text-gray-600">(</span>
                <input type="text" class="border-b border-blue-500 bg-transparent px-1 py-0.5 focus:outline-none focus:border-blue-700 w-32" data-fill-blanks-target="input" data-answer="il più piccolo" data-correct-answer="il più piccolo" maxlength="25">
                <span class="text-gray-600">)</span>
              </div>
            </td>
          </tr>

          <!-- Row 3: alto -->
          <tr class="bg-blue-50">
            <td class="border-2 border-blue-200 px-3 py-2 font-semibold text-center">alto</td>
            <td class="border-2 border-blue-200 px-3 py-2">
              <div class="flex items-center gap-1">
                <span>superiore</span>
                <span class="text-gray-600">(</span>
                <input type="text" class="border-b border-blue-500 bg-transparent px-1 py-0.5 focus:outline-none focus:border-blue-700 w-20" data-fill-blanks-target="input" data-answer="più alto" data-correct-answer="più alto" maxlength="20">
                <span class="text-gray-600">)</span>
              </div>
            </td>
            <td class="border-2 border-blue-200 px-3 py-2">
              <div class="flex items-center gap-1">
                <span>sommo</span>
                <span class="text-gray-600">(</span>
                <input type="text" class="border-b border-blue-500 bg-transparent px-1 py-0.5 focus:outline-none focus:border-blue-700 w-24" data-fill-blanks-target="input" data-answer="altissimo" data-correct-answer="altissimo" maxlength="20">
                <span class="text-gray-600">)</span>
              </div>
            </td>
            <td class="border-2 border-blue-200 px-3 py-2">
              <div class="flex items-center gap-1">
                <span>il superiore</span>
                <span class="text-gray-600">(</span>
                <input type="text" class="border-b border-blue-500 bg-transparent px-1 py-0.5 focus:outline-none focus:border-blue-700 w-28" data-fill-blanks-target="input" data-answer="il più alto" data-correct-answer="il più alto" maxlength="25">
                <span class="text-gray-600">)</span>
              </div>
            </td>
          </tr>

          <!-- Row 4: basso -->
          <tr class="bg-white">
            <td class="border-2 border-blue-200 px-3 py-2 font-semibold text-center">basso</td>
            <td class="border-2 border-blue-200 px-3 py-2">
              <div class="flex items-center gap-1">
                <span>inferiore</span>
                <span class="text-gray-600">(</span>
                <input type="text" class="border-b border-blue-500 bg-transparent px-1 py-0.5 focus:outline-none focus:border-blue-700 w-24" data-fill-blanks-target="input" data-answer="più basso" data-correct-answer="più basso" maxlength="20">
                <span class="text-gray-600">)</span>
              </div>
            </td>
            <td class="border-2 border-blue-200 px-3 py-2">
              <div class="flex items-center gap-1">
                <span>infimo</span>
                <span class="text-gray-600">(</span>
                <input type="text" class="border-b border-blue-500 bg-transparent px-1 py-0.5 focus:outline-none focus:border-blue-700 w-24" data-fill-blanks-target="input" data-answer="bassissimo" data-correct-answer="bassissimo" maxlength="20">
                <span class="text-gray-600">)</span>
              </div>
            </td>
            <td class="border-2 border-blue-200 px-3 py-2">
              <div class="flex items-center gap-1">
                <span>l'inferiore</span>
                <span class="text-gray-600">(</span>
                <input type="text" class="border-b border-blue-500 bg-transparent px-1 py-0.5 focus:outline-none focus:border-blue-700 w-28" data-fill-blanks-target="input" data-answer="il più basso" data-correct-answer="il più basso" maxlength="25">
                <span class="text-gray-600">)</span>
              </div>
            </td>
          </tr>

          <!-- Row 5: buono -->
          <tr class="bg-blue-50">
            <td class="border-2 border-blue-200 px-3 py-2 font-semibold text-center">buono</td>
            <td class="border-2 border-blue-200 px-3 py-2">
              <div class="flex items-center gap-1">
                <span>migliore</span>
                <span class="text-gray-600">(</span>
                <input type="text" class="border-b border-blue-500 bg-transparent px-1 py-0.5 focus:outline-none focus:border-blue-700 w-24" data-fill-blanks-target="input" data-answer="più buono" data-correct-answer="più buono" maxlength="20">
                <span class="text-gray-600">)</span>
              </div>
            </td>
            <td class="border-2 border-blue-200 px-3 py-2">
              <div class="flex items-center gap-1">
                <span>ottimo</span>
                <span class="text-gray-600">(</span>
                <input type="text" class="border-b border-blue-500 bg-transparent px-1 py-0.5 focus:outline-none focus:border-blue-700 w-24" data-fill-blanks-target="input" data-answer="buonissimo" data-correct-answer="buonissimo" maxlength="20">
                <span class="text-gray-600">)</span>
              </div>
            </td>
            <td class="border-2 border-blue-200 px-3 py-2">
              <div class="flex items-center gap-1">
                <span>il migliore</span>
                <span class="text-gray-600">(</span>
                <input type="text" class="border-b border-blue-500 bg-transparent px-1 py-0.5 focus:outline-none focus:border-blue-700 w-28" data-fill-blanks-target="input" data-answer="il più buono" data-correct-answer="il più buono" maxlength="25">
                <span class="text-gray-600">)</span>
              </div>
            </td>
          </tr>

          <!-- Row 6: cattivo -->
          <tr class="bg-white">
            <td class="border-2 border-blue-200 px-3 py-2 font-semibold text-center">cattivo</td>
            <td class="border-2 border-blue-200 px-3 py-2">
              <div class="flex items-center gap-1">
                <span>peggiore</span>
                <span class="text-gray-600">(</span>
                <input type="text" class="border-b border-blue-500 bg-transparent px-1 py-0.5 focus:outline-none focus:border-blue-700 w-24" data-fill-blanks-target="input" data-answer="più cattivo" data-correct-answer="più cattivo" maxlength="20">
                <span class="text-gray-600">)</span>
              </div>
            </td>
            <td class="border-2 border-blue-200 px-3 py-2">
              <div class="flex items-center gap-1">
                <span>pessimo</span>
                <span class="text-gray-600">(</span>
                <input type="text" class="border-b border-blue-500 bg-transparent px-1 py-0.5 focus:outline-none focus:border-blue-700 w-28" data-fill-blanks-target="input" data-answer="cattivissimo" data-correct-answer="cattivissimo" maxlength="20">
                <span class="text-gray-600">)</span>
              </div>
            </td>
            <td class="border-2 border-blue-200 px-3 py-2">
              <div class="flex items-center gap-1">
                <span>il peggiore</span>
                <span class="text-gray-600">(</span>
                <input type="text" class="border-b border-blue-500 bg-transparent px-1 py-0.5 focus:outline-none focus:border-blue-700 w-32" data-fill-blanks-target="input" data-answer="il più cattivo" data-correct-answer="il più cattivo" maxlength="25">
                <span class="text-gray-600">)</span>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Exercise 6: Replace with special forms -->
  <div class="mb-6 bg-white rounded-2xl border-4 border-green-200 shadow-2xl p-4 md:p-6" data-controller="fill-blanks">
    <h2 class="text-lg md:text-xl font-bold text-green-700 mb-3">
      <span class="font-bold">6</span> Sostituisci gli aggettivi evidenziati con le forme speciali adatte.
    </h2>

    <% special_forms = [
      { sentence: "Saltare l'allenamento è stata una", word: "cattivissima", answer: "pessima", continuation: "idea." },
      { sentence: "Marianna è la", word: "più grande", answer: "maggiore", continuation: "tra i suoi cugini." },
      { sentence: "Questa palestra è", word: "piccolissima", answer: "minima", continuation: "." },
      { sentence: "I cannoli ripieni che fa mio padre sono", word: "buonissimi", answer: "ottimi", continuation: "." }
    ] %>

    <div class="space-y-3 text-base md:text-lg">
      <% special_forms.each do |item| %>
        <div class="bg-green-50 border-2 border-green-200 rounded-xl px-3 py-3">
          <div class="flex flex-wrap items-center gap-2">
            <span class="text-gray-700">- <%= item[:sentence] %></span>
            <span class="font-semibold text-green-700 underline"><%= item[:word] %></span>
            <span class="text-gray-700"><%= item[:continuation] %></span>
          </div>
          <div class="flex items-center gap-2 mt-2">
            <span class="text-gray-600">→</span>
            <input type="text"
                   class="flex-1 border-b-2 border-green-500 bg-transparent px-2 py-1 focus:outline-none focus:border-green-700"
                   data-fill-blanks-target="input"
                   data-answer="<%= item[:answer] %>"
                   data-correct-answer="<%= item[:answer] %>"
                   maxlength="20">
          </div>
        </div>
      <% end %>
    </div>
  </div>

  <div class="text-right text-sm text-gray-500 mb-6">
    Esercizi pp. <%= link_to "154", pagina_path("nvl5_gram_p154"), class: "text-gray-600 hover:text-gray-800 underline" %>, <%= link_to "155", pagina_path("nvl5_gram_p155"), class: "text-gray-600 hover:text-gray-800 underline" %> e <%= link_to "163", pagina_path("nvl5_gram_p163"), class: "text-gray-600 hover:text-gray-800 underline" %>
  </div>

  <!-- Exercise Controls -->
  <div class="mt-6">
    <%= render 'shared/exercise_controls', color: 'sky', current_page: 'nvl5_gram_p053' %>
  </div>
</div>
