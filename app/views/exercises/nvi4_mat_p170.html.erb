<div class="max-w-6xl mx-auto bg-white dark:bg-gray-900 p-3 md:p-6 transition-colors duration-300"
     data-controller="text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">

    <!-- Badge IMPARARE TUTTI -->
    <div class="flex items-center gap-2 mb-4">
      <span class="bg-yellow-400 text-blue-700 font-bold px-3 py-1 rounded-full">IMPARARE TUTTI</span>
      <span class="text-gray-700 dark:text-gray-200 font-bold">Primo esercizio di ogni pagina</span>
    </div>

    <!-- Indice a 2 colonne -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-1">
      <!-- Colonna sinistra -->
      <div class="space-y-1">
        <%= link_to "nvi4_mat_p172", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="text-cyan-500">●</span>
            <span>Numeri fino alle migliaia e operazioni</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">172</span>
        <% end %>
        <%= link_to "nvi4_mat_p173", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="text-cyan-500">●</span>
            <span>I numeri grandi</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">173</span>
        <% end %>
        <%= link_to "nvi4_mat_p174", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="text-cyan-500">●</span>
            <span>Comporre e scomporre (1)</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">174</span>
        <% end %>
        <%= link_to "nvi4_mat_p175", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="text-cyan-500">●</span>
            <span>Comporre e scomporre (2)</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">175</span>
        <% end %>
        <%= link_to "nvi4_mat_p176", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="text-cyan-500">●</span>
            <span>Ordinare i numeri</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">176</span>
        <% end %>
        <%= link_to "nvi4_mat_p177", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="text-cyan-500">●</span>
            <span>Confrontare i numeri</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">177</span>
        <% end %>
        <%= link_to "nvi4_mat_p178", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded bg-custom-blue-light dark:bg-cyan-900/40 text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="bg-cyan-500 text-white px-2 py-0.5 rounded font-bold">RIPASSO</span>
            <span>I numeri grandi</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">178</span>
        <% end %>
        <%= link_to "nvi4_mat_p179", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="text-cyan-500">●</span>
            <span>L'addizione in riga e in colonna</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">179</span>
        <% end %>
        <%= link_to "nvi4_mat_p180", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="text-cyan-500">●</span>
            <span>Le proprietà dell'addizione</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">180</span>
        <% end %>
        <%= link_to "nvi4_mat_p181", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="text-cyan-500">●</span>
            <span>Addizioni: calcoli veloci</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">181</span>
        <% end %>
        <%= link_to "nvi4_mat_p182", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="text-cyan-500">●</span>
            <span>La sottrazione in riga e in colonna</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">182</span>
        <% end %>
        <%= link_to "nvi4_mat_p183", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="text-cyan-500">●</span>
            <span>La proprietà della sottrazione</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">183</span>
        <% end %>
        <%= link_to "nvi4_mat_p184", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="text-cyan-500">●</span>
            <span>Sottrazioni: calcoli veloci</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">184</span>
        <% end %>
        <%= link_to "nvi4_mat_p185", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="text-cyan-500">●</span>
            <span>Addizioni e sottrazioni</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">185</span>
        <% end %>
        <%= link_to "nvi4_mat_p186", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="text-cyan-500">●</span>
            <span>Problemi con addizioni e sottrazioni</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">186</span>
        <% end %>
        <%= link_to "nvi4_mat_p187", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded bg-custom-blue-light dark:bg-cyan-900/40 text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="bg-cyan-500 text-white px-2 py-0.5 rounded font-bold">RIPASSO</span>
            <span>Addizione e sottrazione</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">187</span>
        <% end %>
        <%= link_to "nvi4_mat_p188", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="text-cyan-500">●</span>
            <span>La moltiplicazione in riga e in colonna</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">188</span>
        <% end %>
        <%= link_to "nvi4_mat_p189", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="text-cyan-500">●</span>
            <span>Le proprietà della moltiplicazione</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">189</span>
        <% end %>
        <%= link_to "nvi4_mat_p190", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="text-cyan-500">●</span>
            <span>La divisione in riga e in colonna</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">190</span>
        <% end %>
        <%= link_to "nvi4_mat_p191", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="text-cyan-500">●</span>
            <span>La divisione in riga e in colonna</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">191</span>
        <% end %>
        <%= link_to "nvi4_mat_p192", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="text-cyan-500">●</span>
            <span>La proprietà della divisione</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">192</span>
        <% end %>
        <%= link_to "nvi4_mat_p193", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="text-cyan-500">●</span>
            <span>La domanda e i dati (1)</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">193</span>
        <% end %>
        <%= link_to "nvi4_mat_p194", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="text-cyan-500">●</span>
            <span>La domanda e i dati (2)</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">194</span>
        <% end %>
        <%= link_to "nvi4_mat_p195", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="text-cyan-500">●</span>
            <span>La domanda nascosta</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">195</span>
        <% end %>
        <%= link_to "nvi4_mat_p196", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded bg-custom-blue-light dark:bg-cyan-900/40 text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="bg-cyan-500 text-white px-2 py-0.5 rounded font-bold">RIPASSO</span>
            <span>Problemi</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">196</span>
        <% end %>
      </div>

      <!-- Colonna destra -->
      <div class="space-y-1">
        <%= link_to "nvi4_mat_p203", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="text-cyan-500">●</span>
            <span>Frazioni equivalenti</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">203</span>
        <% end %>
        <%= link_to "nvi4_mat_p204", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="text-cyan-500">●</span>
            <span>La frazione di un numero</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">204</span>
        <% end %>
        <%= link_to "nvi4_mat_p205", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="text-cyan-500">●</span>
            <span>Confrontare frazioni</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">205</span>
        <% end %>
        <%= link_to "nvi4_mat_p206", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="text-cyan-500">●</span>
            <span>Problemi con le frazioni (1)</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">206</span>
        <% end %>
        <%= link_to "nvi4_mat_p207", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="text-cyan-500">●</span>
            <span>Problemi con le frazioni (2)</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">207</span>
        <% end %>
        <%= link_to "nvi4_mat_p208", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded bg-custom-blue-light dark:bg-cyan-900/40 text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="bg-cyan-500 text-white px-2 py-0.5 rounded font-bold">RIPASSO</span>
            <span>Frazioni</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">208</span>
        <% end %>
        <%= link_to "nvi4_mat_p209", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="text-cyan-500">●</span>
            <span>Frazioni e numeri decimali</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">209</span>
        <% end %>
        <%= link_to "nvi4_mat_p210", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="text-cyan-500">●</span>
            <span>I numeri decimali</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">210</span>
        <% end %>
        <%= link_to "nvi4_mat_p211", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="text-cyan-500">●</span>
            <span>Numeri decimali a confronto</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">211</span>
        <% end %>
        <%= link_to "nvi4_mat_p212", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="text-cyan-500">●</span>
            <span>Moltiplicare e dividere per 10, 100, 1000</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">212</span>
        <% end %>
        <%= link_to "nvi4_mat_p213", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="text-cyan-500">●</span>
            <span>Addizioni e sottrazioni con i decimali</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">213</span>
        <% end %>
        <%= link_to "nvi4_mat_p214", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded bg-custom-blue-light dark:bg-cyan-900/40 text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="bg-cyan-500 text-white px-2 py-0.5 rounded font-bold">RIPASSO</span>
            <span>Frazioni e numeri decimali</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">214</span>
        <% end %>
        <%= link_to "nvi4_mat_p215", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="text-cyan-500">●</span>
            <span>Divisioni con i decimali</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">215</span>
        <% end %>
        <%= link_to "nvi4_mat_p216", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded bg-custom-blue-light dark:bg-cyan-900/40 text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="bg-cyan-500 text-white px-2 py-0.5 rounded font-bold">RIPASSO</span>
            <span>Moltiplicazioni e divisioni</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">216</span>
        <% end %>
        <%= link_to "nvi4_mat_p217", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="text-cyan-500">●</span>
            <span>Misure di lunghezza</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">217</span>
        <% end %>
        <%= link_to "nvi4_mat_p218", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="text-cyan-500">●</span>
            <span>Misure di capacità</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">218</span>
        <% end %>
        <%= link_to "nvi4_mat_p219", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="text-cyan-500">●</span>
            <span>Misure di massa</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">219</span>
        <% end %>
        <%= link_to "nvi4_mat_p220", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="text-cyan-500">●</span>
            <span>Peso lordo, peso netto, tara</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">220</span>
        <% end %>
        <%= link_to "nvi4_mat_p221", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="text-cyan-500">●</span>
            <span>Problemi con le misure</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">221</span>
        <% end %>
        <%= link_to "nvi4_mat_p222", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="text-cyan-500">●</span>
            <span>L'euro</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">222</span>
        <% end %>
        <%= link_to "nvi4_mat_p223", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="text-cyan-500">●</span>
            <span>Problemi con l'euro</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">223</span>
        <% end %>
        <%= link_to "nvi4_mat_p224", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="text-cyan-500">●</span>
            <span>Costo unitario e costo totale</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">224</span>
        <% end %>
        <%= link_to "nvi4_mat_p225", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="text-cyan-500">●</span>
            <span>Il commercio</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">225</span>
        <% end %>
        <%= link_to "nvi4_mat_p226", class: "flex justify-between items-center hover:bg-gray-100 dark:hover:bg-gray-700 px-2 py-0.5 rounded text-gray-700 dark:text-gray-200" do %>
          <div class="flex items-center gap-2">
            <span class="text-cyan-500">●</span>
            <span>Problemi di compravendita</span>
          </div>
          <span class="text-gray-600 dark:text-gray-400">226</span>
        <% end %>
      </div>
    </div>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
