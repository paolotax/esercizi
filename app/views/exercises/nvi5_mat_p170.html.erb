<div class="max-w-6xl mx-auto bg-white p-3 md:p-6"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">
    <!-- VERIFICA -->
    <div class="p-4 md:p-6 bg-orange-100 rounded-lg">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 md:divide-x-2 md:divide-orange-300">
        <!-- Colonna sinistra -->
        <div class="md:pr-4 space-y-6">
          <!-- Esercizio 1 -->
          <div>
            <p class="font-bold text-gray-700 mb-4">
              <%= numero_esercizio_badge(1) %>
              All'inizio dell'anno la maestra chiede ai suoi alunni a quale progetto scolastico vogliono aderire. Ognuno sceglie un solo progetto. Osserva la tabella di frequenza e rappresenta i dati con un istogramma sul quaderno.
            </p>

            <div class="overflow-x-auto">
              <table class="border-collapse border border-gray-300 mx-auto">
                <thead>
                  <tr>
                    <th class="p-2 border border-gray-300 bg-<%= @pagina.base_color %>-100 text-center font-bold">progetto</th>
                    <th class="p-2 border border-gray-300 bg-white text-center">musica</th>
                    <th class="p-2 border border-gray-300 bg-white text-center">teatro</th>
                    <th class="p-2 border border-gray-300 bg-white text-center">coding</th>
                    <th class="p-2 border border-gray-300 bg-white text-center">basket</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="p-2 border border-gray-300 bg-<%= @pagina.base_color %>-100 text-center font-bold">frequenza<br>(n. alunni)</td>
                    <td class="p-2 border border-gray-300 bg-white text-center">5</td>
                    <td class="p-2 border border-gray-300 bg-white text-center">7</td>
                    <td class="p-2 border border-gray-300 bg-white text-center">9</td>
                    <td class="p-2 border border-gray-300 bg-white text-center">4</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <!-- Esercizio 2 -->
          <div>
            <p class="font-bold text-gray-700 mb-4">
              <%= numero_esercizio_badge(2) %>
              Il grafico rappresenta la suddivisione degli alunni di una classe in base all'anno di nascita. Quelli nati nel 2010 sono 6.
            </p>

            <div class="flex items-center gap-4 flex-wrap mb-4">
              <%= image_tag "nvi5_mat/p170/output-1715938802170_385_538_150_150.png", class: "w-32", alt: "Grafico a torta anni nascita" %>
              <div class="space-y-1">
                <div class="flex items-center gap-2"><span class="w-4 h-4 bg-orange-400 rounded"></span><span>alunni nati nel 2010</span></div>
                <div class="flex items-center gap-2"><span class="w-4 h-4 bg-yellow-300 rounded"></span><span>alunni nati nel 2009</span></div>
              </div>
            </div>

            <div class="flex items-center gap-2 flex-wrap">
              <span class="text-gray-700">Quanti sono gli alunni nati nel 2009?</span>
              <input type="text" data-correct-answer="18" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            </div>
          </div>

          <!-- Esercizio 3 -->
          <div>
            <p class="font-bold text-gray-700 mb-4">
              <%= numero_esercizio_badge(3) %>
              La tabella riporta i millimetri di pioggia caduti in tre mesi dell'anno in tre diverse città italiane. Osservala e rispondi alle domande.
            </p>

            <div class="overflow-x-auto mb-4">
              <table class="border-collapse border border-gray-300 mx-auto">
                <thead>
                  <tr>
                    <th class="p-2 border border-gray-300 bg-white"></th>
                    <th class="p-2 border border-gray-300 bg-<%= @pagina.base_color %>-100 text-center font-bold">Genova</th>
                    <th class="p-2 border border-gray-300 bg-<%= @pagina.base_color %>-100 text-center font-bold">Roma</th>
                    <th class="p-2 border border-gray-300 bg-<%= @pagina.base_color %>-100 text-center font-bold">Palermo</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="p-2 border border-gray-300 bg-<%= @pagina.base_color %>-100 text-center font-bold">febbraio</td>
                    <td class="p-2 border border-gray-300 bg-white text-center">45 mm</td>
                    <td class="p-2 border border-gray-300 bg-white text-center">12 mm</td>
                    <td class="p-2 border border-gray-300 bg-white text-center">5 mm</td>
                  </tr>
                  <tr>
                    <td class="p-2 border border-gray-300 bg-<%= @pagina.base_color %>-100 text-center font-bold">marzo</td>
                    <td class="p-2 border border-gray-300 bg-white text-center">60 mm</td>
                    <td class="p-2 border border-gray-300 bg-white text-center">18 mm</td>
                    <td class="p-2 border border-gray-300 bg-white text-center">3 mm</td>
                  </tr>
                  <tr>
                    <td class="p-2 border border-gray-300 bg-<%= @pagina.base_color %>-100 text-center font-bold">aprile</td>
                    <td class="p-2 border border-gray-300 bg-white text-center">32 mm</td>
                    <td class="p-2 border border-gray-300 bg-white text-center">6 mm</td>
                    <td class="p-2 border border-gray-300 bg-white text-center">2 mm</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <ul class="space-y-2 text-gray-700">
              <li>
                <span class="text-<%= @pagina.base_color %>-500">•</span> In quale città e in quale mese sono caduti più millimetri di pioggia?<br>
                <div class="flex items-center gap-2 flex-wrap ml-4">
                  <span>Città:</span>
                  <input type="text" data-correct-answer="Genova" class="w-24 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                  <span>Mese:</span>
                  <input type="text" data-correct-answer="marzo" class="w-24 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                </div>
              </li>
              <li>
                <span class="text-<%= @pagina.base_color %>-500">•</span> In quale città e in quale mese sono caduti meno millimetri di pioggia?<br>
                <div class="flex items-center gap-2 flex-wrap ml-4">
                  <span>Città:</span>
                  <input type="text" data-correct-answer="Palermo" class="w-24 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                  <span>Mese:</span>
                  <input type="text" data-correct-answer="aprile" class="w-24 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                </div>
              </li>
              <li>
                <div class="flex items-center gap-2 flex-wrap">
                  <span class="text-<%= @pagina.base_color %>-500">•</span>
                  <span>Quanti millimetri di pioggia sono caduti in media a Roma?</span>
                  <input type="text" data-correct-answer="12" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                </div>
              </li>
            </ul>
          </div>
        </div>

        <!-- Colonna destra -->
        <div class="md:pl-4 space-y-6 mt-6 md:mt-0">
          <!-- Esercizio 4 -->
          <div>
            <p class="font-bold text-gray-700 mb-4">
              <%= numero_esercizio_badge(4) %>
              Ordina dal minore al maggiore tutti i numeri che rappresentano gli alunni di alcune classi, poi individua la mediana.
            </p>

            <div class="grid grid-cols-2 gap-2 mb-4 text-gray-700">
              <div>
                <p>Bambini della 1ª A: 26</p>
                <p>Bambini della 2ª A: 23</p>
                <p>Bambini della 3ª A: 20</p>
                <p>Bambini della 4ª A: 24</p>
              </div>
              <div>
                <p>Bambini della 1ª B: 25</p>
                <p>Bambini della 2ª B: 23</p>
                <p>Bambini della 3ª B: 22</p>
              </div>
            </div>

            <div class="flex justify-center gap-1 mb-4">
              <% 7.times do %>
                <span class="w-10 h-10 flex items-center justify-center border-2 border-<%= @pagina.base_color %>-400 rounded bg-white">
                  <input type="text" class="w-8 text-center font-bold bg-transparent border-0">
                </span>
              <% end %>
            </div>

            <div class="flex items-center gap-2 flex-wrap">
              <span class="text-gray-700">La mediana è</span>
              <input type="text" data-correct-answer="23" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            </div>
          </div>

          <!-- Esercizio 5 -->
          <div>
            <p class="font-bold text-gray-700 mb-4">
              <%= numero_esercizio_badge(5) %>
              Leggi e calcola la media.
            </p>

            <p class="text-gray-700 mb-4">
              Cinque amici stanno facendo una raccolta di figurine di calciatori. Finora hanno raccolto le figurine indicate in tabella.
            </p>

            <div class="overflow-x-auto mb-4">
              <table class="border-collapse border border-gray-300 mx-auto">
                <thead>
                  <tr>
                    <th class="p-2 border border-gray-300 bg-<%= @pagina.base_color %>-100 text-center font-bold">Giulia</th>
                    <th class="p-2 border border-gray-300 bg-<%= @pagina.base_color %>-100 text-center font-bold">Luca</th>
                    <th class="p-2 border border-gray-300 bg-<%= @pagina.base_color %>-100 text-center font-bold">Samir</th>
                    <th class="p-2 border border-gray-300 bg-<%= @pagina.base_color %>-100 text-center font-bold">Michela</th>
                    <th class="p-2 border border-gray-300 bg-<%= @pagina.base_color %>-100 text-center font-bold">Matteo</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="p-2 border border-gray-300 bg-white text-center">24</td>
                    <td class="p-2 border border-gray-300 bg-white text-center">26</td>
                    <td class="p-2 border border-gray-300 bg-white text-center">5</td>
                    <td class="p-2 border border-gray-300 bg-white text-center">31</td>
                    <td class="p-2 border border-gray-300 bg-white text-center">14</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <div class="flex items-center gap-2 flex-wrap">
              <span class="text-gray-700">Quante figurine ha raccolto in media ciascun bambino?</span>
              <input type="text" data-correct-answer="20" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            </div>
          </div>

          <!-- Esercizio 6 -->
          <div>
            <p class="font-bold text-gray-700 mb-4">
              <%= numero_esercizio_badge(6) %>
              Crea delle strisce ornamentali combinando quattro elementi in tutti i modi possibili: un triangolo, una stella, un cerchio e un quadrato. Continua come nell'esempio ed esegui sul quaderno. Attenzione: le possibilità sono 24!
            </p>

            <div class="flex justify-center">
              <%= image_tag "nvi5_mat/p170/output-1715938802170_568_957_412_83.png", class: "max-w-full", alt: "Strisce ornamentali esempio" %>
            </div>
          </div>

          <!-- Esercizio 7 -->
          <div>
            <p class="font-bold text-gray-700 mb-4">
              <%= numero_esercizio_badge(7) %>
              In un sacchetto ci sono 5 palline rosa e 20 blu. Scrivi le frazioni e le percentuali di probabilità.
            </p>

            <div class="space-y-4">
              <div class="flex items-center gap-4">
                <span class="w-6 h-6 bg-pink-400 rounded-full"></span>
                <span class="text-<%= @pagina.base_color %>-500">→</span>
                <%= render 'shared/frazione', num: nil, den: nil, num_answer: "5", den_answer: "25" %>
                <span class="text-<%= @pagina.base_color %>-500">→</span>
                <input type="text" data-correct-answer="20" class="w-12 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                <span>%</span>
              </div>

              <div class="flex items-center gap-4">
                <span class="w-6 h-6 bg-blue-500 rounded-full"></span>
                <span class="text-<%= @pagina.base_color %>-500">→</span>
                <%= render 'shared/frazione', num: nil, den: nil, num_answer: "20", den_answer: "25" %>
                <span class="text-<%= @pagina.base_color %>-500">→</span>
                <input type="text" data-correct-answer="80" class="w-12 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                <span>%</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
