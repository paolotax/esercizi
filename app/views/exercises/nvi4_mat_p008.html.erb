<div class="max-w-6xl mx-auto bg-white p-3 md:p-6"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">

    <!-- Titolo sezione -->
    <div class="bg-<%= @pagina.base_color %>-600 text-white px-4 py-2 rounded-lg inline-block font-bold">
      PROBLEMI
    </div>

    <!-- Box Ricorda! -->
    <div class="p-4 md:p-6 bg-custom-blue rounded-2xl">
      <h3 class="font-bold text-<%= @pagina.base_color %>-600 italic mb-4">Ricorda!</h3>
      <p class="text-gray-700 mb-3">Per risolvere i problemi puoi seguire queste indicazioni.</p>
      <ul class="list-disc pl-6 space-y-1 text-gray-700 marker:text-<%= @pagina.base_color %>-500">
        <li>Leggi sempre bene il <span class="font-bold">testo</span>.</li>
        <li>Trova la <span class="font-bold">domanda</span>.</li>
        <li>Cerca le informazioni, cioè i <span class="font-bold">dati</span> utili per risolverlo.</li>
      </ul>
    </div>

    <!-- Container ESERCIZI -->
    <div class="p-4 md:p-6 bg-orange-100 rounded-lg">

      <!-- Esercizio 1 -->
      <div class="mb-8">
        <p class="font-bold text-gray-700 mb-4">
          <%= numero_esercizio_badge(1) %>
          Leggi e segna con una <span class="font-bold">X</span> la domanda giusta. Poi risolvi.
        </p>

        <!-- Problema 1.1 -->
        <div class="bg-white p-4 rounded-lg border border-gray-200 mb-6">
          <p class="text-gray-700 mb-2">
            <span class="font-bold text-<%= @pagina.base_color %>-600">1.</span>
            Lo zio Marco per la festa in giardino ha preparato una grande macedonia; ha usato 12 pesche, 48 fragole, 6 banane e 14 albicocche.
          </p>

          <div class="space-y-2 mb-4 pl-4">
            <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded border border-gray-200">
              <input type="checkbox" name="prob1_1" class="w-5 h-5" data-correct-answer="false">
              <span>Quanto ha speso in tutto lo zio Marco per acquistare la frutta?</span>
            </label>
            <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded border border-gray-200">
              <input type="checkbox" name="prob1_1" class="w-5 h-5" data-correct-answer="true">
              <span>Quanti frutti utilizza in tutto lo zio Marco?</span>
            </label>
          </div>

          <!-- Spazio per operazioni -->
          <div class="bg-blue-50 border border-blue-200 rounded p-4 mb-4 min-h-24">
            <p class="text-gray-500 italic">Spazio per i calcoli...</p>
          </div>

          <div class="flex items-center gap-2">
            <span class="font-bold">Risposta:</span>
            <input type="text" data-correct-answer="80" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <span class="shrink-0">frutti</span>
          </div>
        </div>

        <!-- Problema 1.2 -->
        <div class="bg-white p-4 rounded-lg border border-gray-200">
          <p class="text-gray-700 mb-2">
            <span class="font-bold text-<%= @pagina.base_color %>-600">2.</span>
            Giulia e Igor portano a scuola la loro collezione di figurine. Giulia ne ha 84 e Igor 106.
          </p>

          <div class="space-y-2 mb-4 pl-4">
            <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded border border-gray-200">
              <input type="checkbox" name="prob1_2" class="w-5 h-5" data-correct-answer="false">
              <span>Quante sono in tutto le figurine di animali?</span>
            </label>
            <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded border border-gray-200">
              <input type="checkbox" name="prob1_2" class="w-5 h-5" data-correct-answer="true">
              <span>Qual è la differenza tra le figurine di Giulia e quelle di Igor?</span>
            </label>
          </div>

          <!-- Spazio per operazioni -->
          <div class="bg-blue-50 border border-blue-200 rounded p-4 mb-4 min-h-24">
            <p class="text-gray-500 italic">Spazio per i calcoli...</p>
          </div>

          <div class="flex items-center gap-2">
            <span class="font-bold">Risposta:</span>
            <input type="text" data-correct-answer="22" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <span class="shrink-0">figurine</span>
          </div>
        </div>
      </div>

    </div>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
