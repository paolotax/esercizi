<div class="max-w-6xl mx-auto p-3 md:p-8 bg-gradient-to-br from-orange-50 via-white to-yellow-50 rounded-3xl shadow-xl" data-controller="exercise-checker page-viewer" data-page-viewer-image-url-value="<%= asset_path('nvi5_mat/p059/page.png') %>">

  <!-- Header -->
  <div class="mb-8">
    <div class="flex items-start sm:items-center justify-between gap-4 mb-4">
      <div class="flex flex-col-reverse sm:flex-row items-start sm:items-center gap-2 sm:gap-4">
        <div class="bg-orange-500 text-white text-md sm:text-xl px-2 sm:px-4 py-1.5 sm:py-2 rounded-lg font-bold">
          Laboratorio
        </div>
        <h1 class="text-2xl sm:text-3xl font-bold text-orange-600">RICOSTRUIAMO L'INTERO</h1>
      </div>
      <div class="flex-shrink-0 bg-orange-600 text-white rounded-full w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center font-bold text-lg sm:text-xl cursor-pointer hover:bg-orange-700 transition-colors"
           data-action="click->page-viewer#openOriginal"
           title="Clicca per vedere la pagina originale">
        59
      </div>
    </div>
  </div>

  <!-- Introduzione -->
  <div class="bg-gradient-to-r from-blue-100 to-blue-50 rounded-2xl p-4 sm:p-6 mb-6 border-4 border-blue-300">
    <p class="text-base md:text-lg text-gray-800 font-semibold">
      Ora ricostruiamo l'intero a partire da frazioni che non rappresentano l'unit√† frazionaria,
      cio√® da frazioni qualsiasi.
    </p>
  </div>

  <!-- Esercizio 1 -->
  <div class="bg-gradient-to-r from-cyan-100 to-cyan-50 rounded-2xl p-4 sm:p-6 mb-6 border-4 border-cyan-300">
    <h2 class="text-lg md:text-xl font-bold text-gray-700 mb-4">
      <span class="bg-cyan-500 text-white rounded-full w-8 h-8 md:w-10 md:h-10 inline-flex items-center justify-center mr-2">1</span>
      Il triangolo che vedi corrisponde ai <%= image_tag "nvi5_mat/p059/p059_01.jpg", alt: "2/3", class: "inline h-8 align-middle mx-1" %> dell'intero.
      Qual √® l'intero?
    </h2>

    <div class="bg-white rounded-lg p-4">
      <%= image_tag "nvi5_mat/p059/p059_02.jpg", alt: "Triangolo 2/3", class: "w-full max-w-md mx-auto" %>
    </div>
  </div>

  <!-- Esercizio 2 -->
  <div class="bg-gradient-to-r from-green-100 to-green-50 rounded-2xl p-4 sm:p-6 mb-6 border-4 border-green-300">
    <h2 class="text-lg md:text-xl font-bold text-gray-700 mb-4">
      <span class="bg-green-500 text-white rounded-full w-8 h-8 md:w-10 md:h-10 inline-flex items-center justify-center mr-2">2</span>
      Per ricostruire l'intero, innanzitutto stabilisci qual √® l'unit√† frazionaria.
    </h2>

    <div class="bg-white rounded-lg p-4">
      <%= image_tag "nvi5_mat/p059/p059_03.jpg", alt: "Stabilire unit√† frazionaria", class: "w-full max-w-2xl mx-auto" %>
    </div>
  </div>

  <!-- Esercizio 3 -->
  <div class="bg-gradient-to-r from-purple-100 to-purple-50 rounded-2xl p-4 sm:p-6 mb-6 border-4 border-purple-300">
    <h2 class="text-lg md:text-xl font-bold text-gray-700 mb-4">
      <span class="bg-purple-500 text-white rounded-full w-8 h-8 md:w-10 md:h-10 inline-flex items-center justify-center mr-2">3</span>
      Per completare l'intero, cio√® <%= image_tag "nvi5_mat/p059/p059_04.jpg", alt: "3/3", class: "inline h-8 align-middle mx-1" %>,
      manca ancora <%= image_tag "nvi5_mat/p059/p059_05.jpg", alt: "1/3", class: "inline h-8 align-middle mx-1" %>: aggiungilo tu.
    </h2>

    <p class="text-base md:text-lg text-gray-700 mb-4">
      Puoi farlo in diversi modi: noi ne abbiamo disegnato uno in viola, tu disegnane un altro.
    </p>

    <div class="bg-white rounded-lg p-4">
      <%= image_tag "nvi5_mat/p059/output-1715938802059_597_433_223_218.png", alt: "Ricostruzione intero", class: "w-full max-w-md mx-auto" %>
    </div>
  </div>

  <!-- Esercizio 4 - 3/4 -->
  <div class="bg-gradient-to-r from-yellow-100 to-yellow-50 rounded-2xl p-4 sm:p-6 mb-6 border-4 border-yellow-300">
    <div class="flex items-start gap-3 mb-4">
      <p class="text-base md:text-lg text-gray-700">
        La figura che vedi corrisponde a <%= image_tag "nvi5_mat/p059/p059_06.jpg", alt: "3/4", class: "inline h-8 align-middle mx-1" %> dell'intero.
      </p>
    </div>

    <h3 class="text-lg font-bold text-yellow-700 mb-4">‚Ä¢ Qual √® l'intero? Disegnalo.</h3>

    <div class="bg-white rounded-lg p-4 mb-4">
      <%= image_tag "nvi5_mat/p059/output-1715938802059_173_746_307_305.png", alt: "Figura 3/4", class: "w-full max-w-md mx-auto" %>
    </div>

    <div class="bg-yellow-50 rounded-lg p-4 border-l-4 border-yellow-500">
      <p class="text-base md:text-lg text-gray-700">
        Confronta il tuo lavoro con quello dei compagni e delle compagne. Avete disegnato tutti la stessa
        figura? Ognuna √® una possibile ricostruzione dell'intero? Verificalo.
      </p>
    </div>
  </div>

  <!-- Esercizio 5 - 3/5 -->
  <div class="bg-gradient-to-r from-pink-100 to-pink-50 rounded-2xl p-4 sm:p-6 mb-6 border-4 border-pink-300">
    <div class="flex items-start gap-3 mb-4">
      <p class="text-base md:text-lg text-gray-700">
        La figura che vedi corrisponde a <%= image_tag "nvi5_mat/p059/p059_07.jpg", alt: "3/5", class: "inline h-8 align-middle mx-1" %> dell'intero.
      </p>
    </div>

    <h3 class="text-lg font-bold text-pink-700 mb-4">‚Ä¢ Qual √® l'intero? Disegnalo.</h3>

    <div class="bg-white rounded-lg p-4 mb-4">
      <%= image_tag "nvi5_mat/p059/output-1715938802059_597_747_307_302.png", alt: "Figura 3/5", class: "w-full max-w-md mx-auto" %>
    </div>

    <div class="bg-pink-50 rounded-lg p-4 border-l-4 border-pink-500">
      <p class="text-base md:text-lg text-gray-700">
        Confronta il tuo lavoro con quello dei compagni e delle compagne. Avete disegnato tutti la stessa
        figura? Ognuna √® una possibile ricostruzione dell'intero? Verificalo.
      </p>
    </div>
  </div>

  <!-- Footer Reference -->
  <div class="bg-gray-100 rounded-lg p-4 text-center text-sm text-gray-600">
    <p class="font-semibold">üìò Quaderno esercizi pp. 206-207</p>
  </div>

  <!-- Exercise Controls -->
  <%= render 'shared/exercise_controls', color: 'orange', current_page: 'nvi5_mat_p059', show_exercise_buttons: false %>

</div>
