<div class="max-w-6xl mx-auto bg-white p-3 md:p-6"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">
    <!-- ESERCIZI -->
    <div class="p-4 md:p-6 bg-orange-100 rounded-lg">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 md:divide-x-2 md:divide-orange-300">
        <!-- Colonna sinistra -->
        <div class="md:pr-4 space-y-6">
          <!-- Esercizio 6 - Tabella minuti/ore/giorni -->
          <div>
            <p class="font-bold text-gray-700 mb-4">
              <%= numero_esercizio_badge(6) %>
              Completa la tabella.
            </p>

            <%= image_tag "nvi5_mat/p089/p089_01.jpg", class: "max-w-full mb-4" %>
          </div>

          <!-- Esercizio 7 - Trasforma in ore e minuti -->
          <div>
            <p class="font-bold text-gray-700 mb-4">
              <%= numero_esercizio_badge(7) %>
              Trasforma in ore intere e minuti.
            </p>

            <div class="overflow-x-auto">
              <table class="w-full border-collapse border border-gray-300">
                <tbody>
                  <tr>
                    <td class="border border-gray-300 px-2 py-2 text-center">80 min</td>
                    <td class="border border-gray-300 px-2 py-2">
                      <input type="text" data-correct-answer="1 h 20 min" class="w-full border-none text-center font-bold bg-transparent">
                    </td>
                    <td class="border border-gray-300 px-2 py-2 text-center">238 min</td>
                    <td class="border border-gray-300 px-2 py-2">
                      <input type="text" data-correct-answer="3 h 58 min" class="w-full border-none text-center font-bold bg-transparent">
                    </td>
                  </tr>
                  <tr>
                    <td class="border border-gray-300 px-2 py-2 text-center">135 min</td>
                    <td class="border border-gray-300 px-2 py-2">
                      <input type="text" data-correct-answer="2 h 15 min" class="w-full border-none text-center font-bold bg-transparent">
                    </td>
                    <td class="border border-gray-300 px-2 py-2 text-center">300 min</td>
                    <td class="border border-gray-300 px-2 py-2">
                      <input type="text" data-correct-answer="5 h" class="w-full border-none text-center font-bold bg-transparent">
                    </td>
                  </tr>
                  <tr>
                    <td class="border border-gray-300 px-2 py-2 text-center">200 min</td>
                    <td class="border border-gray-300 px-2 py-2">
                      <input type="text" data-correct-answer="3 h 20 min" class="w-full border-none text-center font-bold bg-transparent">
                    </td>
                    <td class="border border-gray-300 px-2 py-2 text-center">600 min</td>
                    <td class="border border-gray-300 px-2 py-2">
                      <input type="text" data-correct-answer="10 h" class="w-full border-none text-center font-bold bg-transparent">
                    </td>
                  </tr>
                  <tr>
                    <td class="border border-gray-300 px-2 py-2 text-center">189 min</td>
                    <td class="border border-gray-300 px-2 py-2">
                      <input type="text" data-correct-answer="3 h 9 min" class="w-full border-none text-center font-bold bg-transparent">
                    </td>
                    <td class="border border-gray-300 px-2 py-2 text-center">350 min</td>
                    <td class="border border-gray-300 px-2 py-2">
                      <input type="text" data-correct-answer="5 h 50 min" class="w-full border-none text-center font-bold bg-transparent">
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- Colonna destra -->
        <div class="md:pl-4 space-y-6">
          <!-- Esercizio 8 - Converti -->
          <div>
            <p class="font-bold text-gray-700 mb-4">
              <%= numero_esercizio_badge(8) %>
              Converti...
            </p>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <!-- in giorni -->
              <div>
                <p class="font-bold text-gray-700 mb-2">in giorni</p>
                <div class="space-y-2">
                  <div class="flex items-center gap-2">
                    <span class="shrink-0">1 settimana =</span>
                    <input type="text" data-correct-answer="7" class="w-12 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                    <span class="shrink-0">d</span>
                  </div>
                  <div class="flex items-center gap-2">
                    <span class="shrink-0">7 settimane =</span>
                    <input type="text" data-correct-answer="49" class="w-12 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                    <span class="shrink-0">d</span>
                  </div>
                  <div class="flex items-center gap-2">
                    <span class="shrink-0">1 anno =</span>
                    <input type="text" data-correct-answer="365" class="w-12 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                    <span class="shrink-0">d</span>
                  </div>
                </div>
              </div>

              <!-- in ore -->
              <div>
                <p class="font-bold text-gray-700 mb-2">in ore</p>
                <div class="space-y-2">
                  <div class="flex items-center gap-2">
                    <span class="shrink-0">2 d =</span>
                    <input type="text" data-correct-answer="48" class="w-12 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                    <span class="shrink-0">h</span>
                  </div>
                  <div class="flex items-center gap-2">
                    <span class="shrink-0">7 d =</span>
                    <input type="text" data-correct-answer="168" class="w-12 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                    <span class="shrink-0">h</span>
                  </div>
                  <div class="flex items-center gap-2">
                    <span class="shrink-0">180 min =</span>
                    <input type="text" data-correct-answer="3" class="w-12 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                    <span class="shrink-0">h</span>
                  </div>
                </div>
              </div>

              <!-- in minuti -->
              <div>
                <p class="font-bold text-gray-700 mb-2">in minuti</p>
                <div class="space-y-2">
                  <div class="flex items-center gap-2">
                    <span class="shrink-0">1 h =</span>
                    <input type="text" data-correct-answer="60" class="w-12 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                    <span class="shrink-0">min</span>
                  </div>
                  <div class="flex items-center gap-2">
                    <span class="shrink-0">12 h =</span>
                    <input type="text" data-correct-answer="720" class="w-12 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                    <span class="shrink-0">min</span>
                  </div>
                  <div class="flex items-center gap-2">
                    <span class="shrink-0">180 s =</span>
                    <input type="text" data-correct-answer="3" class="w-12 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                    <span class="shrink-0">min</span>
                  </div>
                </div>
              </div>

              <!-- in secondi -->
              <div>
                <p class="font-bold text-gray-700 mb-2">in secondi</p>
                <div class="space-y-2">
                  <div class="flex items-center gap-2">
                    <span class="shrink-0">1 min =</span>
                    <input type="text" data-correct-answer="60" class="w-12 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                    <span class="shrink-0">s</span>
                  </div>
                  <div class="flex items-center gap-2">
                    <span class="shrink-0">5 min =</span>
                    <input type="text" data-correct-answer="300" class="w-12 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                    <span class="shrink-0">s</span>
                  </div>
                  <div class="flex items-center gap-2">
                    <span class="shrink-0">15 min =</span>
                    <input type="text" data-correct-answer="900" class="w-12 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                    <span class="shrink-0">s</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Esercizio 9 - Esegui le operazioni -->
          <div>
            <p class="font-bold text-gray-700 mb-3">
              <%= numero_esercizio_badge(9) %>
              Esegui le operazioni sul quaderno.
            </p>

            <div class="space-y-2">
              <div class="flex items-center gap-2 flex-wrap">
                <span class="shrink-0">2 h 45 min + 3 h 38 min =</span>
                <input type="text" data-correct-answer="6 h 23 min" class="min-w-0 flex-1 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
              </div>
              <div class="flex items-center gap-2 flex-wrap">
                <span class="shrink-0">13 h 30 min 44 s + 3 h 23 min 31 s =</span>
                <input type="text" data-correct-answer="16 h 54 min 15 s" class="min-w-0 flex-1 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
              </div>
              <div class="flex items-center gap-2 flex-wrap">
                <span class="shrink-0">22 h 45 min − 15 h 28 min =</span>
                <input type="text" data-correct-answer="7 h 17 min" class="min-w-0 flex-1 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
              </div>
              <div class="flex items-center gap-2 flex-wrap">
                <span class="shrink-0">24 h 8 min 56 s − 13 h 36 min 41 s =</span>
                <input type="text" data-correct-answer="10 h 32 min 15 s" class="min-w-0 flex-1 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Esercizio 10 - Treno Milano-Crotone -->
      <div class="mt-6">
        <p class="font-bold text-gray-700 mb-4">
          <%= numero_esercizio_badge(10) %>
          Osserva gli orari delle fermate del treno Milano-Crotone e scrivi sul quaderno quanto dura ciascuna tratta.
        </p>

        <div class="overflow-x-auto">
          <table class="w-full border-collapse border border-gray-300">
            <thead>
              <tr class="bg-<%= @pagina.base_color %>-200">
                <th class="border border-gray-300 px-3 py-2 font-bold">Milano C.le</th>
                <th class="border border-gray-300 px-3 py-2 font-bold">Napoli C.le</th>
                <th class="border border-gray-300 px-3 py-2 font-bold">Lamezia Terme</th>
                <th class="border border-gray-300 px-3 py-2 font-bold">Catanzaro Lido</th>
                <th class="border border-gray-300 px-3 py-2 font-bold">Crotone</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="border border-gray-300 px-3 py-2 text-center font-bold">07:00</td>
                <td class="border border-gray-300 px-3 py-2 text-center font-bold">13:12</td>
                <td class="border border-gray-300 px-3 py-2 text-center font-bold">16:50</td>
                <td class="border border-gray-300 px-3 py-2 text-center font-bold">18:00</td>
                <td class="border border-gray-300 px-3 py-2 text-center font-bold">19:13</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- RISOLVI I PROBLEMI -->
    <div class="p-4 md:p-6 bg-<%= @pagina.base_color %>-100 rounded-lg">
      <h3 class="font-bold text-<%= @pagina.base_color %>-700 mb-4">RISOLVI I PROBLEMI</h3>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 md:divide-x-2 md:divide-<%= @pagina.base_color %>-300">
        <!-- Colonna sinistra -->
        <div class="md:pr-4 space-y-4">
          <!-- Problema 11 -->
          <div>
            <p class="text-gray-700 mb-2">
              <%= numero_esercizio_badge(11) %>
              Annachiara acquista un tablet che costa € 187,50 e paga con 2 banconote da € 100. Quanto riceve di resto?
            </p>
            <div class="flex items-center gap-2">
              <span class="shrink-0">€</span>
              <input type="text" data-correct-answer="12,50" class="min-w-0 flex-1 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            </div>
          </div>

          <!-- Problema 12 -->
          <div>
            <p class="text-gray-700 mb-2">
              <%= numero_esercizio_badge(12) %>
              Mattia compra una confezione contenente 20 pacchetti di cracker che costa € 8,40. Qual è il costo unitario di ogni pacchetto di cracker?
            </p>
            <div class="flex items-center gap-2">
              <span class="shrink-0">€</span>
              <input type="text" data-correct-answer="0,42" class="min-w-0 flex-1 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            </div>
          </div>

          <!-- Problema 13 -->
          <div>
            <p class="text-gray-700 mb-2">
              <%= numero_esercizio_badge(13) %>
              Un negoziante ha acquistato da un rivenditore 23 teli da mare, pagandoli complessivamente € 189. Purtroppo non è riuscito a venderne nemmeno uno e, pur di non tenerli in negozio, decide di venderli a € 5,50 ciascuno. Se il negoziante li venderà tutti, di quanto sarà la perdita?
            </p>
            <div class="flex items-center gap-2">
              <span class="shrink-0">€</span>
              <input type="text" data-correct-answer="62,50" class="min-w-0 flex-1 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            </div>
          </div>
        </div>

        <!-- Colonna destra -->
        <div class="md:pl-4 space-y-4">
          <!-- Problema 14 -->
          <div>
            <p class="text-gray-700 mb-2">
              <%= numero_esercizio_badge(14) %>
              Il treno Frecciarossa che parte da Bologna alle 6:45 arriva a Milano alle 8:42. Quanto tempo impiega per compiere il tragitto?
            </p>
            <div class="flex items-center gap-2">
              <input type="text" data-correct-answer="1 h 57 min" class="min-w-0 flex-1 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            </div>
          </div>

          <!-- AllenaMente! -->
          <div class="p-4 bg-white rounded-2xl border-3 border-custom-pink">
            <p class="font-bold text-custom-pink mb-2">AllenaMente!</p>
            <p class="text-gray-700 mb-3">
              Sono le 11:35 e Luca deve restituire un libro in biblioteca, che chiude alle 12:00.<br>
              Per arrivare in tempo può prendere l'autobus, che impiega 15 minuti e che passerà tra 8 minuti, oppure la metropolitana, che impiega 12 minuti e che passerà tra 10 minuti.<br>
              Quale possibilità consigli a Luca? Perché?
            </p>
            <div class="space-y-2">
              <div class="flex items-center gap-2">
                <span class="shrink-0">Mezzo consigliato:</span>
                <input type="text" data-correct-answer="metropolitana" class="min-w-0 flex-1 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
              </div>
              <div class="flex items-center gap-2">
                <span class="shrink-0">Perché:</span>
                <input type="text" class="min-w-0 flex-1 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
