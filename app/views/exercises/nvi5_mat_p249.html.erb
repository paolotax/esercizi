<div class="max-w-6xl mx-auto bg-white p-3 md:p-6"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">
    <!-- Introduzione -->
    <div class="p-3 bg-custom-blue-light rounded-2xl">
      <p class="text-gray-700"><span class="text-cyan-500">•</span> Risolvi i problemi sul quaderno.</p>
    </div>

    <!-- Problema 1: IMPARARE TUTTI -->
    <div class="p-4 bg-white rounded-2xl border-3 border-yellow-400">
      <p class="font-bold text-gray-700 mb-4">
        <%= imparare_tutti_badge(1) %>
        I lati di un parallelogramma misurano rispettivamente 27,6 cm e 18,4 cm. Qual è la misura del perimetro?
      </p>
      <div class="flex items-center gap-2 justify-end">
        <input type="text" data-correct-answer="92" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
        <span class="text-gray-700">cm</span>
      </div>
    </div>

    <!-- Grid problemi -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <!-- Problema 2 -->
      <div class="p-3 space-y-2">
        <p class="text-gray-700">
          <%= numero_esercizio_badge(2) %> Nel giardino di una villa vengono create quattro aiuole a forma di esagono regolare con il lato di 2,8 m. Calcola quanti decametri di rete metallica occorrono per recintarle tutte.
        </p>
        <div class="flex items-center gap-2 justify-end">
          <input type="text" data-correct-answer="6,72" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          <span class="text-gray-700">dam</span>
        </div>
      </div>

      <!-- Problema 3 -->
      <div class="p-3 space-y-2">
        <p class="text-gray-700">
          <%= numero_esercizio_badge(3) %> Il rosone di una cattedrale è formato da otto triangoli isosceli, che hanno la base di 1,20 m e l'altezza di 1,85 m. Calcola l'area del rosone.
        </p>
        <div class="flex items-center gap-2 justify-end">
          <input type="text" data-correct-answer="8,88" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          <span class="text-gray-700">m²</span>
        </div>
      </div>

      <!-- Problema 4 -->
      <div class="p-3 space-y-2">
        <p class="text-gray-700">
          <%= numero_esercizio_badge(4) %> Un pittore ha dipinto i <%= render 'shared/frazione', num: 5, den: 9 %> di una tela quadrata che ha il lato di 75 cm. Quanti decimetri quadrati deve ancora dipingere?
        </p>
        <div class="flex items-center gap-2 justify-end">
          <input type="text" data-correct-answer="25" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          <span class="text-gray-700">dm²</span>
        </div>
      </div>

      <!-- Problema 5 -->
      <div class="p-3 space-y-2">
        <p class="text-gray-700">
          <%= numero_esercizio_badge(5) %> Fatima e Sofia si allenano ogni giorno in bicicletta. Oggi Fatima ha percorso 9 volte un circuito circolare con il raggio che misura 170 m; Sofia invece ha percorso 12 volte un circuito circolare con il diametro di 256 m. Chi ha percorso più chilometri?
        </p>
        <div class="flex items-center gap-2 justify-end">
          <input type="text" data-correct-answer="Sofia" class="w-24 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
        </div>
      </div>

      <!-- Problema 6 -->
      <div class="p-3 space-y-2">
        <p class="text-gray-700">
          <%= numero_esercizio_badge(6) %> Per la festa di fine scuola ognuno dei 22 alunni della 5ª B costruisce un aquilone a forma di rombo con le diagonali lunghe 70 cm e 42 cm. Quanti metri quadrati di carta occorrono per realizzare tutti gli aquiloni?
        </p>
        <div class="flex items-center gap-2 justify-end">
          <input type="text" data-correct-answer="32,34" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          <span class="text-gray-700">m²</span>
        </div>
      </div>

      <!-- Problema 7 -->
      <div class="p-3 space-y-2">
        <p class="text-gray-700">
          <%= numero_esercizio_badge(7) %> Una fontana a forma di esagono regolare ha il lato di 30 dm e l'apotema di 26 dm. Qual è l'area della fontana?
        </p>
        <div class="flex items-center gap-2 justify-end">
          <input type="text" data-correct-answer="2340" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          <span class="text-gray-700">dm²</span>
        </div>
      </div>

      <!-- Problema 8 -->
      <div class="p-3 space-y-2">
        <p class="text-gray-700">
          <%= numero_esercizio_badge(8) %> La vela di una barca è a forma di triangolo rettangolo, con i lati che formano l'angolo retto che misurano rispettivamente 4,2 m e 2,9 m. Calcola l'area della vela.
        </p>
        <div class="flex items-center gap-2 justify-end">
          <input type="text" data-correct-answer="6,09" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          <span class="text-gray-700">m²</span>
        </div>
      </div>

      <!-- Problema 9 -->
      <div class="p-3 space-y-2">
        <p class="text-gray-700">
          <%= numero_esercizio_badge(9) %> Un trapezio isoscele ha il lato obliquo di 8 dm, la somma delle basi di 15 dm e l'altezza di 0,6 m. Calcola il perimetro e l'area.
        </p>
        <div class="flex items-center gap-2 justify-end">
          <span class="text-gray-700">P =</span>
          <input type="text" data-correct-answer="31" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          <span class="text-gray-700">dm</span>
          <span class="text-gray-700 ml-2">A =</span>
          <input type="text" data-correct-answer="45" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          <span class="text-gray-700">dm²</span>
        </div>
      </div>

      <!-- Problema 10 -->
      <div class="p-3 space-y-2">
        <p class="text-gray-700">
          <%= numero_esercizio_badge(10) %> In un parco giochi a forma di trapezio isoscele la base maggiore misura 32 m e la minore misura la metà della maggiore. Sapendo che la misura del lato obliquo supera quella della base minore di 8 m, calcola il perimetro del parco giochi.
        </p>
        <div class="flex items-center gap-2 justify-end">
          <input type="text" data-correct-answer="96" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          <span class="text-gray-700">m</span>
        </div>
      </div>

      <!-- Problema 11 -->
      <div class="p-3 space-y-2">
        <p class="text-gray-700">
          <%= numero_esercizio_badge(11) %> La diagonale maggiore di un rombo misura 78 cm ed è <%= render 'shared/frazione', num: 6, den: 4 %> della minore. Calcola l'area del rombo. Sapendo che il lato è 49 cm, quanto misura il perimetro?
        </p>
        <div class="flex items-center gap-2 justify-end">
          <span class="text-gray-700">A =</span>
          <input type="text" data-correct-answer="2028" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          <span class="text-gray-700">cm²</span>
          <span class="text-gray-700 ml-2">P =</span>
          <input type="text" data-correct-answer="196" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          <span class="text-gray-700">cm</span>
        </div>
      </div>

      <!-- Problema 12 -->
      <div class="p-3 space-y-2">
        <p class="text-gray-700">
          <%= numero_esercizio_badge(12) %> Un cortile rettangolare misura 14 m e 22,5 m; quanto si spende per pavimentarlo se ogni metro quadrato di pavimentazione costa € 65?
        </p>
        <div class="flex items-center gap-2 justify-end">
          <span class="text-gray-700">€</span>
          <input type="text" data-correct-answer="20475" class="w-24 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
        </div>
      </div>

      <!-- Problema 13 -->
      <div class="p-3 space-y-2">
        <p class="text-gray-700">
          <%= numero_esercizio_badge(13) %> La pista circolare di una giostra ha il raggio di 9 m. Durante ogni giro gli elefantini meccanici girano intorno per 10 volte. Quanti metri percorrono in tutto?
        </p>
        <div class="flex items-center gap-2 justify-end">
          <input type="text" data-correct-answer="565,2" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          <span class="text-gray-700">m</span>
        </div>
      </div>

      <!-- Problema 14 -->
      <div class="p-3 space-y-2">
        <p class="text-gray-700">
          <%= numero_esercizio_badge(14) %> Il perimetro di un campo da calcio misura 390 m. Sapendo che la lunghezza del campo è 115 m, quanto misura la larghezza? Durante l'allenamento i giocatori percorrono 25 giri di campo al giorno. Quanti chilometri percorrono in una settimana?
        </p>
        <div class="flex items-center gap-2 justify-end">
          <span class="text-gray-700">larghezza =</span>
          <input type="text" data-correct-answer="80" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          <span class="text-gray-700">m</span>
          <span class="text-gray-700 ml-2">km =</span>
          <input type="text" data-correct-answer="68,25" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
        </div>
      </div>
    </div>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
