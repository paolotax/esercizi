<div class="max-w-6xl mx-auto bg-white dark:bg-gray-900 p-3 md:p-6 transition-colors duration-300"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">

    <!-- Introduzione Grafo -->
    <div class="space-y-4">
      <p class="font-bold text-gray-700 dark:text-gray-200">Osserva il disegno.</p>

      <!-- Grafo famiglia -->
      <div class="flex flex-col md:flex-row items-center justify-center gap-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg">
        <div class="text-center">
          <%= image_tag "nvi4_mat/p150/output-1715932804150_316_288_86_129.png", class: "h-auto dark:bg-white dark:rounded-lg dark:p-2", alt: "Antonio" %>
          <p class="font-bold text-gray-700 dark:text-gray-200 mt-2">ANTONIO</p>
        </div>

        <div class="font-bold text-gray-700 dark:text-gray-200">→</div>

        <div class="text-center">
          <%= image_tag "nvi4_mat/p150/output-1715932804150_535_292_88_119.png", class: "h-auto dark:bg-white dark:rounded-lg dark:p-2", alt: "Giovanni" %>
          <p class="font-bold text-gray-700 dark:text-gray-200 mt-2">GIOVANNI</p>
        </div>

        <div class="font-bold text-gray-700 dark:text-gray-200">→</div>

        <div class="flex flex-col gap-4">
          <div class="flex items-center gap-2">
            <%= image_tag "nvi4_mat/p150/output-1715932804150_799_228_84_80.png", class: "h-auto dark:bg-white dark:rounded-lg dark:p-1", alt: "Adele" %>
            <span class="font-bold text-gray-700 dark:text-gray-200">ADELE</span>
          </div>
          <div class="flex items-center gap-2">
            <%= image_tag "nvi4_mat/p150/output-1715932804150_801_314_76_76.png", class: "h-auto dark:bg-white dark:rounded-lg dark:p-1", alt: "Luca" %>
            <span class="font-bold text-gray-700 dark:text-gray-200">LUCA</span>
          </div>
          <div class="flex items-center gap-2">
            <%= image_tag "nvi4_mat/p150/output-1715932804150_818_392_77_97.png", class: "h-auto dark:bg-white dark:rounded-lg dark:p-1", alt: "Sara" %>
            <span class="font-bold text-gray-700 dark:text-gray-200">SARA</span>
          </div>
        </div>
      </div>

      <!-- Spiegazione -->
      <div class="text-gray-700 dark:text-gray-200 space-y-3">
        <p>Questo disegno si chiama <span class="font-bold">grafo</span> ed è uno "schema di collegamento" fatto di punti e di "frecce" (cioè linee con una punta) che congiungono i punti.</p>

        <p>Quando due punti sono collegati da una freccia, tale freccia indica una <span class="font-bold">relazione</span> che c'è tra i due punti. Nel disegno, la freccia rappresenta la relazione "<span class="font-bold">è padre di…</span>".</p>

        <p>Il grafo sopra disegnato ci dà quindi le seguenti informazioni:</p>

        <div class="p-3 bg-pink-light dark:bg-pink-900/40 rounded-2xl">
          <p>Antonio è padre di Giovanni;</p>
          <p>Giovanni è padre di Adele, Giovanni è padre di Luca, Giovanni è padre di Sara.</p>
        </div>
      </div>
    </div>

    <!-- Esercizio con grafo numeri -->
    <div class="space-y-4">
      <p class="font-bold text-gray-700 dark:text-gray-200">Osserva ora questo grafo:</p>

      <div class="flex justify-center">
        <%= image_tag "nvi4_mat/p150/output-1715932804150_482_784_348_286.png", class: "h-auto dark:bg-white dark:rounded-lg dark:p-2", alt: "Grafo con numeri" %>
      </div>
    </div>

    <!-- Container ESERCIZI -->
    <div class="p-4 md:p-6 bg-orange-100 dark:bg-orange-900/30 rounded-2xl space-y-6">

      <div class="space-y-4">
        <p class="font-bold text-gray-700 dark:text-gray-200">Quale può essere il significato delle frecce?</p>
        <textarea class="w-full p-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 dark:text-white resize-none" rows="2" placeholder="Scrivi il significato..."></textarea>
      </div>

      <div class="space-y-4">
        <p class="font-bold text-gray-700 dark:text-gray-200">Per ogni freccia che collega due numeri, disegnane ora un'altra di colore rosso con verso contrario.</p>
        <p class="text-gray-700 dark:text-gray-200">Secondo te qual è adesso il significato delle frecce rosse?</p>
        <textarea class="w-full p-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 dark:text-white resize-none" rows="2" placeholder="Scrivi il significato delle frecce rosse..."></textarea>
      </div>

    </div>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
