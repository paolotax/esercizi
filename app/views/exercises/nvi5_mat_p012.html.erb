<div class="max-w-6xl mx-auto p-3 md:p-6"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">   <%= render 'shared/page_header', pagina: @pagina %>
  <div class="space-y-6">     <!-- Introduzione unificata -->
    <div class="p-4 p-6">       
      <p class=" text-gray-800 leading-relaxed mb-6">
        Gli antichi Romani usavano un sistema di numerazione diverso dal nostro: usavano
        <span class="text-blue-600 font-bold">7 simboli</span> (7 lettere dell'alfabeto),
        e con questi simboli componevano tutti i numeri. I simboli mantengono lo stesso valore
        qualunque sia la posizione che occupano.
      </p>
      <!-- Tabella dei simboli -->
      <div class="overflow-x- mb-6">         
        <table class="full text-center">
          <thead>
            <tr class="bg-purple-400 text-white">
              <th class="py-4 px-4  font-bold border-r border-purple-300">I</th>
              <th class="py-4 px-4  font-bold border-r border-purple-300">V</th>
              <th class="py-4 px-4  font-bold border-r border-purple-300">X</th>
              <th class="py-4 px-4  font-bold border-r border-purple-300">L</th>
              <th class="py-4 px-4  font-bold border-r border-purple-300">C</th>
              <th class="py-4 px-4  font-bold border-r border-purple-300">D</th>
              <th class="py-4 px-4  font-bold">M</th>
            </tr>
          </thead>
          <tbody>
            <tr class="bg-purple-100">
              <td class="py-4 px-4  font-bold text-blue-600 border-r border-purple-200">1</td>
              <td class="py-4 px-4  font-bold text-blue-600 border-r border-purple-200">5</td>
              <td class="py-4 px-4  font-bold text-blue-600 border-r border-purple-200">10</td>
              <td class="py-4 px-4  font-bold text-blue-600 border-r border-purple-200">50</td>
              <td class="py-4 px-4  font-bold text-blue-600 border-r border-purple-200">100</td>
              <td class="py-4 px-4  font-bold text-blue-600 border-r border-purple-200">500</td>
              <td class="py-4 px-4  font-bold text-blue-600">1000</td>
            </tr>
          </tbody>
        </table>
      </div>
      <p class=" text-gray-800">
        Il sistema di numerazione romana si basa sull'addizione e sulla sottrazione e ha precise <span class="font-bold text-blue-600">regole</span>. Vediamole insieme.
      </p>
    </div>
    <!-- Regola 1: Lettura -->
    <div class="p-4 p-6">       
      <h3 class=" font-bold text-blue-600 mb-3 flex items-center gap-3">
        <span class="bg-blue-500 text-white rounded-full   flex items-center justify-center ">▶</span>
        <span>I simboli si scrivono e si leggono da sinistra a destra:</span>
      </h3>
      <div class="grid grid-cols-1 grid-cols-4 gap-4 mt-4">  
        <div class="p-4 text-center">  
          <div class=" font-bold text-blue-600 mb-2">XI = 11</div>
         </div>
        <div class="p-4 text-center">  
          <div class=" font-bold text-blue-600 mb-2">LX = 60</div>
         </div>
        <div class="p-4 text-center">  
          <div class=" font-bold text-blue-600 mb-2">CL = 150</div>
         </div>
        <div class="p-4 text-center">  
          <div class=" font-bold text-blue-600 mb-2">MD = 1500</div>
         </div>
      </div>
    </div>
    <!-- Regola 2: ADDIZIONE -->
    <div class="p-4 p-6">       
      <h3 class=" font-bold text-blue-700 mb-3 flex items-center gap-3">
        <span class="bg-blue-500 text-white rounded-full   flex items-center justify-center ">▶</span>
        <span>
          ADDIZIONE
          <span class=" font-normal text-gray-600 ml-2">Se il primo simbolo vale di più o è uguale al secondo, si fa la <span class="font-bold">somma</span> dei 2 simboli:</span>
        </span>
      </h3>
      <div class="grid grid-cols-1 grid-cols-2 gap-3 mt-4">  
        <div class="p-4">  
          <div class=" flex items-center gap-2 flex-wrap">             <span class="font-bold text-blue-700">VI</span>
            <span class="text-gray-600">→ V + I = 5 + 1 = </span>
            <span class="font-bold text-blue-700">6</span>
          </div>
        </div>
        <div class="p-4">  
          <div class=" flex items-center gap-2 flex-wrap">             <span class="font-bold text-blue-700">XVII</span>
            <span class="text-gray-600">→ X + V + I + I = </span>
            <input type="text" class=" px-3 py-2 border-2 border-blue-300  focus:border-blue-500 focus:outline-none font-bold text-blue-700" data-correct-answer="17">
          </div>
        </div>
        <div class="p-4">  
          <div class=" flex items-center gap-2 flex-wrap">             <span class="font-bold text-blue-700">XI</span>
            <span class="text-gray-600">→ X + I = </span>
            <input type="text" class=" px-3 py-2 border-2 border-blue-300  focus:border-blue-500 focus:outline-none font-bold text-blue-700" data-correct-answer="11">
          </div>
        </div>
        <div class="p-4">  
          <div class=" flex items-center gap-2 flex-wrap">             <span class="font-bold text-blue-700">XXIII</span>
            <span class="text-gray-600">→ </span>
            <input type="text" class=" px-3 py-2 border-2 border-blue-300  focus:border-blue-500 focus:outline-none font-bold text-blue-700" data-correct-answer="23">
          </div>
        </div>
      </div>
    </div>
    <!-- Regola 3: SOTTRAZIONE -->
    <div class="p-4 p-6">       
      <h3 class=" font-bold text-red-700 mb-3 flex items-center gap-3">
        <span class="bg-red-500 text-white rounded-full   flex items-center justify-center ">▶</span>
        <span>
          SOTTRAZIONE
          <span class=" font-normal text-gray-600 ml-2">Se il primo simbolo vale meno del secondo, si fa la <span class="font-bold">sottrazione</span>:</span>
        </span>
      </h3>
      <div class="grid grid-cols-1 grid-cols-2 gap-3 mt-4">  
        <div class="p-4">  
          <div class=" flex items-center gap-2 flex-wrap">             <span class="font-bold text-red-700">IV</span>
            <span class="text-gray-600">→ V - I = 5 - 1 = </span>
            <span class="font-bold text-red-700">4</span>
          </div>
        </div>
        <div class="p-4">  
          <div class=" flex items-center gap-2 flex-wrap">             <span class="font-bold text-red-700">XL</span>
            <span class="text-gray-600">→ L - X = </span>
            <input type="text" class=" px-3 py-2 border-2 border-red-300  focus:border-red-500 focus:outline-none font-bold text-red-700" data-correct-answer="40">
          </div>
        </div>
        <div class="p-4">  
          <div class=" flex items-center gap-2 flex-wrap">             <span class="font-bold text-red-700">XC</span>
            <span class="text-gray-600">→ C - X = </span>
            <input type="text" class=" px-3 py-2 border-2 border-red-300  focus:border-red-500 focus:outline-none font-bold text-red-700" data-correct-answer="90">
          </div>
        </div>
        <div class="p-4">  
          <div class=" flex items-center gap-2 flex-wrap">             <span class="font-bold text-red-700">CM</span>
            <span class="text-gray-600">→ </span>
            <input type="text" class=" px-3 py-2 border-2 border-red-300  focus:border-red-500 focus:outline-none font-bold text-red-700" data-correct-answer="900">
          </div>
        </div>
      </div>
    </div>
    <!-- Regola 4: ADDIZIONE E SOTTRAZIONE -->
    <div class="p-4 p-6">       
      <h3 class=" font-bold text-green-700 mb-3 flex items-center gap-3">
        <span class="bg-green-500 text-white rounded-full   flex items-center justify-center ">▶</span>
        <span>
          ADDIZIONE E SOTTRAZIONE
          <span class=" font-normal text-gray-600 ml-2">Alcuni numeri infine si formano unendo addizioni e sottrazioni.</span>
        </span>
      </h3>
      <div class="space-y-3 mt-4">  
        <div class="p-4">  
          <div class=" flex items-center gap-2 flex-wrap">             <span class="font-bold text-green-700">XXIV</span>
            <span class="text-gray-600">→ X + X + (V - I) = 10 + 10 + (5 - 1) = </span>
            <span class="font-bold text-green-700">24</span>
          </div>
        </div>
        <div class="p-4">  
          <div class=" flex items-center gap-2 flex-wrap">             <span class="font-bold text-green-700">XLVIII</span>
            <span class="text-gray-600">→ </span>
            <input type="text" class=" px-3 py-2 border-2 border-green-300  focus:border-green-500 focus:outline-none font-bold text-green-700" data-correct-answer="48">
          </div>
        </div>
        <div class="p-4">  
          <div class=" flex items-center gap-2 flex-wrap">             <span class="font-bold text-green-700">CIX</span>
            <span class="text-gray-600">→ </span>
            <input type="text" class=" px-3 py-2 border-2 border-green-300  focus:border-green-500 focus:outline-none font-bold text-green-700" data-correct-answer="109">
          </div>
        </div>
      </div>
    </div>
    <!-- Regola 5: Ripetizione massimo 3 volte -->
    <div class="p-4 p-6">       
      <h3 class=" font-bold text-orange-700 mb-3 flex items-center gap-3">
        <span class="bg-orange-500 text-white rounded-full   flex items-center justify-center ">▶</span>
        <span>I simboli <span class="text-orange-600">I</span>, <span class="text-orange-600">X</span>, <span class="text-orange-600">C</span> e <span class="text-orange-600">M</span> possono essere scritti al massimo 3 volte di seguito all'interno di un numero.</span>
      </h3>
      <div class="p-4 mt-4">         
        <p class=" text-gray-800">
          Così, per esempio <span class="font-bold text-orange-700">4</span> si scrive <span class="font-bold text-orange-700">IV</span> e non <span class="line-through text-red-600">IIII</span>.
        </p>
      </div>
    </div>
    <!-- Regola 6: Ripetizione una volta sola -->
    <div class="p-4 p-6">       
      <h3 class=" font-bold text-blue-600 mb-3 flex items-center gap-3">
        <span class="bg-blue-500 text-white rounded-full   flex items-center justify-center ">▶</span>
        <span>I simboli <span class="text-blue-600">V</span>, <span class="text-blue-600">L</span> e <span class="text-blue-600">D</span> possono essere scritti solo una volta:</span>
      </h3>
      <div class="p-4 mt-4">         
        <p class=" text-gray-800">
          <span class="font-bold text-blue-600">15</span> si scrive <span class="font-bold text-blue-600">XV</span> e non <span class="line-through text-red-600">VVV</span>.
        </p>
      </div>
    </div>
    <!-- Exercise Controls -->
    <%= render 'shared/exercise_controls', color: 'purple', current_page: 'nvi5_mat_p012' %>
  </div>
</div>
