<div class="max-w-6xl mx-auto bg-white dark:bg-gray-900 text-black dark:text-white p-3 md:p-6 transition-colors duration-300"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <!-- Esercizio 5: Pronome personale soggetto sottinteso -->
  <div class="mb-6 bg-<%= @pagina.base_color %>-50 dark:bg-<%= @pagina.base_color %>-900/30 rounded-lg p-4 md:p-6" data-controller="fill-blanks">
    <h2 class="font-bold text-gray-700 dark:text-gray-200 mb-3">
      <div class="flex items-center gap-2 flex-wrap">
        <span class="flex-shrink-0 bg-<%= @pagina.base_color %>-500 text-white rounded-full w-8 h-8 md:w-10 md:h-10 inline-flex items-center justify-center font-bold">5</span>
        <span>Per ciascuna frase scrivi il <span class="text-blue-600 dark:text-blue-400 font-bold">pronome personale</span> che corrisponde al soggetto sottinteso.</span>
      </div>
    </h2>

    <div class="overflow-x-auto">
      <table class="w-full border-collapse">
        <thead>
          <tr class="bg-<%= @pagina.base_color %>-100 dark:bg-<%= @pagina.base_color %>-900/40">
            <th class="border-2 border-<%= @pagina.base_color %>-300 dark:border-<%= @pagina.base_color %>-600 px-4 py-3 text-left font-bold text-gray-700 dark:text-gray-200">Frase</th>
            <th class="border-2 border-<%= @pagina.base_color %>-300 dark:border-<%= @pagina.base_color %>-600 px-4 py-3 text-center font-bold text-gray-700 dark:text-gray-200">Soggetto sottinteso</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="border-2 border-gray-200 dark:border-gray-600 px-4 py-3 bg-white dark:bg-gray-800">Venite a casa subito!</td>
            <td class="border-2 border-gray-200 dark:border-gray-600 px-4 py-3 bg-gray-50 dark:bg-gray-700 text-center">
              <input type="text"
                     class="border-b-2 border-dotted border-<%= @pagina.base_color %>-500 dark:border-<%= @pagina.base_color %>-400 bg-transparent dark:text-white focus:outline-none focus:border-<%= @pagina.base_color %>-600 px-2 py-1 w-24 text-center"
                     data-fill-blanks-target="input"
                     data-correct-answer="voi"
                     placeholder="">
            </td>
          </tr>
          <tr>
            <td class="border-2 border-gray-200 dark:border-gray-600 px-4 py-3 bg-white dark:bg-gray-800">Prendo qualche panino e una bibita?</td>
            <td class="border-2 border-gray-200 dark:border-gray-600 px-4 py-3 bg-gray-50 dark:bg-gray-700 text-center">
              <input type="text"
                     class="border-b-2 border-dotted border-<%= @pagina.base_color %>-500 dark:border-<%= @pagina.base_color %>-400 bg-transparent dark:text-white focus:outline-none focus:border-<%= @pagina.base_color %>-600 px-2 py-1 w-24 text-center"
                     data-fill-blanks-target="input"
                     data-correct-answer="io"
                     placeholder="">
            </td>
          </tr>
          <tr>
            <td class="border-2 border-gray-200 dark:border-gray-600 px-4 py-3 bg-white dark:bg-gray-800">Hai studiato la lezione per domani?</td>
            <td class="border-2 border-gray-200 dark:border-gray-600 px-4 py-3 bg-gray-50 dark:bg-gray-700 text-center">
              <input type="text"
                     class="border-b-2 border-dotted border-<%= @pagina.base_color %>-500 dark:border-<%= @pagina.base_color %>-400 bg-transparent dark:text-white focus:outline-none focus:border-<%= @pagina.base_color %>-600 px-2 py-1 w-24 text-center"
                     data-fill-blanks-target="input"
                     data-correct-answer="tu"
                     placeholder="">
            </td>
          </tr>
          <tr>
            <td class="border-2 border-gray-200 dark:border-gray-600 px-4 py-3 bg-white dark:bg-gray-800">Sono molto spaventati da te.</td>
            <td class="border-2 border-gray-200 dark:border-gray-600 px-4 py-3 bg-gray-50 dark:bg-gray-700 text-center">
              <input type="text"
                     class="border-b-2 border-dotted border-<%= @pagina.base_color %>-500 dark:border-<%= @pagina.base_color %>-400 bg-transparent dark:text-white focus:outline-none focus:border-<%= @pagina.base_color %>-600 px-2 py-1 w-24 text-center"
                     data-fill-blanks-target="input"
                     data-correct-answer="essi/loro"
                     placeholder="">
            </td>
          </tr>
          <tr>
            <td class="border-2 border-gray-200 dark:border-gray-600 px-4 py-3 bg-white dark:bg-gray-800">Danza sempre con grazia.</td>
            <td class="border-2 border-gray-200 dark:border-gray-600 px-4 py-3 bg-gray-50 dark:bg-gray-700 text-center">
              <input type="text"
                     class="border-b-2 border-dotted border-<%= @pagina.base_color %>-500 dark:border-<%= @pagina.base_color %>-400 bg-transparent dark:text-white focus:outline-none focus:border-<%= @pagina.base_color %>-600 px-2 py-1 w-24 text-center"
                     data-fill-blanks-target="input"
                     data-correct-answer="egli/ella/lui/lei"
                     placeholder="">
            </td>
          </tr>
          <tr>
            <td class="border-2 border-gray-200 dark:border-gray-600 px-4 py-3 bg-white dark:bg-gray-800">Guarda la!</td>
            <td class="border-2 border-gray-200 dark:border-gray-600 px-4 py-3 bg-gray-50 dark:bg-gray-700 text-center">
              <input type="text"
                     class="border-b-2 border-dotted border-<%= @pagina.base_color %>-500 dark:border-<%= @pagina.base_color %>-400 bg-transparent dark:text-white focus:outline-none focus:border-<%= @pagina.base_color %>-600 px-2 py-1 w-24 text-center"
                     data-fill-blanks-target="input"
                     data-correct-answer="tu"
                     placeholder="">
            </td>
          </tr>
          <tr>
            <td class="border-2 border-gray-200 dark:border-gray-600 px-4 py-3 bg-white dark:bg-gray-800">Arrivera.</td>
            <td class="border-2 border-gray-200 dark:border-gray-600 px-4 py-3 bg-gray-50 dark:bg-gray-700 text-center">
              <input type="text"
                     class="border-b-2 border-dotted border-<%= @pagina.base_color %>-500 dark:border-<%= @pagina.base_color %>-400 bg-transparent dark:text-white focus:outline-none focus:border-<%= @pagina.base_color %>-600 px-2 py-1 w-24 text-center"
                     data-fill-blanks-target="input"
                     data-correct-answer="egli/ella/lui/lei"
                     placeholder="">
            </td>
          </tr>
          <tr>
            <td class="border-2 border-gray-200 dark:border-gray-600 px-4 py-3 bg-white dark:bg-gray-800">Alla sera leggi ancora fino a tardi?</td>
            <td class="border-2 border-gray-200 dark:border-gray-600 px-4 py-3 bg-gray-50 dark:bg-gray-700 text-center">
              <input type="text"
                     class="border-b-2 border-dotted border-<%= @pagina.base_color %>-500 dark:border-<%= @pagina.base_color %>-400 bg-transparent dark:text-white focus:outline-none focus:border-<%= @pagina.base_color %>-600 px-2 py-1 w-24 text-center"
                     data-fill-blanks-target="input"
                     data-correct-answer="tu"
                     placeholder="">
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Esercizio 6: Completa le frasi -->
  <div class="mb-6 bg-<%= @pagina.base_color %>-50 dark:bg-<%= @pagina.base_color %>-900/30 rounded-lg p-4 md:p-6" data-controller="fill-blanks">
    <h2 class="font-bold text-gray-700 dark:text-gray-200 mb-3">
      <div class="flex items-center gap-2 flex-wrap">
        <span class="flex-shrink-0 bg-<%= @pagina.base_color %>-500 text-white rounded-full w-8 h-8 md:w-10 md:h-10 inline-flex items-center justify-center font-bold">6</span>
        <span>Per ogni frase scrivi un complemento che la completi.</span>
      </div>
    </h2>

    <div class="space-y-3">
      <div class="bg-white dark:bg-gray-800 rounded-lg p-4">
        <div class="flex items-center gap-2 flex-wrap">
          <span class="text-gray-700 dark:text-gray-200">• Elisa ha dimenticato</span>
          <input type="text"
                 class="border-b-2 border-dotted border-<%= @pagina.base_color %>-500 dark:border-<%= @pagina.base_color %>-400 bg-transparent dark:text-white focus:outline-none focus:border-<%= @pagina.base_color %>-600 px-2 py-1 flex-1 min-w-[200px]"
                 data-fill-blanks-target="input"
                 data-correct-answer="libera"
                 placeholder="">
        </div>
      </div>

      <div class="bg-white dark:bg-gray-800 rounded-lg p-4">
        <div class="flex items-center gap-2 flex-wrap">
          <span class="text-gray-700 dark:text-gray-200">• Tommaso ha scritto un messaggio</span>
          <input type="text"
                 class="border-b-2 border-dotted border-<%= @pagina.base_color %>-500 dark:border-<%= @pagina.base_color %>-400 bg-transparent dark:text-white focus:outline-none focus:border-<%= @pagina.base_color %>-600 px-2 py-1 flex-1 min-w-[200px]"
                 data-fill-blanks-target="input"
                 data-correct-answer="libera"
                 placeholder="">
        </div>
      </div>

      <div class="bg-white dark:bg-gray-800 rounded-lg p-4">
        <div class="flex items-center gap-2 flex-wrap">
          <span class="text-gray-700 dark:text-gray-200">• Eleonora ha messo nell'astuccio</span>
          <input type="text"
                 class="border-b-2 border-dotted border-<%= @pagina.base_color %>-500 dark:border-<%= @pagina.base_color %>-400 bg-transparent dark:text-white focus:outline-none focus:border-<%= @pagina.base_color %>-600 px-2 py-1 flex-1 min-w-[200px]"
                 data-fill-blanks-target="input"
                 data-correct-answer="libera"
                 placeholder="">
        </div>
      </div>

      <div class="bg-white dark:bg-gray-800 rounded-lg p-4">
        <div class="flex items-center gap-2 flex-wrap">
          <span class="text-gray-700 dark:text-gray-200">• Andiamo a piedi</span>
          <input type="text"
                 class="border-b-2 border-dotted border-<%= @pagina.base_color %>-500 dark:border-<%= @pagina.base_color %>-400 bg-transparent dark:text-white focus:outline-none focus:border-<%= @pagina.base_color %>-600 px-2 py-1 flex-1 min-w-[200px]"
                 data-fill-blanks-target="input"
                 data-correct-answer="libera"
                 placeholder="">
        </div>
      </div>

      <div class="bg-white dark:bg-gray-800 rounded-lg p-4">
        <div class="flex items-center gap-2 flex-wrap">
          <span class="text-gray-700 dark:text-gray-200">• Veniamo</span>
          <input type="text"
                 class="border-b-2 border-dotted border-<%= @pagina.base_color %>-500 dark:border-<%= @pagina.base_color %>-400 bg-transparent dark:text-white focus:outline-none focus:border-<%= @pagina.base_color %>-600 px-2 py-1 flex-1 min-w-[200px]"
                 data-fill-blanks-target="input"
                 data-correct-answer="libera"
                 placeholder="">
        </div>
      </div>
    </div>
  </div>

  <!-- Esercizio 7: Struttura della frase -->
  <div class="mb-6 bg-<%= @pagina.base_color %>-50 dark:bg-<%= @pagina.base_color %>-900/30 rounded-lg p-4 md:p-6" data-controller="multiple-choice">
    <h2 class="font-bold text-gray-700 dark:text-gray-200 mb-3">
      <div class="flex items-center gap-2 flex-wrap">
        <span class="flex-shrink-0 bg-<%= @pagina.base_color %>-500 text-white rounded-full w-8 h-8 md:w-10 md:h-10 inline-flex items-center justify-center font-bold">7</span>
        <span>Osserva la struttura della seguente frase.</span>
      </div>
    </h2>

    <div class="bg-<%= @pagina.base_color %>-100 dark:bg-<%= @pagina.base_color %>-900/40 rounded-lg p-4 mb-4">
      <p class="font-bold text-center text-gray-700 dark:text-gray-200">"Simone ha rivelato un segreto ad Andrea."</p>
    </div>

    <p class="font-bold text-gray-700 dark:text-gray-200 mb-3">Quale frase ha la stessa struttura?</p>

    <div class="space-y-3">
      <label class="flex items-start gap-3 p-3 bg-white dark:bg-gray-800 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition">
        <div class="flex items-center gap-2">
          <span class="font-bold text-gray-700 dark:text-gray-200">A.</span>
          <input type="radio"
                 name="question7"
                 data-multiple-choice-target="answer"
                 data-correct-answer="true"
                 class="w-5 h-5">
        </div>
        <span class="">Gabriele parla di nascosto con Pietro.</span>
      </label>

      <label class="flex items-start gap-3 p-3 bg-white dark:bg-gray-800 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition">
        <div class="flex items-center gap-2">
          <span class="font-bold text-gray-700 dark:text-gray-200">B.</span>
          <input type="radio"
                 name="question7"
                 data-multiple-choice-target="answer"
                 data-correct-answer="false"
                 class="w-5 h-5">
        </div>
        <span class="">Tu pensi spesso a voce alta.</span>
      </label>

      <label class="flex items-start gap-3 p-3 bg-white dark:bg-gray-800 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition">
        <div class="flex items-center gap-2">
          <span class="font-bold text-gray-700 dark:text-gray-200">C.</span>
          <input type="radio"
                 name="question7"
                 data-multiple-choice-target="answer"
                 data-correct-answer="false"
                 class="w-5 h-5">
        </div>
        <span class="">I Rossi portano troppe cose al mare.</span>
      </label>

      <label class="flex items-start gap-3 p-3 bg-white dark:bg-gray-800 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition">
        <div class="flex items-center gap-2">
          <span class="font-bold text-gray-700 dark:text-gray-200">D.</span>
          <input type="radio"
                 name="question7"
                 data-multiple-choice-target="answer"
                 data-correct-answer="false"
                 class="w-5 h-5">
        </div>
        <span class="">Io inviero una cartolina a voi.</span>
      </label>
    </div>
  </div>

  <!-- Esercizio 8: Frase complessa con piu frasi semplici -->
  <div class="mb-6 bg-<%= @pagina.base_color %>-50 dark:bg-<%= @pagina.base_color %>-900/30 rounded-lg p-4 md:p-6" data-controller="multiple-choice">
    <h2 class="font-bold text-gray-700 dark:text-gray-200 mb-3">
      <div class="flex items-center gap-2 flex-wrap">
        <span class="flex-shrink-0 bg-<%= @pagina.base_color %>-500 text-white rounded-full w-8 h-8 md:w-10 md:h-10 inline-flex items-center justify-center font-bold">8</span>
        <span>Quale delle seguenti frasi complesse e formata da piu di due frasi semplici?</span>
      </div>
    </h2>

    <div class="space-y-3">
      <label class="flex items-start gap-3 p-3 bg-white dark:bg-gray-800 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition">
        <div class="flex items-center gap-2">
          <span class="font-bold text-gray-700 dark:text-gray-200">A.</span>
          <input type="radio"
                 name="question8"
                 data-multiple-choice-target="answer"
                 data-correct-answer="false"
                 class="w-5 h-5">
        </div>
        <span class="">La mia insegnante di danza si chiama Mirta ed e molto giovane.</span>
      </label>

      <label class="flex items-start gap-3 p-3 bg-white dark:bg-gray-800 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition">
        <div class="flex items-center gap-2">
          <span class="font-bold text-gray-700 dark:text-gray-200">B.</span>
          <input type="radio"
                 name="question8"
                 data-multiple-choice-target="answer"
                 data-correct-answer="true"
                 class="w-5 h-5">
        </div>
        <span class="">Ti ho detto che ti avrei accompagnata e lo faro.</span>
      </label>

      <label class="flex items-start gap-3 p-3 bg-white dark:bg-gray-800 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition">
        <div class="flex items-center gap-2">
          <span class="font-bold text-gray-700 dark:text-gray-200">C.</span>
          <input type="radio"
                 name="question8"
                 data-multiple-choice-target="answer"
                 data-correct-answer="false"
                 class="w-5 h-5">
        </div>
        <span class="">Leggi tutto quello che e scritto nelle istruzioni del televisore.</span>
      </label>

      <label class="flex items-start gap-3 p-3 bg-white dark:bg-gray-800 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition">
        <div class="flex items-center gap-2">
          <span class="font-bold text-gray-700 dark:text-gray-200">D.</span>
          <input type="radio"
                 name="question8"
                 data-multiple-choice-target="answer"
                 data-correct-answer="false"
                 class="w-5 h-5">
        </div>
        <span class="">Ho prenotato le vacanze, ma non ci andro.</span>
      </label>
    </div>
  </div>

  <%= render 'shared/exercise_controls' %>
</div>
