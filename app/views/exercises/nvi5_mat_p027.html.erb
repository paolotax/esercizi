<div class="max-w-6xl mx-auto bg-white p-3 md:p-6"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">
    <!-- MODELLO INVALSI -->
    <div class="p-4 md:p-6 bg-purple-100 rounded-lg">
      <div class="flex items-center justify-between mb-4">
        <span class="bg-purple-600 text-white px-4 py-2 rounded font-bold">MODELLO INVALSI</span>
        <h2 class="font-bold text-purple-700 text-xl">I NUMERI</h2>
      </div>
      <p class="text-gray-700 mb-6 font-bold">Segna con una X le risposte corrette.</p>

      <div class="grid grid-cols-1 md:grid-cols-2 divide-y-2 md:divide-y-0 md:divide-x-2 divide-pink-400">
        <!-- COLONNA SINISTRA (1-6) -->
        <div class="p-4 space-y-6">
          <!-- Domanda 1 -->
          <div>
            <p class="font-bold text-gray-800 mb-3">
              <%= numero_esercizio_badge(1, colore: "purple-500") %>
              Qual è la cifra delle decine di milioni nel numero <span class="text-cyan-500">657 324 791</span>?
            </p>
            <div class="grid grid-cols-2 gap-2 ml-10">
              <% [
                { text: "La cifra 6.", correct: false },
                { text: "La cifra 5.", correct: true },
                { text: "La cifra 7.", correct: false },
                { text: "La cifra 3.", correct: false }
              ].each_with_index do |opt, idx| %>
                <label class="cursor-pointer flex items-center gap-2 hover:bg-purple-200 transition px-2 py-1 rounded">
                  <input type="checkbox" name="q1" data-correct-answer="<%= opt[:correct] %>">
                  <span class="text-gray-700"><%= opt[:text] %></span>
                </label>
              <% end %>
            </div>
          </div>

          <!-- Domanda 2 -->
          <div>
            <p class="font-bold text-gray-800 mb-3">
              <%= numero_esercizio_badge(2, colore: "purple-500") %>
              Quale numero è formato da: <span class="text-cyan-500">102 uM + 65 uk + 12 da + 15 u</span>?
            </p>
            <div class="grid grid-cols-2 gap-2 ml-10">
              <% [
                { text: "102 065 153", correct: false },
                { text: "12 065 135", correct: false },
                { text: "102 651 225", correct: false },
                { text: "102 065 135", correct: true }
              ].each_with_index do |opt, idx| %>
                <label class="cursor-pointer flex items-center gap-2 hover:bg-purple-200 transition px-2 py-1 rounded">
                  <input type="checkbox" name="q2" data-correct-answer="<%= opt[:correct] %>">
                  <span class="text-gray-700"><%= opt[:text] %></span>
                </label>
              <% end %>
            </div>
          </div>

          <!-- Domanda 3 -->
          <div>
            <p class="font-bold text-gray-800 mb-3">
              <%= numero_esercizio_badge(3, colore: "purple-500") %>
              Quale numero è formato da <span class="text-cyan-500">60 unità e 74 millesimi</span>?
            </p>
            <div class="grid grid-cols-2 gap-2 ml-10">
              <% [
                { text: "60,74", correct: false },
                { text: "60,074", correct: true },
                { text: "600,74", correct: false },
                { text: "6,074", correct: false }
              ].each_with_index do |opt, idx| %>
                <label class="cursor-pointer flex items-center gap-2 hover:bg-purple-200 transition px-2 py-1 rounded">
                  <input type="checkbox" name="q3" data-correct-answer="<%= opt[:correct] %>">
                  <span class="text-gray-700"><%= opt[:text] %></span>
                </label>
              <% end %>
            </div>
          </div>

          <!-- Domanda 4 -->
          <div>
            <p class="font-bold text-gray-800 mb-3">
              <%= numero_esercizio_badge(4, colore: "purple-500") %>
              Quale delle seguenti uguaglianze <span class="text-red-600">non</span> è corretta?
            </p>
            <div class="space-y-1 ml-10">
              <% [
                { text: "50 decimi = 5 unità", correct: false },
                { text: "6 millesimi = 0,6 centesimi", correct: true },
                { text: "20 decine = 20 000 millesimi", correct: false },
                { text: "7 000 millesimi = 7 unità", correct: false }
              ].each_with_index do |opt, idx| %>
                <label class="cursor-pointer flex items-center gap-2 hover:bg-purple-200 transition px-2 py-1 rounded">
                  <input type="checkbox" name="q4" data-correct-answer="<%= opt[:correct] %>">
                  <span class="text-gray-700"><%= opt[:text] %></span>
                </label>
              <% end %>
            </div>
          </div>

          <!-- Domanda 5 -->
          <div>
            <p class="font-bold text-gray-800 mb-2">
              <%= numero_esercizio_badge(5, colore: "purple-500") %>
              L'insegnante ha chiesto di arrotondare ai decimi il numero <span class="text-cyan-500">12,28</span>. Luca, Martina, Giorgio e Manuela danno quattro risposte diverse.
            </p>
            <div class="ml-10 mb-3 text-gray-700">
              <p>Luca ha scritto: 12,5.</p>
              <p>Martina ha scritto: 12,2.</p>
              <p>Giorgio ha scritto: 12,3.</p>
              <p>Manuela ha scritto: 12.</p>
            </div>
            <p class="font-bold text-gray-800 mb-2 ml-10">Chi ha dato la risposta corretta?</p>
            <div class="grid grid-cols-4 gap-2 ml-10">
              <% ["Luca", "Martina", "Giorgio", "Manuela"].each_with_index do |name, idx| %>
                <label class="cursor-pointer flex items-center gap-2 hover:bg-purple-200 transition px-2 py-1 rounded">
                  <input type="checkbox" name="q5" data-correct-answer="<%= idx == 2 %>">
                  <span class="text-gray-700"><%= name %></span>
                </label>
              <% end %>
            </div>
          </div>

          <!-- Domanda 6 -->
          <div>
            <p class="font-bold text-gray-800 mb-3">
              <%= numero_esercizio_badge(6, colore: "purple-500") %>
              Nell'armadio di José ci sono 2 cassetti, ognuno dei quali ha 2 scomparti. Ogni scomparto contiene 2 paia di calzini. Quanti calzini in tutto?
            </p>
            <div class="grid grid-cols-4 gap-2 ml-10">
              <% [
                { text: "6", correct: false },
                { text: "8", correct: false },
                { text: "12", correct: false },
                { text: "16", correct: true }
              ].each do |opt| %>
                <label class="cursor-pointer flex items-center gap-2 hover:bg-purple-200 transition px-2 py-1 rounded">
                  <input type="checkbox" name="q6" data-correct-answer="<%= opt[:correct] %>">
                  <span class="text-gray-700"><%= opt[:text] %></span>
                </label>
              <% end %>
            </div>
          </div>
        </div>

        <!-- COLONNA DESTRA (7-12) -->
        <div class="p-4 space-y-6">
          <!-- Domanda 7 -->
          <div>
            <p class="font-bold text-gray-800 mb-3">
              <%= numero_esercizio_badge(7, colore: "purple-500") %>
              Quale delle seguenti potenze corrisponde a <span class="text-cyan-500">un milione</span>?
            </p>
            <div class="grid grid-cols-4 gap-2 ml-10">
              <% [
                { text: "10⁵", correct: false },
                { text: "10⁶", correct: true },
                { text: "10⁷", correct: false },
                { text: "10⁸", correct: false }
              ].each do |opt| %>
                <label class="cursor-pointer flex items-center gap-2 hover:bg-purple-200 transition px-2 py-1 rounded">
                  <input type="checkbox" name="q7" data-correct-answer="<%= opt[:correct] %>">
                  <span class="text-gray-700"><%= opt[:text].html_safe %></span>
                </label>
              <% end %>
            </div>
          </div>

          <!-- Domanda 8 -->
          <div>
            <p class="font-bold text-gray-800 mb-3">
              <%= numero_esercizio_badge(8, colore: "purple-500") %>
              In quale caso il numero <span class="text-cyan-500">130 000 000</span> è stato scritto in modo corretto?
            </p>
            <div class="grid grid-cols-2 gap-2 ml-10">
              <% [
                { text: "13 × 10⁵", correct: false },
                { text: "13 × 10⁶", correct: false },
                { text: "13 × 10⁷", correct: true },
                { text: "13 × 10⁸", correct: false }
              ].each do |opt| %>
                <label class="cursor-pointer flex items-center gap-2 hover:bg-purple-200 transition px-2 py-1 rounded">
                  <input type="checkbox" name="q8" data-correct-answer="<%= opt[:correct] %>">
                  <span class="text-gray-700"><%= opt[:text].html_safe %></span>
                </label>
              <% end %>
            </div>
          </div>

          <!-- Domanda 9 -->
          <div>
            <p class="font-bold text-gray-800 mb-3">
              <%= numero_esercizio_badge(9, colore: "purple-500") %>
              Quale tra i seguenti numeri rende vera l'uguaglianza: <span class="text-cyan-500">5 × 100 000 &lt; 5 × ...?</span>
            </p>
            <div class="grid grid-cols-4 gap-2 ml-10">
              <% [
                { text: "10³", correct: false },
                { text: "10⁴", correct: false },
                { text: "10⁵", correct: false },
                { text: "10⁶", correct: true }
              ].each do |opt| %>
                <label class="cursor-pointer flex items-center gap-2 hover:bg-purple-200 transition px-2 py-1 rounded">
                  <input type="checkbox" name="q9" data-correct-answer="<%= opt[:correct] %>">
                  <span class="text-gray-700"><%= opt[:text].html_safe %></span>
                </label>
              <% end %>
            </div>
          </div>

          <!-- Domanda 10 -->
          <div>
            <p class="font-bold text-gray-800 mb-3">
              <%= numero_esercizio_badge(10, colore: "purple-500") %>
              Qual è il risultato di <span class="text-cyan-500">+ 17 – 22</span>?
            </p>
            <div class="grid grid-cols-4 gap-2 ml-10">
              <% [
                { text: "+ 5", correct: false },
                { text: "– 5", correct: true },
                { text: "+ 39", correct: false },
                { text: "– 39", correct: false }
              ].each do |opt| %>
                <label class="cursor-pointer flex items-center gap-2 hover:bg-purple-200 transition px-2 py-1 rounded">
                  <input type="checkbox" name="q10" data-correct-answer="<%= opt[:correct] %>">
                  <span class="text-gray-700"><%= opt[:text] %></span>
                </label>
              <% end %>
            </div>
          </div>

          <!-- Domanda 11 -->
          <div>
            <p class="font-bold text-gray-800 mb-3">
              <%= numero_esercizio_badge(11, colore: "purple-500") %>
              Se a <span class="text-blue-600">+ 5</span> togli <span class="text-cyan-500">11</span> e poi aggiungi <span class="text-cyan-500">2</span>, quale numero ottieni?
            </p>
            <div class="grid grid-cols-4 gap-2 ml-10">
              <% [
                { text: "– 4", correct: true },
                { text: "+ 5", correct: false },
                { text: "– 6", correct: false },
                { text: "– 9", correct: false }
              ].each do |opt| %>
                <label class="cursor-pointer flex items-center gap-2 hover:bg-purple-200 transition px-2 py-1 rounded">
                  <input type="checkbox" name="q11" data-correct-answer="<%= opt[:correct] %>">
                  <span class="text-gray-700"><%= opt[:text] %></span>
                </label>
              <% end %>
            </div>
          </div>

          <!-- Domanda 12 -->
          <div>
            <p class="font-bold text-gray-800 mb-3">
              <%= numero_esercizio_badge(12, colore: "purple-500") %>
              In quale gruppo i numeri sono in <span class="text-cyan-500">ordine crescente</span>?
            </p>
            <div class="space-y-1 ml-10">
              <% [
                { text: "– 6 • – 4 • 0 • + 4 • + 3", correct: false },
                { text: "– 6 • – 7 • 0 • + 3 • + 8", correct: false },
                { text: "– 6 • – 4 • 0 • + 3 • + 8", correct: true },
                { text: "– 4 • – 6 • 0 • + 3 • + 8", correct: false }
              ].each do |opt| %>
                <label class="cursor-pointer flex items-center gap-2 hover:bg-purple-200 transition px-2 py-1 rounded">
                  <input type="checkbox" name="q12" data-correct-answer="<%= opt[:correct] %>">
                  <span class="text-gray-700"><%= opt[:text] %></span>
                </label>
              <% end %>
            </div>
          </div>
        </div>
      </div>
    </div>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
