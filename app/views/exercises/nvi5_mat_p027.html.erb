<div class="max-w-6xl mx-auto p-3 md:p-6"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <!-- Header -->
  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">
    <!-- MODELLO INVALSI -->
    <div class="p-4 md:p-6 bg-purple-100 rounded-lg">
      <div class="flex items-center justify-between mb-6">
        <span class="bg-purple-600 text-white px-4 py-2 rounded font-bold">MODELLO INVALSI</span>
        <h2 class="font-bold text-purple-700">I NUMERI</h2>
      </div>
      <p class="text-gray-700 mb-6 font-bold">Segna con una X le risposte corrette.</p>

      <div class="space-y-6">
        <!-- Domanda 1 -->
        <div class="p-4 bg-white rounded-lg">
          <div class="flex items-start gap-3 mb-4">
            <div class="bg-purple-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">1</div>
            <p class="font-bold text-gray-800">Qual è la cifra delle decine di milioni nel numero <span class="text-cyan-500">657 324 791</span>?</p>
          </div>
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3 ml-11">
            <% [
              { text: "La cifra 6.", correct: false },
              { text: "La cifra 7.", correct: false },
              { text: "La cifra 5.", correct: true },
              { text: "La cifra 3.", correct: false }
            ].each_with_index do |opt, idx| %>
              <label class="cursor-pointer flex items-center gap-2 px-3 py-2 border-2 border-gray-200 rounded-lg hover:border-purple-400 transition">
                <input type="radio" name="q1" data-correct-answer="<%= opt[:correct] %>">
                <span class="text-gray-700"><%= opt[:text] %></span>
              </label>
            <% end %>
          </div>
        </div>

        <!-- Domanda 2 -->
        <div class="p-4 bg-white rounded-lg">
          <div class="flex items-start gap-3 mb-4">
            <div class="bg-purple-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">2</div>
            <p class="font-bold text-gray-800">Quale numero è formato da: <span class="text-cyan-500">102 uM + 65 uk + 12 da + 15 u</span>?</p>
          </div>
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3 ml-11">
            <% [
              { text: "102 065 153", correct: false },
              { text: "102 651 225", correct: false },
              { text: "12 065 135", correct: false },
              { text: "102 065 135", correct: true }
            ].each_with_index do |opt, idx| %>
              <label class="cursor-pointer flex items-center gap-2 px-3 py-2 border-2 border-gray-200 rounded-lg hover:border-purple-400 transition">
                <input type="radio" name="q2" data-correct-answer="<%= opt[:correct] %>">
                <span class="text-gray-700"><%= opt[:text] %></span>
              </label>
            <% end %>
          </div>
        </div>

        <!-- Domanda 3 -->
        <div class="p-4 bg-white rounded-lg">
          <div class="flex items-start gap-3 mb-4">
            <div class="bg-purple-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">3</div>
            <p class="font-bold text-gray-800">Quale numero è formato da <span class="text-cyan-500">60 unità e 74 millesimi</span>?</p>
          </div>
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3 ml-11">
            <% [
              { text: "60,74", correct: false },
              { text: "600,74", correct: false },
              { text: "60,074", correct: true },
              { text: "6,074", correct: false }
            ].each_with_index do |opt, idx| %>
              <label class="cursor-pointer flex items-center gap-2 px-3 py-2 border-2 border-gray-200 rounded-lg hover:border-purple-400 transition">
                <input type="radio" name="q3" data-correct-answer="<%= opt[:correct] %>">
                <span class="text-gray-700"><%= opt[:text] %></span>
              </label>
            <% end %>
          </div>
        </div>

        <!-- Domanda 4 -->
        <div class="p-4 bg-white rounded-lg">
          <div class="flex items-start gap-3 mb-4">
            <div class="bg-purple-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">4</div>
            <p class="font-bold text-gray-800">Quale delle seguenti uguaglianze <span class="text-red-600">non</span> è corretta?</p>
          </div>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-3 ml-11">
            <% [
              { text: "50 decimi = 5 unità", correct: false },
              { text: "6 millesimi = 0,6 centesimi", correct: true },
              { text: "20 decine = 20 000 millesimi", correct: false },
              { text: "7 000 millesimi = 7 unità", correct: false }
            ].each_with_index do |opt, idx| %>
              <label class="cursor-pointer flex items-center gap-2 px-3 py-2 border-2 border-gray-200 rounded-lg hover:border-purple-400 transition">
                <input type="radio" name="q4" data-correct-answer="<%= opt[:correct] %>">
                <span class="text-gray-700"><%= opt[:text] %></span>
              </label>
            <% end %>
          </div>
        </div>

        <!-- Domanda 5 -->
        <div class="p-4 bg-white rounded-lg">
          <div class="flex items-start gap-3 mb-4">
            <div class="bg-purple-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">5</div>
            <div>
              <p class="font-bold text-gray-800 mb-2">L'insegnante ha chiesto di arrotondare ai decimi il numero <span class="text-cyan-500">12,28</span>. Luca, Martina, Giorgio e Manuela danno quattro risposte diverse.</p>
              <ul class="text-gray-600 space-y-1 mb-3">
                <li><span class="text-pink-600">&#8226;</span> Luca ha scritto: 12,5.</li>
                <li><span class="text-pink-600">&#8226;</span> Martina ha scritto: 12,2.</li>
                <li><span class="text-pink-600">&#8226;</span> Giorgio ha scritto: 12,3.</li>
                <li><span class="text-pink-600">&#8226;</span> Manuela ha scritto: 12.</li>
              </ul>
              <p class="font-bold text-gray-800">Chi ha dato la risposta corretta?</p>
            </div>
          </div>
          <div class="grid grid-cols-2 md:grid-cols-4 gap-3 ml-11">
            <% ["Luca", "Martina", "Giorgio", "Manuela"].each_with_index do |name, idx| %>
              <label class="cursor-pointer flex items-center gap-2 px-3 py-2 border-2 border-gray-200 rounded-lg hover:border-purple-400 transition">
                <input type="radio" name="q5" data-correct-answer="<%= idx == 2 %>">
                <span class="text-gray-700"><%= name %></span>
              </label>
            <% end %>
          </div>
        </div>

        <!-- Domanda 6 -->
        <div class="p-4 bg-white rounded-lg">
          <div class="flex items-start gap-3 mb-4">
            <div class="bg-purple-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">6</div>
            <p class="font-bold text-gray-800">Nell'armadio di José ci sono 2 cassetti, ognuno dei quali ha 2 scomparti. Ogni scomparto contiene 2 paia di calzini. Quanti calzini in tutto?</p>
          </div>
          <div class="grid grid-cols-2 md:grid-cols-4 gap-3 ml-11">
            <% [
              { text: "6", correct: false },
              { text: "8", correct: false },
              { text: "12", correct: false },
              { text: "16", correct: true }
            ].each do |opt| %>
              <label class="cursor-pointer flex items-center gap-2 px-3 py-2 border-2 border-gray-200 rounded-lg hover:border-purple-400 transition">
                <input type="radio" name="q6" data-correct-answer="<%= opt[:correct] %>">
                <span class="text-gray-700"><%= opt[:text] %></span>
              </label>
            <% end %>
          </div>
        </div>

        <!-- Domanda 7 -->
        <div class="p-4 bg-white rounded-lg">
          <div class="flex items-start gap-3 mb-4">
            <div class="bg-purple-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">7</div>
            <p class="font-bold text-gray-800">Quale delle seguenti potenze corrisponde a <span class="text-cyan-500">un milione</span>?</p>
          </div>
          <div class="grid grid-cols-2 md:grid-cols-4 gap-3 ml-11">
            <% [
              { text: "10⁵", correct: false },
              { text: "10⁶", correct: true },
              { text: "10⁷", correct: false },
              { text: "10⁸", correct: false }
            ].each do |opt| %>
              <label class="cursor-pointer flex items-center gap-2 px-3 py-2 border-2 border-gray-200 rounded-lg hover:border-purple-400 transition">
                <input type="radio" name="q7" data-correct-answer="<%= opt[:correct] %>">
                <span class="text-gray-700"><%= opt[:text].html_safe %></span>
              </label>
            <% end %>
          </div>
        </div>

        <!-- Domanda 8 -->
        <div class="p-4 bg-white rounded-lg">
          <div class="flex items-start gap-3 mb-4">
            <div class="bg-purple-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">8</div>
            <p class="font-bold text-gray-800">In quale caso il numero <span class="text-cyan-500">130 000 000</span> è stato scritto in modo corretto?</p>
          </div>
          <div class="grid grid-cols-2 md:grid-cols-4 gap-3 ml-11">
            <% [
              { text: "13 × 10⁵", correct: false },
              { text: "13 × 10⁷", correct: true },
              { text: "13 × 10⁶", correct: false },
              { text: "13 × 10⁸", correct: false }
            ].each do |opt| %>
              <label class="cursor-pointer flex items-center gap-2 px-3 py-2 border-2 border-gray-200 rounded-lg hover:border-purple-400 transition">
                <input type="radio" name="q8" data-correct-answer="<%= opt[:correct] %>">
                <span class="text-gray-700"><%= opt[:text].html_safe %></span>
              </label>
            <% end %>
          </div>
        </div>

        <!-- Domanda 9 -->
        <div class="p-4 bg-white rounded-lg">
          <div class="flex items-start gap-3 mb-4">
            <div class="bg-purple-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">9</div>
            <p class="font-bold text-gray-800">Quale tra i seguenti numeri rende vera l'uguaglianza: <span class="text-cyan-500">5 × 100 000 &lt; 5 × ...</span>?</p>
          </div>
          <div class="grid grid-cols-2 md:grid-cols-4 gap-3 ml-11">
            <% [
              { text: "10³", correct: false },
              { text: "10⁴", correct: false },
              { text: "10⁵", correct: false },
              { text: "10⁶", correct: true }
            ].each do |opt| %>
              <label class="cursor-pointer flex items-center gap-2 px-3 py-2 border-2 border-gray-200 rounded-lg hover:border-purple-400 transition">
                <input type="radio" name="q9" data-correct-answer="<%= opt[:correct] %>">
                <span class="text-gray-700"><%= opt[:text].html_safe %></span>
              </label>
            <% end %>
          </div>
        </div>

        <!-- Domanda 10 -->
        <div class="p-4 bg-white rounded-lg">
          <div class="flex items-start gap-3 mb-4">
            <div class="bg-purple-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">10</div>
            <p class="font-bold text-gray-800">Qual è il risultato di <span class="text-cyan-500">+ 17 – 22</span>?</p>
          </div>
          <div class="grid grid-cols-2 md:grid-cols-4 gap-3 ml-11">
            <% [
              { text: "+ 5", correct: false },
              { text: "– 5", correct: true },
              { text: "+ 39", correct: false },
              { text: "– 39", correct: false }
            ].each do |opt| %>
              <label class="cursor-pointer flex items-center gap-2 px-3 py-2 border-2 border-gray-200 rounded-lg hover:border-purple-400 transition">
                <input type="radio" name="q10" data-correct-answer="<%= opt[:correct] %>">
                <span class="text-gray-700"><%= opt[:text] %></span>
              </label>
            <% end %>
          </div>
        </div>

        <!-- Domanda 11 -->
        <div class="p-4 bg-white rounded-lg">
          <div class="flex items-start gap-3 mb-4">
            <div class="bg-purple-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">11</div>
            <p class="font-bold text-gray-800">Se a <span class="text-blue-600">+ 5</span> togli <span class="text-cyan-500">11</span> e poi aggiungi <span class="text-cyan-500">2</span>, quale numero ottieni?</p>
          </div>
          <div class="grid grid-cols-2 md:grid-cols-4 gap-3 ml-11">
            <% [
              { text: "– 4", correct: true },
              { text: "+ 5", correct: false },
              { text: "– 6", correct: false },
              { text: "– 9", correct: false }
            ].each do |opt| %>
              <label class="cursor-pointer flex items-center gap-2 px-3 py-2 border-2 border-gray-200 rounded-lg hover:border-purple-400 transition">
                <input type="radio" name="q11" data-correct-answer="<%= opt[:correct] %>">
                <span class="text-gray-700"><%= opt[:text] %></span>
              </label>
            <% end %>
          </div>
        </div>

        <!-- Domanda 12 -->
        <div class="p-4 bg-white rounded-lg">
          <div class="flex items-start gap-3 mb-4">
            <div class="bg-purple-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">12</div>
            <p class="font-bold text-gray-800">In quale gruppo i numeri sono in <span class="text-cyan-500">ordine crescente</span>?</p>
          </div>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-3 ml-11">
            <% [
              { text: "– 6 • – 4 • 0 • + 4 • + 3", correct: false },
              { text: "– 6 • – 7 • 0 • + 3 • + 8", correct: false },
              { text: "– 6 • – 4 • 0 • + 3 • + 8", correct: true },
              { text: "– 4 • – 6 • 0 • + 3 • + 8", correct: false }
            ].each do |opt| %>
              <label class="cursor-pointer flex items-center gap-2 px-3 py-2 border-2 border-gray-200 rounded-lg hover:border-purple-400 transition">
                <input type="radio" name="q12" data-correct-answer="<%= opt[:correct] %>">
                <span class="text-gray-700"><%= opt[:text] %></span>
              </label>
            <% end %>
          </div>
        </div>
      </div>
    </div>

    <!-- Exercise Controls -->
    <%= render 'shared/exercise_controls', color: 'blue' %>
  </div>
</div>
