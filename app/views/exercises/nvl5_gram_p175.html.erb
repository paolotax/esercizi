<div class="max-w-6xl mx-auto bg-white dark:bg-gray-900 text-black dark:text-white p-3 md:p-6 transition-colors duration-300"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <!-- Esercizio 1: Distingui radice e desinenza -->
  <div class="mb-6 bg-white dark:bg-gray-800 rounded-2xl border-4 border-yellow-200 dark:border-yellow-700 shadow-2xl p-4 md:p-6" data-controller="fill-blanks">
    <h2 class="font-bold text-gray-700 dark:text-gray-200 mb-4">
      <span class="bg-yellow-600 text-white rounded-full w-8 h-8 md:w-10 md:h-10 inline-flex items-center justify-center mr-2">1</span>
      <span class="bg-yellow-400 dark:bg-yellow-500 text-blue-800 dark:text-blue-900 px-2 py-1 rounded font-bold mr-2">IMPARARE TUTTI</span>
      In questi verbi distingui la <strong class="underline text-blue-600 dark:text-blue-400">radice</strong> (R) e la <strong class="underline text-red-600 dark:text-red-400">desinenza</strong> (D), poi scrivi l'<strong class="underline">infinito</strong> e indica se il verbo è <strong class="underline">regolare</strong> o <strong class="underline">irregolare</strong>. Osserva l'esempio.
    </h2>

    <div class="space-y-4">
      <!-- Esempio: guardasti -->
      <div class="bg-blue-50 dark:bg-blue-900/30 border-2 border-blue-300 dark:border-blue-700 rounded-xl p-3">
        <div class="mb-2">
          <span class="text-gray-700 dark:text-gray-200">• guardasti</span>
        </div>
        <div class="flex flex-wrap gap-4 items-center">
          <div class="flex items-center gap-2">
            <span class="font-bold text-blue-600 dark:text-blue-400">R:</span>
            <span class="bg-blue-200 dark:bg-blue-800 px-2 py-1 rounded">guard-</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="font-bold text-blue-600 dark:text-blue-400">D:</span>
            <span class="bg-blue-200 dark:bg-blue-800 px-2 py-1 rounded">-asti</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="font-bold text-blue-600 dark:text-blue-400">Infinito:</span>
            <span class="bg-blue-200 dark:bg-blue-800 px-2 py-1 rounded font-bold">guardare regolare</span>
          </div>
        </div>
      </div>

      <!-- Esercizio: odono -->
      <div class="bg-gray-50 dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 rounded-xl p-3">
        <div class="mb-2">
          <span class="text-gray-700 dark:text-gray-200">• odono</span>
        </div>
        <div class="flex flex-wrap gap-4 items-center">
          <div class="flex items-center gap-2">
            <span class="font-bold text-gray-700 dark:text-gray-200">R:</span>
            <input type="text" class="border-b-2 border-yellow-400 dark:border-yellow-600 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-yellow-600 dark:focus:border-yellow-400 w-24" data-fill-blanks-target="input" data-correct-answer="od-" placeholder="">
          </div>
          <div class="flex items-center gap-2">
            <span class="font-bold text-gray-700 dark:text-gray-200">D:</span>
            <input type="text" class="border-b-2 border-yellow-400 dark:border-yellow-600 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-yellow-600 dark:focus:border-yellow-400 w-24" data-fill-blanks-target="input" data-correct-answer="-ono" placeholder="">
          </div>
          <div class="flex items-center gap-2">
            <span class="font-bold text-gray-700 dark:text-gray-200">Infinito:</span>
            <input type="text" class="border-b-2 border-yellow-400 dark:border-yellow-600 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-yellow-600 dark:focus:border-yellow-400 w-40" data-fill-blanks-target="input" data-correct-answer="udire irregolare" placeholder="">
          </div>
        </div>
      </div>

      <!-- Esercizio: seppero -->
      <div class="bg-gray-50 dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 rounded-xl p-3">
        <div class="mb-2">
          <span class="text-gray-700 dark:text-gray-200">• seppero</span>
        </div>
        <div class="flex flex-wrap gap-4 items-center">
          <div class="flex items-center gap-2">
            <span class="font-bold text-gray-700 dark:text-gray-200">R:</span>
            <input type="text" class="border-b-2 border-yellow-400 dark:border-yellow-600 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-yellow-600 dark:focus:border-yellow-400 w-24" data-fill-blanks-target="input" data-correct-answer="sepp-" placeholder="">
          </div>
          <div class="flex items-center gap-2">
            <span class="font-bold text-gray-700 dark:text-gray-200">D:</span>
            <input type="text" class="border-b-2 border-yellow-400 dark:border-yellow-600 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-yellow-600 dark:focus:border-yellow-400 w-24" data-fill-blanks-target="input" data-correct-answer="-ero" placeholder="">
          </div>
          <div class="flex items-center gap-2">
            <span class="font-bold text-gray-700 dark:text-gray-200">Infinito:</span>
            <input type="text" class="border-b-2 border-yellow-400 dark:border-yellow-600 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-yellow-600 dark:focus:border-yellow-400 w-40" data-fill-blanks-target="input" data-correct-answer="sapere irregolare" placeholder="">
          </div>
        </div>
      </div>

      <!-- Esercizio: partito -->
      <div class="bg-gray-50 dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 rounded-xl p-3">
        <div class="mb-2">
          <span class="text-gray-700 dark:text-gray-200">• partito</span>
        </div>
        <div class="flex flex-wrap gap-4 items-center">
          <div class="flex items-center gap-2">
            <span class="font-bold text-gray-700 dark:text-gray-200">R:</span>
            <input type="text" class="border-b-2 border-yellow-400 dark:border-yellow-600 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-yellow-600 dark:focus:border-yellow-400 w-24" data-fill-blanks-target="input" data-correct-answer="part-" placeholder="">
          </div>
          <div class="flex items-center gap-2">
            <span class="font-bold text-gray-700 dark:text-gray-200">D:</span>
            <input type="text" class="border-b-2 border-yellow-400 dark:border-yellow-600 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-yellow-600 dark:focus:border-yellow-400 w-24" data-fill-blanks-target="input" data-correct-answer="-ito" placeholder="">
          </div>
          <div class="flex items-center gap-2">
            <span class="font-bold text-gray-700 dark:text-gray-200">Infinito:</span>
            <input type="text" class="border-b-2 border-yellow-400 dark:border-yellow-600 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-yellow-600 dark:focus:border-yellow-400 w-40" data-fill-blanks-target="input" data-correct-answer="partire regolare" placeholder="">
          </div>
        </div>
      </div>

      <!-- Esercizio: cenammo -->
      <div class="bg-gray-50 dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 rounded-xl p-3">
        <div class="mb-2">
          <span class="text-gray-700 dark:text-gray-200">• cenammo</span>
        </div>
        <div class="flex flex-wrap gap-4 items-center">
          <div class="flex items-center gap-2">
            <span class="font-bold text-gray-700 dark:text-gray-200">R:</span>
            <input type="text" class="border-b-2 border-yellow-400 dark:border-yellow-600 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-yellow-600 dark:focus:border-yellow-400 w-24" data-fill-blanks-target="input" data-correct-answer="cen-" placeholder="">
          </div>
          <div class="flex items-center gap-2">
            <span class="font-bold text-gray-700 dark:text-gray-200">D:</span>
            <input type="text" class="border-b-2 border-yellow-400 dark:border-yellow-600 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-yellow-600 dark:focus:border-yellow-400 w-24" data-fill-blanks-target="input" data-correct-answer="-ammo" placeholder="">
          </div>
          <div class="flex items-center gap-2">
            <span class="font-bold text-gray-700 dark:text-gray-200">Infinito:</span>
            <input type="text" class="border-b-2 border-yellow-400 dark:border-yellow-600 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-yellow-600 dark:focus:border-yellow-400 w-40" data-fill-blanks-target="input" data-correct-answer="cenare regolare" placeholder="">
          </div>
        </div>
      </div>

      <!-- Esercizio: berrò -->
      <div class="bg-gray-50 dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 rounded-xl p-3">
        <div class="mb-2">
          <span class="text-gray-700 dark:text-gray-200">• berrò</span>
        </div>
        <div class="flex flex-wrap gap-4 items-center">
          <div class="flex items-center gap-2">
            <span class="font-bold text-gray-700 dark:text-gray-200">R:</span>
            <input type="text" class="border-b-2 border-yellow-400 dark:border-yellow-600 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-yellow-600 dark:focus:border-yellow-400 w-24" data-fill-blanks-target="input" data-correct-answer="ber-" placeholder="">
          </div>
          <div class="flex items-center gap-2">
            <span class="font-bold text-gray-700 dark:text-gray-200">D:</span>
            <input type="text" class="border-b-2 border-yellow-400 dark:border-yellow-600 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-yellow-600 dark:focus:border-yellow-400 w-24" data-fill-blanks-target="input" data-correct-answer="-rò" placeholder="">
          </div>
          <div class="flex items-center gap-2">
            <span class="font-bold text-gray-700 dark:text-gray-200">Infinito:</span>
            <input type="text" class="border-b-2 border-yellow-400 dark:border-yellow-600 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-yellow-600 dark:focus:border-yellow-400 w-40" data-fill-blanks-target="input" data-correct-answer="bere irregolare" placeholder="">
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Esercizio 2: Passato remoto -->
  <div class="mb-6 bg-white dark:bg-gray-800 rounded-2xl border-4 border-blue-200 dark:border-blue-700 shadow-2xl p-4 md:p-6" data-controller="fill-blanks">
    <h2 class="font-bold text-gray-700 dark:text-gray-200 mb-4">
      <span class="bg-blue-600 text-white rounded-full w-8 h-8 md:w-10 md:h-10 inline-flex items-center justify-center mr-2">2</span>
      Per ogni verbo, scrivi la <strong class="underline text-blue-600 dark:text-blue-400">1ª persona singolare</strong> del <strong class="underline text-red-600 dark:text-red-400">passato remoto</strong>.
    </h2>

    <div class="space-y-3">
      <div class="bg-gray-50 dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 rounded-xl p-3">
        <span class="text-gray-700 dark:text-gray-200">• cuocere →</span>
        <input type="text" class="border-b-2 border-blue-400 dark:border-blue-600 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-blue-600 dark:focus:border-blue-400 w-40" data-fill-blanks-target="input" data-correct-answer="cossi" placeholder="">
      </div>
      <div class="bg-gray-50 dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 rounded-xl p-3">
        <span class="text-gray-700 dark:text-gray-200">• piacere →</span>
        <input type="text" class="border-b-2 border-blue-400 dark:border-blue-600 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-blue-600 dark:focus:border-blue-400 w-40" data-fill-blanks-target="input" data-correct-answer="piacqui" placeholder="">
      </div>
      <div class="bg-gray-50 dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 rounded-xl p-3">
        <span class="text-gray-700 dark:text-gray-200">• volere →</span>
        <input type="text" class="border-b-2 border-blue-400 dark:border-blue-600 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-blue-600 dark:focus:border-blue-400 w-40" data-fill-blanks-target="input" data-correct-answer="volli" placeholder="">
      </div>
      <div class="bg-gray-50 dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 rounded-xl p-3">
        <span class="text-gray-700 dark:text-gray-200">• sapere →</span>
        <input type="text" class="border-b-2 border-blue-400 dark:border-blue-600 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-blue-600 dark:focus:border-blue-400 w-40" data-fill-blanks-target="input" data-correct-answer="seppi" placeholder="">
      </div>
      <div class="bg-gray-50 dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 rounded-xl p-3">
        <span class="text-gray-700 dark:text-gray-200">• crescere →</span>
        <input type="text" class="border-b-2 border-blue-400 dark:border-blue-600 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-blue-600 dark:focus:border-blue-400 w-40" data-fill-blanks-target="input" data-correct-answer="crebbi" placeholder="">
      </div>
      <div class="bg-gray-50 dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 rounded-xl p-3">
        <span class="text-gray-700 dark:text-gray-200">• nascere →</span>
        <input type="text" class="border-b-2 border-blue-400 dark:border-blue-600 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-blue-600 dark:focus:border-blue-400 w-40" data-fill-blanks-target="input" data-correct-answer="nacqui" placeholder="">
      </div>
      <div class="bg-gray-50 dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 rounded-xl p-3">
        <span class="text-gray-700 dark:text-gray-200">• scuotere →</span>
        <input type="text" class="border-b-2 border-blue-400 dark:border-blue-600 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-blue-600 dark:focus:border-blue-400 w-40" data-fill-blanks-target="input" data-correct-answer="scossi" placeholder="">
      </div>
      <div class="bg-gray-50 dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 rounded-xl p-3">
        <span class="text-gray-700 dark:text-gray-200">• tacere →</span>
        <input type="text" class="border-b-2 border-blue-400 dark:border-blue-600 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-blue-600 dark:focus:border-blue-400 w-40" data-fill-blanks-target="input" data-correct-answer="tacqui" placeholder="">
      </div>
      <div class="bg-gray-50 dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 rounded-xl p-3">
        <span class="text-gray-700 dark:text-gray-200">• fare →</span>
        <input type="text" class="border-b-2 border-blue-400 dark:border-blue-600 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-blue-600 dark:focus:border-blue-400 w-40" data-fill-blanks-target="input" data-correct-answer="feci" placeholder="">
      </div>
      <div class="bg-gray-50 dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 rounded-xl p-3">
        <span class="text-gray-700 dark:text-gray-200">• percuotere →</span>
        <input type="text" class="border-b-2 border-blue-400 dark:border-blue-600 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-blue-600 dark:focus:border-blue-400 w-40" data-fill-blanks-target="input" data-correct-answer="percossi" placeholder="">
      </div>
    </div>
  </div>

  <!-- Esercizio 3: Infinito e sottolinea irregolari -->
  <div class="mb-6 bg-white dark:bg-gray-800 rounded-2xl border-4 border-green-200 dark:border-green-700 shadow-2xl p-4 md:p-6" data-controller="fill-blanks">
    <h2 class="font-bold text-gray-700 dark:text-gray-200 mb-4">
      <span class="bg-green-600 text-white rounded-full w-8 h-8 md:w-10 md:h-10 inline-flex items-center justify-center mr-2">3</span>
      Scrivi l'<strong class="underline text-blue-600 dark:text-blue-400">infinito</strong> di ciascun verbo, poi sottolinea i <strong class="underline text-red-600 dark:text-red-400">verbi irregolari</strong>.
    </h2>

    <div class="space-y-3">
      <div class="bg-gray-50 dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 rounded-xl p-3">
        <span class="text-gray-700 dark:text-gray-200">• conobbe →</span>
        <input type="text" class="border-b-2 border-green-400 dark:border-green-600 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-green-600 dark:focus:border-green-400 w-40" data-fill-blanks-target="input" data-correct-answer="conoscere" placeholder="">
      </div>
      <div class="bg-gray-50 dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 rounded-xl p-3">
        <span class="text-gray-700 dark:text-gray-200">• prenderemo →</span>
        <input type="text" class="border-b-2 border-green-400 dark:border-green-600 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-green-600 dark:focus:border-green-400 w-40" data-fill-blanks-target="input" data-correct-answer="prendere" placeholder="">
      </div>
      <div class="bg-gray-50 dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 rounded-xl p-3">
        <span class="text-gray-700 dark:text-gray-200">• pulisci →</span>
        <input type="text" class="border-b-2 border-green-400 dark:border-green-600 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-green-600 dark:focus:border-green-400 w-40" data-fill-blanks-target="input" data-correct-answer="pulire" placeholder="">
      </div>
      <div class="bg-gray-50 dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 rounded-xl p-3">
        <span class="text-gray-700 dark:text-gray-200">• cadde →</span>
        <input type="text" class="border-b-2 border-green-400 dark:border-green-600 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-green-600 dark:focus:border-green-400 w-40" data-fill-blanks-target="input" data-correct-answer="cadere" placeholder="">
      </div>
      <div class="bg-gray-50 dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 rounded-xl p-3">
        <span class="text-gray-700 dark:text-gray-200">• promisi →</span>
        <input type="text" class="border-b-2 border-green-400 dark:border-green-600 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-green-600 dark:focus:border-green-400 w-40" data-fill-blanks-target="input" data-correct-answer="promettere" placeholder="">
      </div>
      <div class="bg-gray-50 dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 rounded-xl p-3">
        <span class="text-gray-700 dark:text-gray-200">• dovrò →</span>
        <input type="text" class="border-b-2 border-green-400 dark:border-green-600 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-green-600 dark:focus:border-green-400 w-40" data-fill-blanks-target="input" data-correct-answer="dovere" placeholder="">
      </div>
      <div class="bg-gray-50 dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 rounded-xl p-3">
        <span class="text-gray-700 dark:text-gray-200">• andarono →</span>
        <input type="text" class="border-b-2 border-green-400 dark:border-green-600 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-green-600 dark:focus:border-green-400 w-40" data-fill-blanks-target="input" data-correct-answer="andare" placeholder="">
      </div>
      <div class="bg-gray-50 dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 rounded-xl p-3">
        <span class="text-gray-700 dark:text-gray-200">• cantavi →</span>
        <input type="text" class="border-b-2 border-green-400 dark:border-green-600 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-green-600 dark:focus:border-green-400 w-40" data-fill-blanks-target="input" data-correct-answer="cantare" placeholder="">
      </div>
      <div class="bg-gray-50 dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 rounded-xl p-3">
        <span class="text-gray-700 dark:text-gray-200">• riderà →</span>
        <input type="text" class="border-b-2 border-green-400 dark:border-green-600 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-green-600 dark:focus:border-green-400 w-40" data-fill-blanks-target="input" data-correct-answer="ridere" placeholder="">
      </div>
      <div class="bg-gray-50 dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 rounded-xl p-3">
        <span class="text-gray-700 dark:text-gray-200">• ho detto →</span>
        <input type="text" class="border-b-2 border-green-400 dark:border-green-600 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-green-600 dark:focus:border-green-400 w-40" data-fill-blanks-target="input" data-correct-answer="dire" placeholder="">
      </div>
      <div class="bg-gray-50 dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 rounded-xl p-3">
        <span class="text-gray-700 dark:text-gray-200">• salgo →</span>
        <input type="text" class="border-b-2 border-green-400 dark:border-green-600 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-green-600 dark:focus:border-green-400 w-40" data-fill-blanks-target="input" data-correct-answer="salire" placeholder="">
      </div>
      <div class="bg-gray-50 dark:bg-gray-800 border-2 border-gray-200 dark:border-gray-700 rounded-xl p-3">
        <span class="text-gray-700 dark:text-gray-200">• avete guardato →</span>
        <input type="text" class="border-b-2 border-green-400 dark:border-green-600 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-green-600 dark:focus:border-green-400 w-40" data-fill-blanks-target="input" data-correct-answer="guardare" placeholder="">
      </div>
    </div>
  </div>

  <!-- Footer with reference -->
  <div class="mt-8 text-center">
    <p class="text-red-600 dark:text-red-400 font-bold">Grammatica p. <%= link_to "84", pagina_path("nvl5_gram_p084"), class: "text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 underline font-bold" %></p>
  </div>

  <!-- Exercise controls -->
  <%= render 'shared/exercise_controls' %>
</div>
