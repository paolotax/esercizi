<div class="max-w-6xl mx-auto bg-white dark:bg-gray-900 p-3 md:p-6 transition-colors duration-300"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">

    <!-- Container esercizi -->
    <div class="p-4 md:p-6 bg-orange-100 dark:bg-orange-900/30 rounded-2xl">

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 md:divide-x-2 md:divide-orange-300">

        <!-- Colonna sinistra -->
        <div class="md:pr-4 space-y-6">

          <!-- Esercizio 1 -->
          <div>
            <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
              <%= numero_esercizio_badge(1) %>
              Indica il valore di ogni cifra, come nell'esempio.
            </p>
            <p class="text-gray-700 dark:text-gray-200 mb-3">
              8,154 dag = <strong class="text-<%= @pagina.base_color %>-600 dark:text-<%= @pagina.base_color %>-400">8 dag 1 g 5 dg 4 cg</strong>
            </p>
            <div class="space-y-2">
              <div class="flex items-center gap-2 flex-wrap">
                <span class="text-gray-700 dark:text-gray-200">1,456 kg =</span>
                <input type="text" class="min-w-0 flex-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 bg-transparent dark:text-white">
              </div>
              <div class="flex items-center gap-2 flex-wrap">
                <span class="text-gray-700 dark:text-gray-200">47,6 dm =</span>
                <input type="text" class="min-w-0 flex-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 bg-transparent dark:text-white">
              </div>
              <div class="flex items-center gap-2 flex-wrap">
                <span class="text-gray-700 dark:text-gray-200">14 590 mℓ =</span>
                <input type="text" class="min-w-0 flex-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 bg-transparent dark:text-white">
              </div>
            </div>
          </div>

          <!-- Esercizio 2 -->
          <div>
            <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
              <%= numero_esercizio_badge(2) %>
              Esegui le seguenti equivalenze.
            </p>
            <div class="space-y-2">
              <div class="flex items-center gap-2 flex-wrap">
                <span class="text-gray-700 dark:text-gray-200">8,4 dm =</span>
                <input type="text" data-correct-answer="840" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                <span class="text-gray-700 dark:text-gray-200">mm</span>
              </div>
              <div class="flex items-center gap-2 flex-wrap">
                <span class="text-gray-700 dark:text-gray-200">438 cm =</span>
                <input type="text" data-correct-answer="0,438" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                <span class="text-gray-700 dark:text-gray-200">dam</span>
              </div>
              <div class="flex items-center gap-2 flex-wrap">
                <span class="text-gray-700 dark:text-gray-200">23,45 hm =</span>
                <input type="text" data-correct-answer="2345" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                <span class="text-gray-700 dark:text-gray-200">m</span>
              </div>
              <div class="flex items-center gap-2 flex-wrap">
                <span class="text-gray-700 dark:text-gray-200">423 ℓ =</span>
                <input type="text" data-correct-answer="4,23" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                <span class="text-gray-700 dark:text-gray-200">hℓ</span>
              </div>
              <div class="flex items-center gap-2 flex-wrap">
                <span class="text-gray-700 dark:text-gray-200">5,6 dℓ =</span>
                <input type="text" data-correct-answer="560" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                <span class="text-gray-700 dark:text-gray-200">mℓ</span>
              </div>
              <div class="flex items-center gap-2 flex-wrap">
                <span class="text-gray-700 dark:text-gray-200">986 cℓ =</span>
                <input type="text" data-correct-answer="9,86" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                <span class="text-gray-700 dark:text-gray-200">ℓ</span>
              </div>
              <div class="flex items-center gap-2 flex-wrap">
                <span class="text-gray-700 dark:text-gray-200">63 mg =</span>
                <input type="text" data-correct-answer="0,063" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                <span class="text-gray-700 dark:text-gray-200">g</span>
              </div>
              <div class="flex items-center gap-2 flex-wrap">
                <span class="text-gray-700 dark:text-gray-200">1,285 hg =</span>
                <input type="text" data-correct-answer="1285" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                <span class="text-gray-700 dark:text-gray-200">dg</span>
              </div>
              <div class="flex items-center gap-2 flex-wrap">
                <span class="text-gray-700 dark:text-gray-200">0,6 Mg =</span>
                <input type="text" data-correct-answer="600" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                <span class="text-gray-700 dark:text-gray-200">kg</span>
              </div>
            </div>
          </div>

          <!-- Esercizio 3 -->
          <div>
            <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
              <%= numero_esercizio_badge(3) %>
              Calcola. Fai attenzione: prima devi eseguire le equivalenze ed esprimere tutte le misure con la stessa unità.
            </p>
            <div class="space-y-2">
              <div class="flex items-center gap-2 flex-wrap">
                <span class="text-gray-700 dark:text-gray-200">2 050 m + 5 hm =</span>
                <input type="text" data-correct-answer="25,5" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                <span class="text-gray-700 dark:text-gray-200">hm</span>
              </div>
              <div class="flex items-center gap-2 flex-wrap">
                <span class="text-gray-700 dark:text-gray-200">275 g + 4 hg + 8 dag =</span>
                <input type="text" data-correct-answer="755" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                <span class="text-gray-700 dark:text-gray-200">g</span>
              </div>
              <div class="flex items-center gap-2 flex-wrap">
                <span class="text-gray-700 dark:text-gray-200">30 daℓ + 45 dℓ + 60 cℓ =</span>
                <input type="text" data-correct-answer="305,1" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                <span class="text-gray-700 dark:text-gray-200">ℓ</span>
              </div>
            </div>
          </div>

          <!-- Esercizio 4 -->
          <div>
            <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
              <%= numero_esercizio_badge(4) %>
              Inserisci il segno corretto (&gt;, &lt;, =).
            </p>
            <div class="grid grid-cols-2 gap-3">
              <div class="flex items-center gap-2">
                <span class="text-gray-700 dark:text-gray-200">24,5 dm</span>
                <input type="text" data-correct-answer="<" class="w-10 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                <span class="text-gray-700 dark:text-gray-200">320 cm</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="text-gray-700 dark:text-gray-200">34,3 dm</span>
                <input type="text" data-correct-answer="<" class="w-10 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                <span class="text-gray-700 dark:text-gray-200">360 cm</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="text-gray-700 dark:text-gray-200">4 hℓ</span>
                <input type="text" data-correct-answer=">" class="w-10 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                <span class="text-gray-700 dark:text-gray-200">35 daℓ</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="text-gray-700 dark:text-gray-200">46,5 ℓ</span>
                <input type="text" data-correct-answer="=" class="w-10 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                <span class="text-gray-700 dark:text-gray-200">465 dℓ</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="text-gray-700 dark:text-gray-200">57 dag</span>
                <input type="text" data-correct-answer="=" class="w-10 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                <span class="text-gray-700 dark:text-gray-200">5,7 hg</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="text-gray-700 dark:text-gray-200">4,5 kg</span>
                <input type="text" data-correct-answer="<" class="w-10 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                <span class="text-gray-700 dark:text-gray-200">25 hg</span>
              </div>
            </div>
          </div>

          <!-- Esercizio 5 -->
          <div>
            <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
              <%= numero_esercizio_badge(5) %>
              Riscrivi le misure in ordine crescente.
            </p>
            <p class="text-gray-700 dark:text-gray-200 mb-3">
              35 hg <span class="text-<%= @pagina.base_color %>-500">●</span> 0,2 kg <span class="text-<%= @pagina.base_color %>-500">●</span> 54 dg <span class="text-<%= @pagina.base_color %>-500">●</span> 3 g <span class="text-<%= @pagina.base_color %>-500">●</span> 8 dg <span class="text-<%= @pagina.base_color %>-500">●</span> 4,3 hg
            </p>
            <input type="text" class="w-full border-b-2 border-dotted border-gray-400 dark:border-gray-500 bg-transparent dark:text-white">
          </div>

        </div>

        <!-- Colonna destra -->
        <div class="md:pl-4 space-y-6">

          <!-- Esercizio 6 -->
          <div>
            <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
              <%= numero_esercizio_badge(6) %>
              Completa la tabella.
            </p>

            <div class="overflow-x-auto">
              <table class="w-full border-collapse border-2 border-cyan-400 dark:border-cyan-600">
                <thead>
                  <tr>
                    <th class="p-2 bg-cyan-500 text-white border-2 border-cyan-400 dark:border-cyan-600 font-bold">peso lordo</th>
                    <th class="p-2 bg-cyan-500 text-white border-2 border-cyan-400 dark:border-cyan-600 font-bold">peso netto</th>
                    <th class="p-2 bg-cyan-500 text-white border-2 border-cyan-400 dark:border-cyan-600 font-bold">tara</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center text-gray-700 dark:text-gray-200">175 kg</td>
                    <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center text-gray-700 dark:text-gray-200">162 kg</td>
                    <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700">
                      <div class="flex items-center justify-center gap-1">
                        <input type="text" data-correct-answer="13" class="w-14 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                        <span class="text-gray-700 dark:text-gray-200">kg</span>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center text-gray-700 dark:text-gray-200">53,5 hg</td>
                    <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700">
                      <div class="flex items-center justify-center gap-1">
                        <input type="text" data-correct-answer="50,8" class="w-14 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                        <span class="text-gray-700 dark:text-gray-200">hg</span>
                      </div>
                    </td>
                    <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center text-gray-700 dark:text-gray-200">27 dag</td>
                  </tr>
                  <tr>
                    <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700">
                      <div class="flex items-center justify-center gap-1">
                        <input type="text" data-correct-answer="35" class="w-14 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                        <span class="text-gray-700 dark:text-gray-200">hg</span>
                      </div>
                    </td>
                    <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center text-gray-700 dark:text-gray-200">325 dag</td>
                    <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center text-gray-700 dark:text-gray-200">250 g</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <!-- Esercizio 7 -->
          <div>
            <p class="font-bold text-gray-700 dark:text-gray-200 mb-2">
              <%= numero_esercizio_badge(7) %>
              Per cambiare € 3 in monete da 20 centesimi, quante monete occorrono?
            </p>
            <div class="flex items-center gap-2 mb-3">
              <input type="text" data-correct-answer="15" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            </div>
            <p class="text-gray-700 dark:text-gray-200 mb-2">E se cambi € 3 in monete da 5 centesimi, quante monete occorrono?</p>
            <div class="flex items-center gap-2">
              <input type="text" data-correct-answer="60" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            </div>
          </div>

          <!-- Esercizio 8 -->
          <div>
            <p class="font-bold text-gray-700 dark:text-gray-200 mb-2">
              <%= numero_esercizio_badge(8) %>
              Se hai a disposizione 8 euro, quante penne da € 1,75 puoi comprare?
            </p>
            <div class="flex items-center gap-2 mb-2">
              <input type="text" data-correct-answer="4" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            </div>
            <p class="text-gray-700 dark:text-gray-200 mb-2">Quanto ti resta?</p>
            <div class="flex items-center gap-2">
              <span class="text-gray-700 dark:text-gray-200">€</span>
              <input type="text" data-correct-answer="1" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            </div>
          </div>

          <!-- Esercizio 9 -->
          <div>
            <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
              <%= numero_esercizio_badge(9) %>
              Completa la tabella.
            </p>

            <div class="overflow-x-auto">
              <table class="w-full border-collapse border-2 border-cyan-400 dark:border-cyan-600">
                <thead>
                  <tr>
                    <th class="p-2 bg-cyan-500 text-white border-2 border-cyan-400 dark:border-cyan-600 font-bold">quantità</th>
                    <th class="p-2 bg-cyan-500 text-white border-2 border-cyan-400 dark:border-cyan-600 font-bold">costo unitario</th>
                    <th class="p-2 bg-cyan-500 text-white border-2 border-cyan-400 dark:border-cyan-600 font-bold">costo totale</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center text-gray-700 dark:text-gray-200">9</td>
                    <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700">
                      <div class="flex items-center justify-center gap-1">
                        <span class="text-gray-700 dark:text-gray-200">€</span>
                        <input type="text" data-correct-answer="7,10" class="w-14 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                      </div>
                    </td>
                    <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center text-gray-700 dark:text-gray-200">€ 63,90</td>
                  </tr>
                  <tr>
                    <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center text-gray-700 dark:text-gray-200">7</td>
                    <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center text-gray-700 dark:text-gray-200">€ 4,50</td>
                    <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700">
                      <div class="flex items-center justify-center gap-1">
                        <span class="text-gray-700 dark:text-gray-200">€</span>
                        <input type="text" data-correct-answer="31,50" class="w-14 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700">
                      <div class="flex items-center justify-center">
                        <input type="text" data-correct-answer="3" class="w-10 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                      </div>
                    </td>
                    <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center text-gray-700 dark:text-gray-200">€ 26</td>
                    <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center text-gray-700 dark:text-gray-200">€ 78</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <!-- RISOLVI I PROBLEMI -->
          <p class="font-bold text-<%= @pagina.base_color %>-600 dark:text-<%= @pagina.base_color %>-400">RISOLVI I PROBLEMI</p>

          <!-- Esercizio 10 -->
          <div>
            <p class="font-bold text-gray-700 dark:text-gray-200 mb-2">
              <%= numero_esercizio_badge(10) %>
              In un supermercato i magazzinieri hanno sistemato 25 cassette di mele. Ogni cassetta ha il peso netto di 3,5 kg e la tara di 450 g. Qual è il peso lordo di ciascuna cassetta? E di tutte le cassette?
            </p>
            <div class="space-y-2">
              <div class="flex items-center gap-2">
                <span class="text-gray-700 dark:text-gray-200">Peso lordo ciascuna:</span>
                <input type="text" data-correct-answer="3,95" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                <span class="text-gray-700 dark:text-gray-200">kg</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="text-gray-700 dark:text-gray-200">Peso lordo totale:</span>
                <input type="text" data-correct-answer="98,75" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
                <span class="text-gray-700 dark:text-gray-200">kg</span>
              </div>
            </div>
          </div>

          <!-- Esercizio 11 -->
          <div>
            <p class="font-bold text-gray-700 dark:text-gray-200 mb-2">
              <%= numero_esercizio_badge(11) %>
              Un cartolaio ha venduto 12 scatole di pennarelli ricavando € 108,45 e ha guadagnato € 24,45. Quanto aveva speso per acquistare tutte le scatole? E per ciascuna?
            </p>
            <div class="space-y-2">
              <div class="flex items-center gap-2">
                <span class="text-gray-700 dark:text-gray-200">Spesa totale: €</span>
                <input type="text" data-correct-answer="84" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
              </div>
              <div class="flex items-center gap-2">
                <span class="text-gray-700 dark:text-gray-200">Spesa per scatola: €</span>
                <input type="text" data-correct-answer="7" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
              </div>
            </div>
          </div>

        </div>

      </div>

    </div>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
