<div class="max-w-6xl mx-auto bg-white p-3 md:p-6"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">
    <!-- Box teoria bianco con bordo blu -->
    <div class="p-4 bg-white border-3 border-blue-400 rounded-3xl space-y-4">
      <!-- Intro -->
      <p class="-mx-4 md:-mt-4 text-gray-700 bg-pink-100 rounded-3xl p-4">
        In un'<strong>equivalenza</strong>, la stessa misura è espressa con unità diverse: 12 <strong class="text-cyan-600">dm</strong> = 120 <strong class="text-cyan-600">cm</strong> = <span class="whitespace-nowrap">1 200</span> <strong class="text-cyan-600">mm</strong>
      </p>

      <!-- Due colonne: sottomultiplo e multiplo -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-3">
        <!-- Riga 1: Spiegazioni -->
        <p class="text-gray-700">
          <span class="text-custom-pink font-bold">•</span> Per passare <strong>da un'unità a un suo sottomultiplo, moltiplica per 10, 100, 1000…</strong> a seconda del numero di passaggi da effettuare.
        </p>
        <p class="text-gray-700">
          <span class="text-custom-pink font-bold">•</span> Per passare <strong>da un'unità a un suo multiplo, dividi per 10, 100, 1000…</strong> a seconda del numero di passaggi da effettuare.
        </p>

        <!-- Riga 2: Tabelle -->
        <div class="overflow-x-auto flex justify-center">
          <table class="border-collapse bg-white">
            <tbody>
              <tr>
                <td class="p-2 border border-gray-300 text-center bg-cyan-50 text-cyan-600 font-bold">km</td>
                <td class="p-2 border border-gray-300 text-center bg-cyan-50 text-cyan-600 font-bold">hm</td>
                <td class="p-2 border border-gray-300 text-center bg-cyan-50 text-cyan-600 font-bold">dam</td>
                <td class="p-2 border border-gray-300 text-center bg-red-50 text-red-500 font-bold">m</td>
                <td class="p-2 border border-gray-300 text-center bg-green-50 text-green-600 font-bold">dm</td>
                <td class="p-2 border border-gray-300 text-center bg-green-50 text-green-600 font-bold">cm</td>
                <td class="p-2 border border-gray-300 text-center bg-green-50 text-green-600 font-bold">mm</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="overflow-x-auto flex justify-center">
          <table class="border-collapse bg-white">
            <tbody>
              <tr>
                <td class="p-2 border border-gray-300 text-center bg-cyan-50 text-cyan-600 font-bold">km</td>
                <td class="p-2 border border-gray-300 text-center bg-cyan-50 text-cyan-600 font-bold">hm</td>
                <td class="p-2 border border-gray-300 text-center bg-cyan-50 text-cyan-600 font-bold">dam</td>
                <td class="p-2 border border-gray-300 text-center bg-red-50 text-red-500 font-bold">m</td>
                <td class="p-2 border border-gray-300 text-center bg-green-50 text-green-600 font-bold">dm</td>
                <td class="p-2 border border-gray-300 text-center bg-green-50 text-green-600 font-bold">cm</td>
                <td class="p-2 border border-gray-300 text-center bg-green-50 text-green-600 font-bold">mm</td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Riga 3: Esempi -->
        <div class="space-y-1 text-center">
          <p class="text-gray-700">1,75 m = .......... dm</p>
          <p class="text-gray-700">m <strong>&gt;</strong> dm</p>
          <div class="flex flex-col items-center">
            <span class="text-cyan-500 font-bold">× 10</span>
            <svg width="100" height="20" class="my-1">
              <path d="M10,15 Q50,0 90,15" stroke="#06b6d4" fill="none" stroke-width="2" marker-end="url(#arrowhead)"/>
              <defs>
                <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                  <polygon points="0 0, 10 3.5, 0 7" fill="#06b6d4"/>
                </marker>
              </defs>
            </svg>
            <p class="text-gray-700 font-bold">1,75 m = 17,5 dm</p>
          </div>
        </div>
        <div class="space-y-1 text-center">
          <p class="text-gray-700"><span class="whitespace-nowrap">2 500</span> dm = .......... dam</p>
          <p class="text-gray-700">dm <strong>&lt;</strong> dam</p>
          <div class="flex flex-col items-center">
            <span class="text-cyan-500 font-bold">: 100</span>
            <svg width="100" height="20" class="my-1">
              <path d="M10,15 Q50,0 90,15" stroke="#06b6d4" fill="none" stroke-width="2" marker-end="url(#arrowhead2)"/>
              <defs>
                <marker id="arrowhead2" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                  <polygon points="0 0, 10 3.5, 0 7" fill="#06b6d4"/>
                </marker>
              </defs>
            </svg>
            <p class="text-gray-700 font-bold"><span class="whitespace-nowrap">2 500</span> dm = 25 dam</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Spiegazione grandezze omogenee -->
    <div class="space-y-3">
      <p class="text-gray-700">
        Sai perché è importante saper eseguire le equivalenze?<br>
        Immagina di dover addizionare 24,5 m e <span class="whitespace-nowrap">3 400</span> cm. Puoi farlo subito?<br>
        No: puoi sommare solo <strong>grandezze omogenee</strong>, cioè <strong>espresse con la stessa unità di misura</strong>.
      </p>
      <p class="text-gray-700">
        Perciò prima di addizionare devi eseguire un'equivalenza con una delle due misure (a tua scelta), in modo che entrambe siano espresse nella stessa unità di misura.
      </p>
      <p class="text-gray-700">
        Esprimi <span class="whitespace-nowrap">3 400</span> cm in metri: <strong><span class="whitespace-nowrap">3 400</span> cm = 34 m</strong>
      </p>
      <p class="text-gray-700">
        Ora puoi procedere con l'addizione: <strong>24,5 m + 34 m = 58,5 m</strong>
      </p>
    </div>

    <!-- ESERCIZI -->
    <div class="p-4 md:p-6 bg-orange-100 rounded-lg">
      <div class="p-4 mb-6">
        <p class="font-bold text-gray-700 mb-4">
          <%= numero_esercizio_badge(1) %>
          Esegui le equivalenze.
        </p>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
          <!-- Colonna a -->
          <div class="space-y-3">
            <p class="font-bold text-custom-pink">a)</p>
            <div class="space-y-2">
              <p class="text-gray-700 flex items-center gap-2 flex-wrap">
                <span class="shrink-0">3,2 m =</span>
                <input type="text" data-correct-answer="32" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                <span class="shrink-0">dm =</span>
                <input type="text" data-correct-answer="320" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                <span class="shrink-0">cm</span>
              </p>
              <p class="text-gray-700 flex items-center gap-2 flex-wrap">
                <span class="shrink-0">970 m =</span>
                <input type="text" data-correct-answer="9,7" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                <span class="shrink-0">hm =</span>
                <input type="text" data-correct-answer="0,97" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                <span class="shrink-0">km</span>
              </p>
              <p class="text-gray-700 flex items-center gap-2 flex-wrap">
                <span class="shrink-0">681 cm =</span>
                <input type="text" data-correct-answer="6,81" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                <span class="shrink-0">m =</span>
                <input type="text" data-correct-answer="6810" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                <span class="shrink-0">mm</span>
              </p>
              <p class="text-gray-700 flex items-center gap-2 flex-wrap">
                <span class="shrink-0">0,5 m =</span>
                <input type="text" data-correct-answer="0,005" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                <span class="shrink-0">hm =</span>
                <input type="text" data-correct-answer="0,05" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                <span class="shrink-0">dam</span>
              </p>
            </div>
          </div>

          <!-- Colonna b -->
          <div class="space-y-3">
            <p class="font-bold text-custom-pink">b)</p>
            <div class="space-y-2">
              <p class="text-gray-700 flex items-center gap-2 flex-wrap">
                <span class="shrink-0">1,85 hℓ =</span>
                <input type="text" data-correct-answer="185" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                <span class="shrink-0">ℓ =</span>
                <input type="text" data-correct-answer="1850" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                <span class="shrink-0">dℓ</span>
              </p>
              <p class="text-gray-700 flex items-center gap-2 flex-wrap">
                <span class="shrink-0">619 ℓ =</span>
                <input type="text" data-correct-answer="6,19" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                <span class="shrink-0">hℓ =</span>
                <input type="text" data-correct-answer="6190" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                <span class="shrink-0">dℓ</span>
              </p>
              <p class="text-gray-700 flex items-center gap-2 flex-wrap">
                <span class="shrink-0">98 daℓ =</span>
                <input type="text" data-correct-answer="980" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                <span class="shrink-0">ℓ =</span>
                <input type="text" data-correct-answer="98000" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                <span class="shrink-0">cℓ</span>
              </p>
              <p class="text-gray-700 flex items-center gap-2 flex-wrap">
                <span class="shrink-0"><span class="whitespace-nowrap">6 500</span> cℓ =</span>
                <input type="text" data-correct-answer="65" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                <span class="shrink-0">ℓ =</span>
                <input type="text" data-correct-answer="0,65" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                <span class="shrink-0">hℓ</span>
              </p>
            </div>
          </div>

          <!-- Colonna c -->
          <div class="space-y-3">
            <p class="font-bold text-custom-pink">c)</p>
            <div class="space-y-2">
              <p class="text-gray-700 flex items-center gap-2 flex-wrap">
                <span class="shrink-0"><span class="whitespace-nowrap">6 804</span> mg =</span>
                <input type="text" data-correct-answer="68,04" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                <span class="shrink-0">dg =</span>
                <input type="text" data-correct-answer="680,4" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                <span class="shrink-0">cg</span>
              </p>
              <p class="text-gray-700 flex items-center gap-2 flex-wrap">
                <span class="shrink-0">1,5 kg =</span>
                <input type="text" data-correct-answer="15" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                <span class="shrink-0">hg =</span>
                <input type="text" data-correct-answer="1500" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                <span class="shrink-0">g</span>
              </p>
              <p class="text-gray-700 flex items-center gap-2 flex-wrap">
                <span class="shrink-0">234 dg =</span>
                <input type="text" data-correct-answer="2340" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                <span class="shrink-0">cg =</span>
                <input type="text" data-correct-answer="23400" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                <span class="shrink-0">mg</span>
              </p>
              <p class="text-gray-700 flex items-center gap-2 flex-wrap">
                <span class="shrink-0">0,57 Mg =</span>
                <input type="text" data-correct-answer="570" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                <span class="shrink-0">kg =</span>
                <input type="text" data-correct-answer="5700" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                <span class="shrink-0">hg</span>
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <%= render 'shared/quaderno_link', pagine: [220, 221, 222, 226, 227] %>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
