<div class="max-w-6xl mx-auto bg-white p-3 md:p-6"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">
    <!-- Problema introduttivo -->
    <div class="p-4 md:p-6">
      <div class="flex flex-col md:flex-row gap-4 items-start mb-4">
        <div class="flex-1">
          <div class="p-4 bg-custom-blue rounded-lg">
            <p class="text-gray-800">
              Luigi e Mattia devono dipingere una striscia di cartoncino.
              Luigi dipinge i <%= render 'shared/frazione', num: 3, den: 5 %> dell'intera striscia, Mattia ne dipinge i <%= render 'shared/frazione', num: 2, den: 5 %>.
            </p>
          </div>
        </div>
        <%= image_tag "nvi5_mat/p055/p055_01.jpg", class: "w-64", alt: "Striscia frazionata" %>
      </div>

      <p class="text-gray-800 mb-4">
        <span class="text-custom-pink">•</span> <strong>Colora con due colori diversi la parte dipinta da Luigi e la parte dipinta da Mattia: la striscia risulta interamente dipinta.</strong>
      </p>

      <div class="flex flex-col md:flex-row gap-6 items-start">
        <div class="flex-1">
          <p class="text-gray-800 mb-4">
            <%= render 'shared/frazione', num: 3, den: 5 %> e <%= render 'shared/frazione', num: 2, den: 5 %> sono frazioni tra loro <strong class="text-custom-pink">complementari</strong> perché la loro somma è l'intero, cioè 1.
          </p>

          <div class="flex items-center gap-2 mb-4">
            <%= render 'shared/frazione', num: 3, den: 5 %>
            <span>+</span>
            <%= render 'shared/frazione', num: 2, den: 5 %>
            <span>=</span>
            <%= render 'shared/frazione', num: 5, den: 5 %>
            <span>= <strong>1</strong></span>
          </div>

          <p class="text-gray-800">
            La frazione <%= render 'shared/frazione', num: 5, den: 5 %> equivale a 1, dunque all'<strong>intero</strong>.
          </p>
        </div>

        <div class="p-4 bg-pink-light rounded-3xl">
          <p class="text-gray-800">
            Le frazioni che addizionate formano l'intero si chiamano <strong class="text-custom-pink">frazioni complementari</strong>.
          </p>
        </div>
      </div>
    </div>

    <!-- Frazioni equivalenti -->
    <div class="p-4 md:p-6">
      <p class="text-gray-800 mb-4">
        <span class="text-custom-pink">•</span> <strong>Indica con una frazione la parte colorata di ogni figura.</strong>
      </p>

      <div class="flex flex-wrap justify-center gap-8 mb-6">
        <!-- Cerchio 1/2 -->
        <div class="flex flex-col items-center">
          <svg viewBox="0 0 120 120" class="w-24 h-24">
            <circle cx="60" cy="60" r="55" fill="#fbbf24" stroke="#000" stroke-width="2"/>
            <line x1="60" y1="5" x2="60" y2="115" stroke="#000" stroke-width="2"/>
            <path d="M 60 60 L 60 5 A 55 55 0 0 1 60 115 Z" fill="white" stroke="none"/>
            <line x1="60" y1="5" x2="60" y2="115" stroke="#000" stroke-width="2"/>
          </svg>
          <%= render 'shared/frazione', num: nil, den: nil, num_answer: "1", den_answer: "2" %>
        </div>

        <!-- Cerchio 2/4 -->
        <div class="flex flex-col items-center">
          <svg viewBox="0 0 120 120" class="w-24 h-24">
            <circle cx="60" cy="60" r="55" fill="#fbbf24" stroke="#000" stroke-width="2"/>
            <line x1="60" y1="5" x2="60" y2="115" stroke="#000" stroke-width="2"/>
            <line x1="5" y1="60" x2="115" y2="60" stroke="#000" stroke-width="2"/>
            <path d="M 60 60 L 60 5 A 55 55 0 0 1 115 60 Z" fill="white" stroke="none"/>
            <path d="M 60 60 L 115 60 A 55 55 0 0 1 60 115 Z" fill="white" stroke="none"/>
            <line x1="60" y1="5" x2="60" y2="115" stroke="#000" stroke-width="2"/>
            <line x1="5" y1="60" x2="115" y2="60" stroke="#000" stroke-width="2"/>
          </svg>
          <%= render 'shared/frazione', num: nil, den: nil, num_answer: "2", den_answer: "4" %>
        </div>

        <!-- Cerchio 3/6 -->
        <div class="flex flex-col items-center">
          <svg viewBox="0 0 120 120" class="w-24 h-24">
            <circle cx="60" cy="60" r="55" fill="#fbbf24" stroke="#000" stroke-width="2"/>
            <line x1="60" y1="5" x2="60" y2="115" stroke="#000" stroke-width="2"/>
            <line x1="12.4" y1="32.5" x2="107.6" y2="87.5" stroke="#000" stroke-width="2"/>
            <line x1="12.4" y1="87.5" x2="107.6" y2="32.5" stroke="#000" stroke-width="2"/>
            <path d="M 60 60 L 60 5 A 55 55 0 0 1 107.6 32.5 Z" fill="white" stroke="none"/>
            <path d="M 60 60 L 107.6 32.5 A 55 55 0 0 1 107.6 87.5 Z" fill="white" stroke="none"/>
            <path d="M 60 60 L 107.6 87.5 A 55 55 0 0 1 60 115 Z" fill="white" stroke="none"/>
            <line x1="60" y1="5" x2="60" y2="115" stroke="#000" stroke-width="2"/>
            <line x1="12.4" y1="32.5" x2="107.6" y2="87.5" stroke="#000" stroke-width="2"/>
            <line x1="12.4" y1="87.5" x2="107.6" y2="32.5" stroke="#000" stroke-width="2"/>
          </svg>
          <%= render 'shared/frazione', num: nil, den: nil, num_answer: "3", den_answer: "6" %>
        </div>
      </div>

      <div class="flex flex-col md:flex-row gap-6 items-start">
        <div class="flex-1">
          <p class="text-gray-800 mb-4">
            <%= render 'shared/frazione', num: 1, den: 2 %>, <%= render 'shared/frazione', num: 2, den: 4 %> e <%= render 'shared/frazione', num: 3, den: 6 %> indicano la stessa parte dell'intero, dunque sono fra loro <strong class="text-custom-pink">equivalenti</strong>.
          </p>
        </div>

        <div class="p-4 bg-pink-light rounded-3xl">
          <p class="text-gray-800">
            Le frazioni che rappresentano la stessa parte dell'intero si chiamano <strong class="text-custom-pink">frazioni equivalenti</strong>.
          </p>
        </div>
      </div>
    </div>

    <!-- Come ottenere frazioni equivalenti -->
    <div class="p-4 md:p-6">
      <div class="flex flex-col md:flex-row gap-6 items-start mb-6">
        <div class="flex-1">
          <p class="text-gray-800">
            Sai già che puoi ottenere frazioni equivalenti <strong>moltiplicando o dividendo per uno stesso numero</strong>, diverso da zero, <strong>il numeratore e il denominatore</strong>.
          </p>
        </div>
        <%= image_tag "nvi5_mat/p055/p055_06.jpg", class: "max-w-xs", alt: "Moltiplicando" %>
      </div>

      <div class="flex flex-col md:flex-row gap-6 items-start">
        <div class="flex-1">
          <p class="text-gray-800 mb-3">
            Tuttavia, non puoi usare questo metodo per verificare che <%= render 'shared/frazione', num: 2, den: 4 %> e <%= render 'shared/frazione', num: 3, den: 6 %> sono frazioni equivalenti, perché non esiste alcun numero intero che, moltiplicato per 2 e per 4, dia rispettivamente 3 e 6.
          </p>
          <p class="text-gray-800">
            Puoi allora usare un altro sistema: puoi dividere il numeratore e il denominatore per uno stesso numero, diverso da zero, fino ad avere la frazione equivalente con i termini più piccoli, cioè puoi <strong class="text-custom-pink">ridurre le frazioni ai minimi termini</strong>.
          </p>
        </div>
        <%= image_tag "nvi5_mat/p055/p055_07.jpg", class: "max-w-xs", alt: "Dividendo" %>
      </div>
    </div>

    <%= render 'shared/quaderno_link', pagine: [203, 204, 208] %>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
