<% content_for :titolo, "#{@pagina.titolo} - #{@pagina.numero}" %>

<div class="max-w-7xl mx-auto p-3 md:p-6 bg-white font-mono"
     data-controller="exercise-checker page-viewer text-toggle font-controls"
     data-page-viewer-image-url-value="<%= asset_path('bus3_mat/p156/page.png') %>"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <!-- Header -->
  <%= render 'shared/page_header', pagina: @pagina %>

  <!-- Esercizio 1 -->
  <div class="mb-12">
    <div class="flex items-start gap-3 mb-6">
      <div class="bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">
        1
      </div>
      <p class="text-gray-700">
        <strong>Leggi con attenzione e colora il cartellino con l'operazione che devi utilizzare, poi risolvi i problemi sul quaderno.</strong>
      </p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

      <!-- Problema a - moltiplicazione -->
      <div class="bg-gray-50 border border-gray-300 rounded p-4" data-controller="card-selector">
        <p class="font-bold text-cyan-600 mb-2">a.</p>
        <p class="mb-4">Un commerciante ha 8 confezioni da 32 bottiglie di aranciata. Quante bottiglie di aranciata può vendere?</p>
        <div class="flex gap-4 justify-center">
          <div class="bg-white border-2 border-gray-300 rounded px-4 py-2 cursor-pointer hover:border-cyan-500"
               data-card-selector-target="card" data-correct="true"
               data-action="click->card-selector#select">
            moltiplicazione
          </div>
          <div class="bg-white border-2 border-gray-300 rounded px-4 py-2 cursor-pointer hover:border-cyan-500"
               data-card-selector-target="card" data-correct="false"
               data-action="click->card-selector#select">
            divisione
          </div>
        </div>
      </div>

      <!-- Problema b - divisione -->
      <div class="bg-gray-50 border border-gray-300 rounded p-4" data-controller="card-selector">
        <p class="font-bold text-cyan-600 mb-2">b.</p>
        <p class="mb-4">Un commerciante ha 32 bottiglie di aranciata e vuole venderle in confezioni da 8 bottiglie. Quante confezioni può vendere?</p>
        <div class="flex gap-4 justify-center">
          <div class="bg-white border-2 border-gray-300 rounded px-4 py-2 cursor-pointer hover:border-cyan-500"
               data-card-selector-target="card" data-correct="false"
               data-action="click->card-selector#select">
            moltiplicazione
          </div>
          <div class="bg-white border-2 border-gray-300 rounded px-4 py-2 cursor-pointer hover:border-cyan-500"
               data-card-selector-target="card" data-correct="true"
               data-action="click->card-selector#select">
            divisione
          </div>
        </div>
      </div>

      <!-- Problema c - divisione -->
      <div class="bg-gray-50 border border-gray-300 rounded p-4" data-controller="card-selector">
        <p class="font-bold text-cyan-600 mb-2">c.</p>
        <p class="mb-4">Una ditta di pulizie deve pulire 56 vetri. Se ogni finestra ha 4 vetri, quante sono le finestre da pulire?</p>
        <div class="flex gap-4 justify-center">
          <div class="bg-white border-2 border-gray-300 rounded px-4 py-2 cursor-pointer hover:border-cyan-500"
               data-card-selector-target="card" data-correct="false"
               data-action="click->card-selector#select">
            moltiplicazione
          </div>
          <div class="bg-white border-2 border-gray-300 rounded px-4 py-2 cursor-pointer hover:border-cyan-500"
               data-card-selector-target="card" data-correct="true"
               data-action="click->card-selector#select">
            divisione
          </div>
        </div>
      </div>

      <!-- Problema d - moltiplicazione -->
      <div class="bg-gray-50 border border-gray-300 rounded p-4" data-controller="card-selector">
        <p class="font-bold text-cyan-600 mb-2">d.</p>
        <p class="mb-4">Una ditta di pulizie deve pulire 56 finestre. Ogni finestra ha 4 vetri. Quanti vetri deve pulire?</p>
        <div class="flex gap-4 justify-center">
          <div class="bg-white border-2 border-gray-300 rounded px-4 py-2 cursor-pointer hover:border-cyan-500"
               data-card-selector-target="card" data-correct="true"
               data-action="click->card-selector#select">
            moltiplicazione
          </div>
          <div class="bg-white border-2 border-gray-300 rounded px-4 py-2 cursor-pointer hover:border-cyan-500"
               data-card-selector-target="card" data-correct="false"
               data-action="click->card-selector#select">
            divisione
          </div>
        </div>
      </div>

      <!-- Problema e - moltiplicazione -->
      <div class="bg-gray-50 border border-gray-300 rounded p-4" data-controller="card-selector">
        <p class="font-bold text-cyan-600 mb-2">e.</p>
        <p class="mb-4">Un traghetto può trasportare 230 automobili. Quante automobili possono trasportare 3 traghetti?</p>
        <div class="flex gap-4 justify-center">
          <div class="bg-white border-2 border-gray-300 rounded px-4 py-2 cursor-pointer hover:border-cyan-500"
               data-card-selector-target="card" data-correct="true"
               data-action="click->card-selector#select">
            moltiplicazione
          </div>
          <div class="bg-white border-2 border-gray-300 rounded px-4 py-2 cursor-pointer hover:border-cyan-500"
               data-card-selector-target="card" data-correct="false"
               data-action="click->card-selector#select">
            divisione
          </div>
        </div>
      </div>

      <!-- Problema f - divisione -->
      <div class="bg-gray-50 border border-gray-300 rounded p-4" data-controller="card-selector">
        <p class="font-bold text-cyan-600 mb-2">f.</p>
        <p class="mb-4">3 traghetti possono trasportare 690 automobili. Quante automobili può trasportare un traghetto?</p>
        <div class="flex gap-4 justify-center">
          <div class="bg-white border-2 border-gray-300 rounded px-4 py-2 cursor-pointer hover:border-cyan-500"
               data-card-selector-target="card" data-correct="false"
               data-action="click->card-selector#select">
            moltiplicazione
          </div>
          <div class="bg-white border-2 border-gray-300 rounded px-4 py-2 cursor-pointer hover:border-cyan-500"
               data-card-selector-target="card" data-correct="true"
               data-action="click->card-selector#select">
            divisione
          </div>
        </div>
      </div>

      <!-- Problema g - moltiplicazione -->
      <div class="bg-gray-50 border border-gray-300 rounded p-4" data-controller="card-selector">
        <p class="font-bold text-cyan-600 mb-2">g.</p>
        <p class="mb-4">A Roma 4 guide turistiche accolgono dei turisti. Ogni guida turistica deve mostrare la città a 75 turisti. Quanti sono i turisti?</p>
        <div class="flex gap-4 justify-center">
          <div class="bg-white border-2 border-gray-300 rounded px-4 py-2 cursor-pointer hover:border-cyan-500"
               data-card-selector-target="card" data-correct="true"
               data-action="click->card-selector#select">
            moltiplicazione
          </div>
          <div class="bg-white border-2 border-gray-300 rounded px-4 py-2 cursor-pointer hover:border-cyan-500"
               data-card-selector-target="card" data-correct="false"
               data-action="click->card-selector#select">
            divisione
          </div>
        </div>
      </div>

      <!-- Problema h - divisione -->
      <div class="bg-gray-50 border border-gray-300 rounded p-4" data-controller="card-selector">
        <p class="font-bold text-cyan-600 mb-2">h.</p>
        <p class="mb-4">A Roma 4 guide turistiche decidono di dividere in parti uguali 316 turisti a cui mostrare la città. Quanti turisti per ogni guida?</p>
        <div class="flex gap-4 justify-center">
          <div class="bg-white border-2 border-gray-300 rounded px-4 py-2 cursor-pointer hover:border-cyan-500"
               data-card-selector-target="card" data-correct="false"
               data-action="click->card-selector#select">
            moltiplicazione
          </div>
          <div class="bg-white border-2 border-gray-300 rounded px-4 py-2 cursor-pointer hover:border-cyan-500"
               data-card-selector-target="card" data-correct="true"
               data-action="click->card-selector#select">
            divisione
          </div>
        </div>
      </div>

    </div>
  </div>

  <!-- Footer con controlli -->
  <%= render 'shared/exercise_controls' %>
</div>
