<div class="max-w-6xl mx-auto bg-white p-3 md:p-6"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">
    <!-- Introduzione -->
    <p class="text-gray-700">
      Oggetti, persone, animali... possono essere messi in <strong>relazione</strong> tra loro in base a caratteristiche, proprietà o regole. Graficamente le relazioni sono rappresentate da <strong>frecce</strong>.
    </p>

    <!-- Esercizio 1: Metti in relazione le persone -->
    <div class="p-4 bg-orange-100 rounded-lg">
      <p class="font-bold text-gray-700 mb-4">
        • <strong>Metti in relazione le persone di ciascuna coppia con una freccia che dica: "è più giovane di".</strong>
      </p>
      <div class="flex justify-center">
        <%= image_tag "nvi5_mat/p159/output-1715938802159_137_308_830_221.png", class: "max-w-full rounded-lg", alt: "Persone da mettere in relazione" %>
      </div>
    </div>

    <!-- Esercizio 2: Osserva le frecce -->
    <div class="p-4 bg-orange-100 rounded-lg">
      <p class="font-bold text-gray-700 mb-4">
        • <strong>Osserva le frecce, segna con una X le risposte corrette e completa le frasi.</strong>
      </p>

      <div class="flex justify-center mb-4">
        <%= image_tag "nvi5_mat/p159/p159_01.jpg", class: "max-w-xs rounded-lg", alt: "Frecce 12 e 6" %>
      </div>

      <div class="space-y-4">
        <div>
          <p class="text-gray-700 mb-2">– Che cosa dice la freccia rossa?</p>
          <div class="flex gap-4 flex-wrap">
            <label class="flex items-center gap-2 cursor-pointer hover:bg-orange-50 p-2 rounded">
              <input type="radio" name="freccia_rossa" class="w-5 h-5" data-correct-answer="true">
              <span class="text-gray-700">È il doppio di</span>
            </label>
            <label class="flex items-center gap-2 cursor-pointer hover:bg-orange-50 p-2 rounded">
              <input type="radio" name="freccia_rossa" class="w-5 h-5" data-correct-answer="false">
              <span class="text-gray-700">È la metà di</span>
            </label>
          </div>
        </div>

        <div>
          <p class="text-gray-700 mb-2">– Che cosa dice la freccia blu?</p>
          <div class="flex gap-4 flex-wrap">
            <label class="flex items-center gap-2 cursor-pointer hover:bg-orange-50 p-2 rounded">
              <input type="radio" name="freccia_blu" class="w-5 h-5" data-correct-answer="false">
              <span class="text-gray-700">È il doppio di</span>
            </label>
            <label class="flex items-center gap-2 cursor-pointer hover:bg-orange-50 p-2 rounded">
              <input type="radio" name="freccia_blu" class="w-5 h-5" data-correct-answer="true">
              <span class="text-gray-700">È la metà di</span>
            </label>
          </div>
        </div>

        <div class="flex items-center gap-2 flex-wrap">
          <span class="text-gray-700">– Possiamo dire che: 12 è il doppio di</span>
          <input type="text" data-correct-answer="6" class="w-12 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          <span class="text-gray-700">, quindi</span>
          <input type="text" data-correct-answer="6" class="w-12 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          <span class="text-gray-700">è la metà di</span>
          <input type="text" data-correct-answer="12" class="w-12 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
        </div>

        <p class="font-bold text-gray-700">Cambiando il verso della freccia, cambia anche la relazione.</p>
      </div>
    </div>

    <!-- Esercizio 3: Freccia cugina -->
    <div class="p-4 bg-orange-100 rounded-lg">
      <p class="font-bold text-gray-700 mb-4">
        • <strong>Osserva le frecce, leggi che cosa dice la freccia rossa e scrivi che cosa dice la freccia blu.</strong>
      </p>

      <div class="flex justify-center mb-4">
        <%= image_tag "nvi5_mat/p159/output-1715938802159_755_770_214_160.png", class: "max-w-xs rounded-lg", alt: "Relazione cugina" %>
      </div>

      <div class="flex items-center gap-2 flex-wrap mb-3">
        <span class="text-gray-700">La freccia blu dice:</span>
        <input type="text" data-correct-answer="è cugina di" class="w-40 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
      </div>

      <p class="font-bold text-gray-700">Cambiando il verso della freccia, la relazione non cambia.</p>
      <p class="text-gray-700">Diciamo perciò che "essere cugina/o di" è una <strong>relazione simmetrica</strong>.</p>
    </div>

    <!-- ESERCIZI -->
    <div class="p-4 md:p-6 bg-orange-100 rounded-lg">
      <h2 class="font-bold text-orange-600 mb-4">ESERCIZI</h2>

      <div>
        <p class="font-bold text-gray-700 mb-4">
          <%= numero_esercizio_badge(1) %>
          Individua le relazioni e completa le frasi. Poi indica con una X le relazioni simmetriche.
        </p>

        <div class="space-y-4">
          <div class="flex items-start gap-2">
            <input type="checkbox" class="w-5 h-5 mt-1" data-correct-answer="false">
            <div class="flex items-center gap-1 flex-wrap">
              <span class="text-gray-700">Matteo è il figlio di Sergio, quindi Sergio è il</span>
              <input type="text" data-correct-answer="padre" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
              <span class="text-gray-700">di Matteo.</span>
            </div>
          </div>

          <div class="flex items-start gap-2">
            <input type="checkbox" class="w-5 h-5 mt-1" data-correct-answer="true">
            <div class="flex items-center gap-1 flex-wrap">
              <span class="text-gray-700">Pietro vive nella stessa via di Anna, quindi Anna vive</span>
              <input type="text" data-correct-answer="nella stessa via" class="w-32 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
              <span class="text-gray-700">di Pietro.</span>
            </div>
          </div>

          <div class="flex items-start gap-2">
            <input type="checkbox" class="w-5 h-5 mt-1" data-correct-answer="false">
            <div class="flex items-center gap-1 flex-wrap">
              <span class="text-gray-700">150 diviso 5 fa 30, quindi 30</span>
              <input type="text" data-correct-answer="moltiplicato" class="w-28 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
              <span class="text-gray-700">5 fa 150.</span>
            </div>
          </div>

          <div class="flex items-start gap-2">
            <input type="checkbox" class="w-5 h-5 mt-1" data-correct-answer="true">
            <div class="flex items-center gap-1 flex-wrap">
              <span class="text-gray-700">Marco è compagno di scuola di Gabriele, quindi Gabriele è</span>
              <input type="text" data-correct-answer="compagno di scuola" class="w-40 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
              <span class="text-gray-700">di</span>
              <input type="text" data-correct-answer="Marco" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
              <span class="text-gray-700">.</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
