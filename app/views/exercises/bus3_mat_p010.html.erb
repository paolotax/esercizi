<% content_for :titolo, "#{@pagina.titolo} - #{@pagina.numero}" %>

<div class="max-w-7xl mx-auto p-3 md:p-6 bg-white dark:bg-gray-900 text-black dark:text-white transition-colors duration-300"
     data-controller="exercise-checker page-viewer text-toggle font-controls"
     data-page-viewer-image-url-value="<%= asset_path('bus3_mat/p010/page.png') %>"
     data-text-toggle-target="content"
     data-font-controls-target="content">
  <!-- Header -->
  <%= render 'shared/page_header', pagina: @pagina %>

  <!-- Parte teorica -->
  <div class="bg-cyan-100 dark:bg-cyan-900/40 p-4 md:p-6 mb-8 rounded-lg">
    <p class="text-gray-800 dark:text-gray-200 mb-4">
      <strong>ðŸ”´  Un numero di 3 cifre si puÃ² scomporre cosÃ¬:</strong>
    </p>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
      <!-- Tabella sinistra -->
      <div class="overflow-x-auto">
        <div class="border-3 border-cyan-400 dark:border-cyan-500 rounded-2xl overflow-hidden">
          <table class="w-full">
            <tbody>
            <tr>
              <td class="border-2 border-cyan-400 dark:border-cyan-500 px-4 py-3 text-center font-bold text-green-600 dark:text-green-400 bg-white dark:bg-gray-800">
                centinaia
              </td>
              <td class="border-2 border-cyan-400 dark:border-cyan-500 px-4 py-3 text-center font-bold text-red-600 dark:text-red-400 bg-white dark:bg-gray-800">
                decine
              </td>
              <td class="border-2 border-cyan-400 dark:border-cyan-500 px-4 py-3 text-center font-bold text-cyan-600 dark:text-cyan-400 bg-white dark:bg-gray-800">
                unitÃ 
              </td>
            </tr>
            <tr>
              <td class="border-2 border-cyan-400 dark:border-cyan-500 px-4 py-3 text-center font-bold bg-white dark:bg-gray-800">6</td>
              <td class="border-2 border-cyan-400 dark:border-cyan-500 px-4 py-3 text-center font-bold bg-white dark:bg-gray-800">3</td>
              <td class="border-2 border-cyan-400 dark:border-cyan-500 px-4 py-3 text-center font-bold bg-white dark:bg-gray-800">9</td>
            </tr>
            <tr>
              <td class="border-2 border-cyan-400 dark:border-cyan-500 px-4 py-3 text-center bg-white dark:bg-gray-800">
                sei<strong>cento</strong>
              </td>
              <td class="border-2 border-cyan-400 dark:border-cyan-500 px-4 py-3 text-center bg-white dark:bg-gray-800">trenta</td>
              <td class="border-2 border-cyan-400 dark:border-cyan-500 px-4 py-3 text-center bg-white dark:bg-gray-800">nove</td>
            </tr>
          </tbody>
          </table>
        </div>
      </div>

      <!-- Tabella destra -->
      <div class="overflow-x-auto">
        <div class="border-3 border-cyan-400 dark:border-cyan-500 rounded-2xl overflow-hidden">
          <table class="w-full">
            <tbody>
            <tr>
              <td class="border-2 border-cyan-400 dark:border-cyan-500 px-4 py-3 font-bold bg-white dark:bg-gray-800" colspan="2">
                come somma di addendi
              </td>
              <td class="border-2 border-cyan-400 dark:border-cyan-500 px-4 py-3 text-center font-bold bg-white dark:bg-gray-800" colspan="2">
                600 + 30 + 9
              </td>
            </tr>
            <tr>
              <td class="border-2 border-cyan-400 dark:border-cyan-500 px-4 py-3 font-bold bg-white dark:bg-gray-800" colspan="2">
                con la scomposizione
              </td>
              <td class="border-2 border-cyan-400 dark:border-cyan-500 px-4 py-3 text-center font-bold bg-white dark:bg-gray-800" colspan="2">
                6 h 3 da 9 u
              </td>
            </tr>
            <tr>
              <td class="border-2 border-cyan-400 dark:border-cyan-500 px-4 py-3 font-bold bg-white dark:bg-gray-800" colspan="2">
                come somma di prodotti
              </td>
              <td class="border-2 border-cyan-400 dark:border-cyan-500 px-4 py-3 text-center font-bold bg-white dark:bg-gray-800" colspan="2">
                (6 Ã— 100) + (3 Ã— 10) + (9 Ã— 1)
              </td>
            </tr>
          </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- Esercizio 1: Scomponi il numero 237 -->
  <div class="bg-transparent p-4 md:p-8 mb-8" data-controller="fill-blanks auto-advance">
    <div class="flex items-start gap-3 mb-6">
      <div class="bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">
        1
      </div>
      <p class="text-gray-700 dark:text-gray-200">
        Scomponi il numero <strong class="text-blue-600 dark:text-blue-400">237</strong> come hai imparato negli schemi sopra.
      </p>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
      <!-- Tabella sinistra -->
      <div class="overflow-x-auto">
        <div class="border-3 border-cyan-400 dark:border-cyan-500 rounded-2xl overflow-hidden">
          <table class="w-full">
            <tbody>
            <tr>
              <td class="border-2 border-cyan-400 dark:border-cyan-500 px-4 py-3 text-center font-bold text-green-600 dark:text-green-400 bg-white dark:bg-gray-800">
                centinaia
              </td>
              <td class="border-2 border-cyan-400 dark:border-cyan-500 px-4 py-3 text-center font-bold text-red-600 dark:text-red-400 bg-white dark:bg-gray-800">
                decine
              </td>
              <td class="border-2 border-cyan-400 dark:border-cyan-500 px-4 py-3 text-center font-bold text-cyan-600 dark:text-cyan-400 bg-white dark:bg-gray-800">
                unitÃ 
              </td>
            </tr>
            <tr>
              <td class="border-2 border-cyan-400 dark:border-cyan-500 px-4 py-3 text-center bg-white dark:bg-gray-800">
                <input type="text" data-fill-blanks-target="input" data-correct-answer="2"
                       class="w-16 px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white"
                       maxlength="1" inputmode="numeric">
              </td>
              <td class="border-2 border-cyan-400 dark:border-cyan-500 px-4 py-3 text-center bg-white dark:bg-gray-800">
                <input type="text" data-fill-blanks-target="input" data-correct-answer="3"
                       class="w-16 px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white"
                       maxlength="1" inputmode="numeric">
              </td>
              <td class="border-2 border-cyan-400 dark:border-cyan-500 px-4 py-3 text-center bg-white dark:bg-gray-800">
                <input type="text" data-fill-blanks-target="input" data-correct-answer="7"
                       class="w-16 px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white"
                       maxlength="1" inputmode="numeric">
              </td>
            </tr>
            <tr>
              <td class="border-2 border-cyan-400 dark:border-cyan-500 px-4 py-3 text-center bg-white dark:bg-gray-800">
                <input type="text" data-fill-blanks-target="input" data-correct-answer="duecento"
                       class="w-full px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white"
                       maxlength="12">
              </td>
              <td class="border-2 border-cyan-400 dark:border-cyan-500 px-4 py-3 text-center bg-white dark:bg-gray-800">
                <input type="text" data-fill-blanks-target="input" data-correct-answer="trenta"
                       class="w-full px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white"
                       maxlength="8">
              </td>
              <td class="border-2 border-cyan-400 dark:border-cyan-500 px-4 py-3 text-center bg-white dark:bg-gray-800">
                <input type="text" data-fill-blanks-target="input" data-correct-answer="sette"
                       class="w-full px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white"
                       maxlength="6">
              </td>
            </tr>
          </tbody>
          </table>
        </div>
      </div>

      <!-- Tabella destra -->
      <div class="overflow-x-auto">
        <div class="border-3 border-cyan-400 dark:border-cyan-500 rounded-2xl overflow-hidden">
          <table class="w-full">
            <tbody>
            <tr>
              <td class="border-2 border-cyan-400 dark:border-cyan-500 px-4 py-3 text-center font-bold bg-white dark:bg-gray-800">
                237
              </td>
              <td class="border-2 border-cyan-400 dark:border-cyan-500 px-4 py-3 text-center bg-white dark:bg-gray-800">
                <div class="flex items-center justify-center gap-2 flex-wrap">
                  <input type="text" data-fill-blanks-target="input" data-correct-answer="200"
                         class="w-16 px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white"
                         maxlength="3" inputmode="numeric">
                  <span class="font-bold">+</span>
                  <input type="text" data-fill-blanks-target="input" data-correct-answer="30"
                         class="w-16 px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white"
                         maxlength="2" inputmode="numeric">
                  <span class="font-bold">+</span>
                  <input type="text" data-fill-blanks-target="input" data-correct-answer="7"
                         class="w-16 px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white"
                         maxlength="1" inputmode="numeric">
                </div>
              </td>
            </tr>
            <tr>
              <td class="border-2 border-cyan-400 dark:border-cyan-500 px-4 py-3 text-center font-bold bg-white dark:bg-gray-800">
                237
              </td>
              <td class="border-2 border-cyan-400 dark:border-cyan-500 px-4 py-3 text-center bg-white dark:bg-gray-800">
                <div class="flex items-center justify-center gap-2 flex-wrap">
                  <input type="text" data-fill-blanks-target="input" data-correct-answer="2"
                         class="w-12 px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white"
                         maxlength="1" inputmode="numeric">
                  <span class="font-bold">h</span>
                  <input type="text" data-fill-blanks-target="input" data-correct-answer="3"
                         class="w-12 px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white"
                         maxlength="1" inputmode="numeric">
                  <span class="font-bold">da</span>
                  <input type="text" data-fill-blanks-target="input" data-correct-answer="7"
                         class="w-12 px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white"
                         maxlength="1" inputmode="numeric">
                  <span class="font-bold">u</span>
                </div>
              </td>
            </tr>
            <tr>
              <td class="border-2 border-cyan-400 dark:border-cyan-500 px-4 py-3 text-center font-bold bg-white dark:bg-gray-800">
                237
              </td>
              <td class="border-2 border-cyan-400 dark:border-cyan-500 px-4 py-3 text-center bg-white dark:bg-gray-800">
                <div class="flex items-center justify-center gap-1 flex-wrap md: ">
                  <span>(</span>
                  <input type="text" data-fill-blanks-target="input" data-correct-answer="2"
                         class="w-10 px-1 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white"
                         maxlength="1" inputmode="numeric">
                  <span>Ã— 100) +</span>
                  <span>(</span>
                  <input type="text" data-fill-blanks-target="input" data-correct-answer="3"
                         class="w-10 px-1 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white"
                         maxlength="1" inputmode="numeric">
                  <span>Ã—</span>
                  <input type="text" data-fill-blanks-target="input" data-correct-answer="10"
                         class="w-10 px-1 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white"
                         maxlength="2" inputmode="numeric">
                  <span>) +</span>
                  <span>(</span>
                  <input type="text" data-fill-blanks-target="input" data-correct-answer="7"
                         class="w-10 px-1 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white"
                         maxlength="1" inputmode="numeric">
                  <span>Ã—</span>
                  <input type="text" data-fill-blanks-target="input" data-correct-answer="1"
                         class="w-10 px-1 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white"
                         maxlength="1" inputmode="numeric">
                  <span>)</span>
                </div>
              </td>
            </tr>
          </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- Esercizio 2: Completa la tabella -->
  <div class="bg-transparent p-4 md:p-8 mb-8" data-controller="fill-blanks auto-advance">
    <div class="flex items-start gap-3 mb-6">
      <div class="bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">
        2
      </div>
      <p class="text-gray-700 dark:text-gray-200">
        Completa la tabella come nell'esempio.
      </p>
    </div>

    <div class="overflow-x-auto">
      <div class="border-3 border-cyan-400 dark:border-cyan-500 rounded-2xl overflow-x-auto">
        <table class="table-auto" style="min-width: 600px;">
          <tbody>
          <!-- Riga esempio: 323 -->
          <tr>
            <td class="border-2 border-cyan-400 dark:border-cyan-500 px-4 py-6 text-center font-bold text-cyan-700 dark:text-cyan-400 align-middle w-24 bg-white dark:bg-gray-800">
              323
            </td>
            <td class="border-2 border-cyan-400 dark:border-cyan-500 px-3 py-2 text-center font-bold text-cyan-700 dark:text-cyan-400 whitespace-nowrap bg-white dark:bg-gray-800">
              3 h 2 da 3 u
            </td>
            <td class="border-2 border-cyan-400 dark:border-cyan-500 px-3 py-2 text-center font-bold text-cyan-700 dark:text-cyan-400 whitespace-nowrap bg-white dark:bg-gray-800">
              300 + 20 + 3
            </td>
            <td class="border-2 border-cyan-400 dark:border-cyan-500 px-3 py-2 text-center font-bold text-cyan-700 dark:text-cyan-400 whitespace-nowrap bg-white dark:bg-gray-800">
              (3 Ã— 100) + (2 Ã— 10) + (3 Ã— 1)
            </td>
            <td class="border-2 border-cyan-400 dark:border-cyan-500 px-3 py-2 text-center font-bold text-cyan-700 dark:text-cyan-400 whitespace-nowrap bg-white dark:bg-gray-800">
              trecentoventitrÃ©
            </td>
          </tr>

          <!-- Riga 1: 207 -->
          <tr>
            <td class="border-2 border-cyan-400 dark:border-cyan-500 px-4 py-6 text-center font-bold align-middle bg-white dark:bg-gray-800">
              207
            </td>
            <td class="border-2 border-cyan-400 dark:border-cyan-500 px-3 py-2 text-center bg-white dark:bg-gray-800">
              <input type="text" data-fill-blanks-target="input" data-correct-answer="2 h 0 da 7 u"
                     class="w-full px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white"
                     maxlength="13">
            </td>
            <td class="border-2 border-cyan-400 dark:border-cyan-500 px-3 py-2 text-center bg-white dark:bg-gray-800">
              <input type="text" data-fill-blanks-target="input" data-correct-answer="200 + 0 + 7"
                     class="w-full px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white"
                     maxlength="11">
            </td>
            <td class="border-2 border-cyan-400 dark:border-cyan-500 px-3 py-2 text-center bg-white dark:bg-gray-800">
              <input type="text" data-fill-blanks-target="input" data-correct-answer="(2 Ã— 100) + (0 Ã— 10) + (7 Ã— 1)"
                     class="w-full px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white"
                     maxlength="30">
            </td>
            <td class="border-2 border-cyan-400 dark:border-cyan-500 px-3 py-2 text-center bg-white dark:bg-gray-800">
              <input type="text" data-fill-blanks-target="input" data-correct-answer="duecentosette"
                     class="w-full px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white"
                     maxlength="15">
            </td>
          </tr>

          <!-- Riga 2: 561 (from (5 Ã— 100) + (6 Ã— 10) + (1 Ã— 1)) -->
          <tr>
            <td class="border-2 border-cyan-400 dark:border-cyan-500 px-4 py-6 text-center align-middle bg-white dark:bg-gray-800">
              <input type="text" data-fill-blanks-target="input" data-correct-answer="561"
                     class="w-20 mx-auto px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white"
                     maxlength="3" inputmode="numeric">
            </td>
            <td class="border-2 border-cyan-400 dark:border-cyan-500 px-3 py-2 text-center bg-white dark:bg-gray-800">
              <input type="text" data-fill-blanks-target="input" data-correct-answer="5 h 6 da 1 u"
                     class="w-full px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white"
                     maxlength="13">
            </td>
            <td class="border-2 border-cyan-400 dark:border-cyan-500 px-3 py-2 text-center bg-white dark:bg-gray-800">
              <input type="text" data-fill-blanks-target="input" data-correct-answer="500 + 60 + 1"
                     class="w-full px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white"
                     maxlength="11">
            </td>
            <td class="border-2 border-cyan-400 dark:border-cyan-500 px-3 py-2 text-center font-bold bg-white dark:bg-gray-800">
              (5 Ã— 100) + (6 Ã— 10) + (1 Ã— 1)
            </td>
            <td class="border-2 border-cyan-400 dark:border-cyan-500 px-3 py-2 text-center bg-white dark:bg-gray-800">
              <input type="text" data-fill-blanks-target="input" data-correct-answer="cinquecentosessantuno"
                     class="w-full px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white"
                     maxlength="25">
            </td>
          </tr>

          <!-- Riga 3: 184 (from centottantaquattro) -->
          <tr>
            <td class="border-2 border-cyan-400 dark:border-cyan-500 px-4 py-6 text-center align-middle bg-white dark:bg-gray-800">
              <input type="text" data-fill-blanks-target="input" data-correct-answer="184"
                     class="w-20 mx-auto px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white"
                     maxlength="3" inputmode="numeric">
            </td>
            <td class="border-2 border-cyan-400 dark:border-cyan-500 px-3 py-2 text-center bg-white dark:bg-gray-800">
              <input type="text" data-fill-blanks-target="input" data-correct-answer="1 h 8 da 4 u"
                     class="w-full px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white"
                     maxlength="13">
            </td>
            <td class="border-2 border-cyan-400 dark:border-cyan-500 px-3 py-2 text-center bg-white dark:bg-gray-800">
              <input type="text" data-fill-blanks-target="input" data-correct-answer="100 + 80 + 4"
                     class="w-full px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white"
                     maxlength="11">
            </td>
            <td class="border-2 border-cyan-400 dark:border-cyan-500 px-3 py-2 text-center bg-white dark:bg-gray-800">
              <input type="text" data-fill-blanks-target="input" data-correct-answer="(1 Ã— 100) + (8 Ã— 10) + (4 Ã— 1)"
                     class="w-full px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white"
                     maxlength="30">
            </td>
            <td class="border-2 border-cyan-400 dark:border-cyan-500 px-3 py-2 text-center font-bold bg-white dark:bg-gray-800">
              centottantaquattro
            </td>
          </tr>
        </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- Esercizio 3: Indica con una X quanto vale ogni cifra evidenziata -->
  <style>
    .custom-checkbox {
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
      width: 1.75rem;
      height: 1.75rem;
      border: 2px solid #67e8f9;
      border-radius: 0.25rem;
      position: relative;
      cursor: pointer;
      background-color: white;
    }
    .dark .custom-checkbox {
      background-color: #1f2937;
      border-color: #22d3ee;
    }
    .custom-checkbox:checked {
      background-color: white;
    }
    .dark .custom-checkbox:checked {
      background-color: #1f2937;
    }
    .custom-checkbox:checked::after {
      content: '';
      position: absolute;
      left: 50%;
      top: 50%;
      width: 0.875rem;
      height: 0.125rem;
      background-color: #ef4444;
      transform: translate(-50%, -50%) rotate(45deg);
    }
    .custom-checkbox:checked::before {
      content: '';
      position: absolute;
      left: 50%;
      top: 50%;
      width: 0.875rem;
      height: 0.125rem;
      background-color: #ef4444;
      transform: translate(-50%, -50%) rotate(-45deg);
    }
  </style>
  <div class="bg-white dark:bg-gray-800 p-4 md:p-8 mb-8 rounded-lg" data-controller="exercise-checker">
    <div class="flex items-start gap-3 mb-6">
      <div class="bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">
        3
      </div>
      <p class="text-gray-700 dark:text-gray-200">
        Indica con una <strong class="text-red-600 dark:text-red-400">X</strong> quanto vale ogni cifra evidenziata.
      </p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <!-- 695 - cifra 9 sottolineata (9 da) -->
      <div class="p-4">
        <div class="flex flex-col text-gray-700 dark:text-gray-200 md:flex-row items-center gap-4">
          <div class="">
            6<span class="text-blue-600 dark:text-blue-400">9</span>5
          </div>
          <div class="flex gap-6 flex-wrap">
            <label class="flex items-center gap-4 cursor-pointer">
              <input type="checkbox" data-correct-answer="false" class="custom-checkbox">
              <span class="font-bold">9 h</span>
            </label>
            <label class="flex items-center gap-4 cursor-pointer">
              <input type="checkbox" data-correct-answer="true" class="custom-checkbox">
              <span class="font-bold">9 da</span>
            </label>
            <label class="flex items-center gap-4 cursor-pointer">
              <input type="checkbox" data-correct-answer="false" class="custom-checkbox">
              <span class="font-bold">9 u</span>
            </label>
          </div>
        </div>
      </div>

      <!-- 587 - cifra 7 sottolineata (7 u) -->
      <div class="p-4">
        <div class="flex flex-col text-gray-700 dark:text-gray-200 md:flex-row items-center gap-4">
          <div class="">
            58<span class="text-blue-600 dark:text-blue-400">7</span>
          </div>
          <div class="flex gap-6 flex-wrap">
            <label class="flex items-center gap-4 cursor-pointer">
              <input type="checkbox" data-correct-answer="false" class="custom-checkbox">
              <span class="font-bold">7 h</span>
            </label>
            <label class="flex items-center gap-4 cursor-pointer">
              <input type="checkbox" data-correct-answer="false" class="custom-checkbox">
              <span class="font-bold">7 da</span>
            </label>
            <label class="flex items-center gap-4 cursor-pointer">
              <input type="checkbox" data-correct-answer="true" class="custom-checkbox">
              <span class="font-bold">7 u</span>
            </label>
          </div>
        </div>
      </div>

      <!-- 203 - cifra 0 sottolineata (0 da) -->
      <div class="p-4">
        <div class="flex flex-col text-gray-700 dark:text-gray-200 md:flex-row items-center gap-4">
          <div class="">
            2<span class="text-blue-600 dark:text-blue-400">0</span>3
          </div>
          <div class="flex gap-6 flex-wrap">
            <label class="flex items-center gap-4 cursor-pointer">
              <input type="checkbox" data-correct-answer="false" class="custom-checkbox">
              <span class="font-bold">0 h</span>
            </label>
            <label class="flex items-center gap-4 cursor-pointer">
              <input type="checkbox" data-correct-answer="true" class="custom-checkbox">
              <span class="font-bold">0 da</span>
            </label>
            <label class="flex items-center gap-4 cursor-pointer">
              <input type="checkbox" data-correct-answer="false" class="custom-checkbox">
              <span class="font-bold">0 u</span>
            </label>
          </div>
        </div>
      </div>

      <!-- 474 - cifra 4 sottolineata (4 h) -->
      <div class="p-4">
        <div class="flex flex-col text-gray-700 dark:text-gray-200 md:flex-row items-center gap-4">
          <div class="">
            <span class="text-blue-600 dark:text-blue-400">4</span>74
          </div>
          <div class="flex gap-6 flex-wrap">
            <label class="flex items-center gap-4 cursor-pointer">
              <input type="checkbox" data-correct-answer="true" class="custom-checkbox">
              <span class="font-bold">4 h</span>
            </label>
            <label class="flex items-center gap-4 cursor-pointer">
              <input type="checkbox" data-correct-answer="false" class="custom-checkbox">
              <span class="font-bold">4 da</span>
            </label>
            <label class="flex items-center gap-4 cursor-pointer">
              <input type="checkbox" data-correct-answer="false" class="custom-checkbox">
              <span class="font-bold">4 u</span>
            </label>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Esercizio 4: Componi i numeri -->
  <div class="bg-transparent p-4 md:p-8 mb-8" data-controller="fill-blanks auto-advance">
    <div class="flex items-start gap-3 mb-6">
      <div class="bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">
        4
      </div>
      <p class="text-gray-700 dark:text-gray-200">
        Componi i numeri.
      </p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div class="p-4 flex items-center gap-4 flex-wrap">
        <span class="font-bold min-w-[150px]">1 h 1 da 1 u</span>
        <span class="text-red-600 dark:text-red-400">â†’</span>
        <input type="text" data-fill-blanks-target="input" data-correct-answer="111"
               class="w-20 px-4 py-2 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white"
               maxlength="3" inputmode="numeric">
      </div>

      <div class="p-4 flex items-center gap-4 flex-wrap">
        <span class="font-bold min-w-[150px]">2 h 0 da 2 u</span>
        <span class="text-red-600 dark:text-red-400">â†’</span>
        <input type="text" data-fill-blanks-target="input" data-correct-answer="202"
               class="w-20 px-4 py-2 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white"
               maxlength="3" inputmode="numeric">
      </div>

      <div class="p-4 flex items-center gap-4 flex-wrap">
        <span class="font-bold min-w-[150px]">5 h 2 da 0 u</span>
        <span class="text-red-600 dark:text-red-400">â†’</span>
        <input type="text" data-fill-blanks-target="input" data-correct-answer="520"
               class="w-20 px-4 py-2 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white"
               maxlength="3" inputmode="numeric">
      </div>

      <div class="p-4 flex items-center gap-4 flex-wrap">
        <span class="font-bold min-w-[150px]">3 h 0 da 7 u</span>
        <span class="text-red-600 dark:text-red-400">â†’</span>
        <input type="text" data-fill-blanks-target="input" data-correct-answer="307"
               class="w-20 px-4 py-2 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white"
               maxlength="3" inputmode="numeric">
      </div>
    </div>
  </div>

  <!-- Footer con controlli -->
  <%= render 'shared/exercise_controls', color: 'cyan' %>
</div>
