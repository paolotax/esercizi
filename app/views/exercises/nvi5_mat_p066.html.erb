<div class="max-w-6xl mx-auto bg-white p-3 md:p-6"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">
    <!-- ESERCIZI -->
    <div class="p-4 md:p-6 bg-orange-100 rounded-lg">
      <h2 class="inline-block px-3 py-1 bg-pink-600 text-white font-bold rounded mb-4">ESERCIZI</h2>

      <!-- Esercizio 1 - IMPARARE TUTTI -->
      <div class="p-4 mb-6">
        <div class="flex items-start gap-3 mb-4">
          <%= numero_esercizio_badge(1, colore: "cyan-700") %>
          <span class="inline-block px-2 py-1 bg-yellow-400 text-gray-800 font-bold text-sm rounded mr-2">IMPARARE TUTTI</span>
          <p class="font-bold text-gray-700">Completa le due frazioni e cerchia la maggiore.</p>
        </div>
        <div class="flex items-center gap-6 justify-center flex-wrap">
          <div class="flex items-center gap-2">
            <div class="flex gap-0.5">
              <div class="w-4 h-8 bg-pink-400 border border-gray-400"></div>
              <div class="w-4 h-8 bg-pink-400 border border-gray-400"></div>
              <div class="w-4 h-8 bg-pink-400 border border-gray-400"></div>
              <div class="w-4 h-8 bg-pink-400 border border-gray-400"></div>
              <div class="w-4 h-8 bg-pink-400 border border-gray-400"></div>
              <div class="w-4 h-8 bg-white border border-gray-400"></div>
            </div>
            <%= render 'shared/frazione', num: nil, den: 6, num_answer: "5" %>
          </div>
          <div class="flex items-center gap-2">
            <div class="flex gap-0.5">
              <div class="w-4 h-8 bg-pink-400 border border-gray-400"></div>
              <div class="w-4 h-8 bg-pink-400 border border-gray-400"></div>
              <div class="w-4 h-8 bg-pink-400 border border-gray-400"></div>
              <div class="w-4 h-8 bg-white border border-gray-400"></div>
              <div class="w-4 h-8 bg-white border border-gray-400"></div>
              <div class="w-4 h-8 bg-white border border-gray-400"></div>
            </div>
            <%= render 'shared/frazione', num: nil, den: 6, num_answer: "3" %>
          </div>
        </div>
      </div>

      <!-- Esercizio 2 - IMPARARE TUTTI -->
      <div class="p-4 mb-6">
        <div class="flex items-start gap-3 mb-4">
          <%= numero_esercizio_badge(2, colore: "cyan-700") %>
          <span class="inline-block px-2 py-1 bg-yellow-400 text-gray-800 font-bold text-sm rounded mr-2">IMPARARE TUTTI</span>
          <p class="font-bold text-gray-700">Completa le due frazioni e cerchia la minore.</p>
        </div>
        <div class="flex items-center gap-6 justify-center flex-wrap">
          <div class="flex items-center gap-2">
            <div class="flex gap-0.5">
              <div class="w-4 h-8 bg-pink-400 border border-gray-400"></div>
              <div class="w-4 h-8 bg-pink-400 border border-gray-400"></div>
              <div class="w-4 h-8 bg-pink-400 border border-gray-400"></div>
              <div class="w-4 h-8 bg-pink-400 border border-gray-400"></div>
              <div class="w-4 h-8 bg-pink-400 border border-gray-400"></div>
              <div class="w-4 h-8 bg-pink-400 border border-gray-400"></div>
              <div class="w-4 h-8 bg-white border border-gray-400"></div>
              <div class="w-4 h-8 bg-white border border-gray-400"></div>
            </div>
            <%= render 'shared/frazione', num: 6, den: nil, den_answer: "8" %>
          </div>
          <div class="flex items-center gap-2">
            <div class="flex gap-0.5">
              <div class="w-4 h-8 bg-pink-400 border border-gray-400"></div>
              <div class="w-4 h-8 bg-pink-400 border border-gray-400"></div>
              <div class="w-4 h-8 bg-pink-400 border border-gray-400"></div>
              <div class="w-4 h-8 bg-pink-400 border border-gray-400"></div>
              <div class="w-4 h-8 bg-pink-400 border border-gray-400"></div>
              <div class="w-4 h-8 bg-white border border-gray-400"></div>
              <div class="w-4 h-8 bg-white border border-gray-400"></div>
              <div class="w-4 h-8 bg-white border border-gray-400"></div>
            </div>
            <%= render 'shared/frazione', num: nil, den: nil, num_answer: "5", den_answer: "8" %>
          </div>
        </div>
      </div>

      <!-- Grid per Esercizi 3 e 4 -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
        <!-- Esercizio 3 -->
        <div class="p-4">
          <div class="flex items-start gap-3 mb-4">
            <%= numero_esercizio_badge(3, colore: "cyan-700") %>
            <p class="font-bold text-gray-700">Confronta le frazioni e inserisci i simboli <span class="text-pink-800">&gt;</span> oppure <span class="text-pink-800">&lt;</span>.</p>
          </div>

          <div class="space-y-4">
            <div>
              <p class="font-bold text-gray-600 mb-2">a)</p>
              <div class="grid grid-cols-3 gap-2">
                <div class="flex items-center justify-center gap-1">
                  <%= render 'shared/frazione', num: 4, den: 9 %>
                  <input type="text" data-correct-answer="<" class="w-8 px-1 py-1 border-2 border-pink-400 rounded text-center font-bold bg-white">
                  <%= render 'shared/frazione', num: 5, den: 9 %>
                </div>
                <div class="flex items-center justify-center gap-1">
                  <%= render 'shared/frazione', num: 3, den: 7 %>
                  <input type="text" data-correct-answer=">" class="w-8 px-1 py-1 border-2 border-pink-400 rounded text-center font-bold bg-white">
                  <%= render 'shared/frazione', num: 2, den: 7 %>
                </div>
                <div class="flex items-center justify-center gap-1">
                  <%= render 'shared/frazione', num: 2, den: 5 %>
                  <input type="text" data-correct-answer=">" class="w-8 px-1 py-1 border-2 border-pink-400 rounded text-center font-bold bg-white">
                  <%= render 'shared/frazione', num: 1, den: 5 %>
                </div>
              </div>
            </div>

            <div>
              <p class="font-bold text-gray-600 mb-2">b)</p>
              <div class="grid grid-cols-3 gap-2">
                <div class="flex items-center justify-center gap-1">
                  <%= render 'shared/frazione', num: 1, den: 5 %>
                  <input type="text" data-correct-answer=">" class="w-8 px-1 py-1 border-2 border-pink-400 rounded text-center font-bold bg-white">
                  <%= render 'shared/frazione', num: 1, den: 7 %>
                </div>
                <div class="flex items-center justify-center gap-1">
                  <%= render 'shared/frazione', num: 2, den: 9 %>
                  <input type="text" data-correct-answer="<" class="w-8 px-1 py-1 border-2 border-pink-400 rounded text-center font-bold bg-white">
                  <%= render 'shared/frazione', num: 2, den: 8 %>
                </div>
                <div class="flex items-center justify-center gap-1">
                  <%= render 'shared/frazione', num: 3, den: 9 %>
                  <input type="text" data-correct-answer="<" class="w-8 px-1 py-1 border-2 border-pink-400 rounded text-center font-bold bg-white">
                  <%= render 'shared/frazione', num: 3, den: 7 %>
                </div>
              </div>
            </div>

            <div>
              <p class="font-bold text-gray-600 mb-2">c)</p>
              <div class="grid grid-cols-3 gap-2">
                <div class="flex items-center justify-center gap-1">
                  <%= render 'shared/frazione', num: 3, den: 4 %>
                  <input type="text" data-correct-answer=">" class="w-8 px-1 py-1 border-2 border-pink-400 rounded text-center font-bold bg-white">
                  <%= render 'shared/frazione', num: 1, den: 2 %>
                </div>
                <div class="flex items-center justify-center gap-1">
                  <%= render 'shared/frazione', num: 4, den: 5 %>
                  <input type="text" data-correct-answer="<" class="w-8 px-1 py-1 border-2 border-pink-400 rounded text-center font-bold bg-white">
                  <%= render 'shared/frazione', num: 6, den: 7 %>
                </div>
                <div class="flex items-center justify-center gap-1">
                  <%= render 'shared/frazione', num: 2, den: 3 %>
                  <input type="text" data-correct-answer=">" class="w-8 px-1 py-1 border-2 border-pink-400 rounded text-center font-bold bg-white">
                  <%= render 'shared/frazione', num: 5, den: 8 %>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Esercizio 4 -->
        <div class="p-4">
          <div class="flex items-start gap-3 mb-4">
            <%= numero_esercizio_badge(4, colore: "cyan-700") %>
            <p class="font-bold text-gray-700">Calcola.</p>
          </div>
          <div class="space-y-3">
            <div class="flex items-center gap-3">
              <%= render 'shared/frazione', num: 1, den: 6 %> di 480 →
              <input type="text" data-correct-answer="80" class="w-20 px-2 py-1 border-2 border-pink-400 rounded text-center font-bold bg-white">
            </div>
            <div class="flex items-center gap-3">
              <%= render 'shared/frazione', num: 2, den: 9 %> di 432 →
              <input type="text" data-correct-answer="96" class="w-20 px-2 py-1 border-2 border-pink-400 rounded text-center font-bold bg-white">
            </div>
            <div class="flex items-center gap-3">
              <%= render 'shared/frazione', num: 8, den: 15 %> di 3000 →
              <input type="text" data-correct-answer="1600" class="w-20 px-2 py-1 border-2 border-pink-400 rounded text-center font-bold bg-white">
            </div>
            <div class="flex items-center gap-3">
              <%= render 'shared/frazione', num: 7, den: 20 %> di 2400 →
              <input type="text" data-correct-answer="840" class="w-20 px-2 py-1 border-2 border-pink-400 rounded text-center font-bold bg-white">
            </div>
          </div>
        </div>
      </div>

      <!-- Esercizio 5 -->
      <div class="p-4 mb-6">
        <div class="flex items-start gap-3 mb-4">
          <%= numero_esercizio_badge(5, colore: "cyan-700") %>
          <p class="font-bold text-gray-700">Calcola l'intero conoscendo il valore della frazione.</p>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div class="flex items-center gap-2">
            <%= render 'shared/frazione', num: 7, den: 11 %> corrisponde a 42 →
            <input type="text" data-correct-answer="66" class="w-20 px-2 py-1 border-2 border-pink-400 rounded text-center font-bold bg-white">
          </div>
          <div class="flex items-center gap-2">
            <%= render 'shared/frazione', num: 9, den: 13 %> corrisponde a 45 →
            <input type="text" data-correct-answer="65" class="w-20 px-2 py-1 border-2 border-pink-400 rounded text-center font-bold bg-white">
          </div>
          <div class="flex items-center gap-2">
            <%= render 'shared/frazione', num: 3, den: 8 %> corrisponde a 27 →
            <input type="text" data-correct-answer="72" class="w-20 px-2 py-1 border-2 border-pink-400 rounded text-center font-bold bg-white">
          </div>
          <div class="flex items-center gap-2">
            <%= render 'shared/frazione', num: 8, den: 15 %> corrisponde a 48 →
            <input type="text" data-correct-answer="90" class="w-20 px-2 py-1 border-2 border-pink-400 rounded text-center font-bold bg-white">
          </div>
        </div>
      </div>

      <!-- RISOLVI I PROBLEMI -->
      <div class="p-4">
        <h3 class="font-bold text-pink-600 mb-4">RISOLVI I PROBLEMI</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div class="p-4 bg-cyan-50 rounded-lg">
            <div class="flex items-start gap-3 mb-2">
              <%= numero_esercizio_badge(6, colore: "cyan-700") %>
            </div>
            <p class="text-gray-700 text-sm">
              Luca ha ricevuto in regalo un libro di 144 pagine. Lunedì ha letto
              <%= render 'shared/frazione', num: 5, den: 9 %>
              del libro, martedì
              <%= render 'shared/frazione', num: 3, den: 9 %>
              del libro. Quante pagine deve ancora leggere?
            </p>
          </div>
          <div class="p-4 bg-cyan-50 rounded-lg">
            <div class="flex items-start gap-3 mb-2">
              <%= numero_esercizio_badge(8, colore: "cyan-700") %>
            </div>
            <p class="text-gray-700 text-sm">
              In un caseificio si producono giornalmente 750 mozzarelle, che vengono consegnate in diversi negozi.
              <%= render 'shared/frazione', num: 3, den: 15 %>
              delle mozzarelle vengono trasportate con il camion di Angelo,
              <%= render 'shared/frazione', num: 7, den: 15 %>
              con il camion di Paolo e le rimanenti con il camion di Luisa. Quante mozzarelle trasporta Luisa con il suo camion?
            </p>
          </div>
          <div class="p-4 bg-cyan-50 rounded-lg">
            <div class="flex items-start gap-3 mb-2">
              <%= numero_esercizio_badge(7, colore: "cyan-700") %>
            </div>
            <p class="text-gray-700 text-sm">
              Lia deve recarsi a Milano per lavoro. Ha percorso 114 km, che corrispondono a
              <%= render 'shared/frazione', num: 2, den: 5 %>
              dell'intero tragitto. Quanto dista la casa di Lia da Milano?
            </p>
          </div>
          <div class="p-4 bg-cyan-50 rounded-lg">
            <div class="flex items-start gap-3 mb-2">
              <%= numero_esercizio_badge(9, colore: "cyan-700") %>
            </div>
            <p class="text-gray-700 text-sm">
              In una botte ci sono 60 litri di acqua, che corrispondono a
              <%= render 'shared/frazione', num: 3, den: 5 %>
              della sua capacità. Quanta acqua può contenere in tutto la botte?
            </p>
          </div>
        </div>
      </div>
    </div>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
