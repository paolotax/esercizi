<div class="max-w-6xl mx-auto bg-white p-3 md:p-6"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">
    <!-- Introduzione -->
    <div class="p-3 bg-custom-blue-light-light rounded-2xl">
      <p class="font-bold text-gray-700"><span class="text-cyan-500">•</span> Risolvi i problemi sul quaderno.</p>
    </div>

    <!-- Sezione: Dall'intero alla frazione -->
    <div>
      <div class="p-2 bg-custom-blue-light-light rounded font-bold text-gray-800 mb-4 text-center">
        Dall'intero alla frazione
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- Problema 1: IMPARARE TUTTI -->
        <div class="p-4 bg-white rounded-2xl border-3 border-yellow-400">
          <p class="font-bold text-gray-700 mb-2">
            <%= imparare_tutti_badge(1) %>
          </p>
          <p class="text-gray-700 mb-3">
            Antonio percorre un sentiero di montagna lungo <span class="whitespace-nowrap">5 000</span> metri. A <%= render 'shared/frazione', num: 3, den: 5, border: nil %> del percorso è costretto a fermarsi a causa della pioggia. Quanti metri aveva già percorso?
          </p>
          <div class="flex items-center gap-2">
            <input type="text" data-correct-answer="3000" class="w-24 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <span class="text-gray-700">metri</span>
          </div>
        </div>

        <!-- Problema 2 -->
        <div class="p-4 border border-cyan-400 rounded-lg">
          <p class="font-bold text-gray-700 mb-2">
            <%= numero_esercizio_badge(2) %>
          </p>
          <p class="text-gray-700 mb-3">
            Nel centro sportivo "Gym club" ci sono 144 iscritti: i <%= render 'shared/frazione', num: 3, den: 8, border: nil %> giocano a basket e i <%= render 'shared/frazione', num: 5, den: 12, border: nil %> a tennis. Quanti giocano a basket? Quanti a tennis?
          </p>
          <div class="space-y-2">
            <div class="flex items-center gap-2">
              <span class="text-gray-700">Basket:</span>
              <input type="text" data-correct-answer="54" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            </div>
            <div class="flex items-center gap-2">
              <span class="text-gray-700">Tennis:</span>
              <input type="text" data-correct-answer="60" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            </div>
          </div>
        </div>

        <!-- Problema 3 -->
        <div class="p-4 border border-cyan-400 rounded-lg">
          <p class="font-bold text-gray-700 mb-2">
            <%= numero_esercizio_badge(3) %>
          </p>
          <p class="text-gray-700 mb-3">
            Un caseificio produce ogni giorno 700 litri di latte. Con i <%= render 'shared/frazione', num: 15, den: 25, border: nil %> dei litri vengono prodotti i formaggi, con gli altri le mozzarelle. Quanti litri si usano per produrre le mozzarelle?
          </p>
          <div class="flex items-center gap-2">
            <input type="text" data-correct-answer="280" class="w-24 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <span class="text-gray-700">litri</span>
          </div>
        </div>

        <!-- Problema 4 -->
        <div class="p-4 border border-cyan-400 rounded-lg">
          <p class="font-bold text-gray-700 mb-2">
            <%= numero_esercizio_badge(4) %>
          </p>
          <p class="text-gray-700 mb-3">
            Sabrina possiede una collezione di 490 monete antiche. Se quelle italiane sono i <%= render 'shared/frazione', num: 3, den: 7, border: nil %>, quante sono quelle straniere?
          </p>
          <div class="flex items-center gap-2">
            <input type="text" data-correct-answer="280" class="w-24 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <span class="text-gray-700">monete</span>
          </div>
        </div>

        <!-- Problema 5 -->
        <div class="p-4 border border-cyan-400 rounded-lg">
          <p class="font-bold text-gray-700 mb-2">
            <%= numero_esercizio_badge(5) %>
          </p>
          <p class="text-gray-700 mb-3">
            In una scuola ci sono 300 iscritti. Gli alunni delle classi prime sono <%= render 'shared/frazione', num: 1, den: 5, border: nil %> del totale e quelli delle seconde e delle terze sono i <%= render 'shared/frazione', num: 2, den: 5, border: nil %> del totale. Calcola quanti alunni in tutto frequentano le classi quarte e quinte.
          </p>
          <div class="flex items-center gap-2">
            <input type="text" data-correct-answer="120" class="w-24 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <span class="text-gray-700">alunni</span>
          </div>
        </div>

        <!-- Problema 6 -->
        <div class="p-4 border border-cyan-400 rounded-lg">
          <p class="font-bold text-gray-700 mb-2">
            <%= numero_esercizio_badge(6) %>
          </p>
          <p class="text-gray-700 mb-3">
            Marta e Giulia ricevono dai genitori la stessa somma di denaro, cioè € 60. Marta spende i <%= render 'shared/frazione', num: 2, den: 5, border: nil %> della cifra, mentre Giulia ne spende i <%= render 'shared/frazione', num: 4, den: 6, border: nil %>. Chi spende di più? E quanto di più?
          </p>
          <div class="space-y-2">
            <div class="flex items-center gap-2">
              <span class="text-gray-700">Chi spende di più?</span>
              <input type="text" data-correct-answer="Giulia" class="w-24 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            </div>
            <div class="flex items-center gap-2">
              <span class="text-gray-700">Quanto di più? €</span>
              <input type="text" data-correct-answer="16" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            </div>
          </div>
        </div>

        <!-- Problema 7 -->
        <div class="p-4 border border-cyan-400 rounded-lg">
          <p class="font-bold text-gray-700 mb-2">
            <%= numero_esercizio_badge(7) %>
          </p>
          <p class="text-gray-700 mb-3">
            Oggi 220 turisti hanno visitato la Cattedrale: <%= render 'shared/frazione', num: 2, den: 10, border: nil %> erano inglesi, <%= render 'shared/frazione', num: 3, den: 11, border: nil %> tedeschi e il resto giapponesi. Calcola il numero di turisti di ogni nazionalità.
          </p>
          <div class="space-y-2">
            <div class="flex items-center gap-2">
              <span class="text-gray-700">Inglesi:</span>
              <input type="text" data-correct-answer="44" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            </div>
            <div class="flex items-center gap-2">
              <span class="text-gray-700">Tedeschi:</span>
              <input type="text" data-correct-answer="60" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            </div>
            <div class="flex items-center gap-2">
              <span class="text-gray-700">Giapponesi:</span>
              <input type="text" data-correct-answer="116" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            </div>
          </div>
        </div>

        <!-- Problema 8 -->
        <div class="p-4 border border-cyan-400 rounded-lg">
          <p class="font-bold text-gray-700 mb-2">
            <%= numero_esercizio_badge(8) %>
          </p>
          <p class="text-gray-700 mb-3">
            Un camionista deve percorrere 900 km in tre tappe. Nella prima tappa percorre i <%= render 'shared/frazione', num: 5, den: 18, border: nil %> del totale, nella seconda i <%= render 'shared/frazione', num: 3, den: 10, border: nil %> del totale. Calcola quanto gli rimane da percorrere nella terza tappa.
          </p>
          <div class="flex items-center gap-2">
            <input type="text" data-correct-answer="380" class="w-24 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <span class="text-gray-700">km</span>
          </div>
        </div>

        <!-- Problema 9 -->
        <div class="p-4 border border-cyan-400 rounded-lg">
          <p class="font-bold text-gray-700 mb-2">
            <%= numero_esercizio_badge(9) %>
          </p>
          <p class="text-gray-700 mb-3">
            Il fiume Danubio è lungo <span class="whitespace-nowrap">2 860</span> km e i <%= render 'shared/frazione', num: 9, den: 10, border: nil %> del suo percorso sono navigabili. Quanti sono i chilometri navigabili del fiume?
          </p>
          <div class="flex items-center gap-2">
            <input type="text" data-correct-answer="2574" class="w-24 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <span class="text-gray-700">km</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Sezione: Dalla frazione all'intero -->
    <div>
      <div class="p-2 bg-custom-blue-light-light rounded font-bold text-gray-800 mb-4 text-center">
        Dalla frazione all'intero
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- Problema 10: IMPARARE TUTTI -->
        <div class="p-4 bg-white rounded-2xl border-3 border-yellow-400">
          <p class="font-bold text-gray-700 mb-2">
            <%= imparare_tutti_badge(10) %>
          </p>
          <p class="text-gray-700 mb-3">
            Franco ogni mese paga € 320 di affitto, che corrispondono agli <%= render 'shared/frazione', num: 8, den: 25, border: nil %> del suo stipendio. Qual è il suo stipendio?
          </p>
          <div class="flex items-center gap-2">
            <span class="text-gray-700">€</span>
            <input type="text" data-correct-answer="1000" class="w-24 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          </div>
        </div>

        <!-- Problema 11 -->
        <div class="p-4 border border-cyan-400 rounded-lg">
          <p class="font-bold text-gray-700 mb-2">
            <%= numero_esercizio_badge(11) %>
          </p>
          <p class="text-gray-700 mb-3">
            In una scuola oggi sono assenti 37 alunni, che rappresentano <%= render 'shared/frazione', num: 1, den: 8, border: nil %> di tutti gli iscritti. Quanti sono gli alunni in tutto? Quanti sono presenti oggi?
          </p>
          <div class="space-y-2">
            <div class="flex items-center gap-2">
              <span class="text-gray-700">Totale iscritti:</span>
              <input type="text" data-correct-answer="296" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            </div>
            <div class="flex items-center gap-2">
              <span class="text-gray-700">Presenti:</span>
              <input type="text" data-correct-answer="259" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            </div>
          </div>
        </div>

        <!-- Problema 12 -->
        <div class="p-4 border border-cyan-400 rounded-lg">
          <p class="font-bold text-gray-700 mb-2">
            <%= numero_esercizio_badge(12) %>
          </p>
          <p class="text-gray-700 mb-3">
            Una grandinata ha rovinato i <%= render 'shared/frazione', num: 14, den: 27, border: nil %> degli alberi di un frutteto, cioè 392 alberi. Quanti sono in tutto gli alberi del frutteto?
          </p>
          <div class="flex items-center gap-2">
            <input type="text" data-correct-answer="756" class="w-24 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <span class="text-gray-700">alberi</span>
          </div>
        </div>

        <!-- Problema 13 -->
        <div class="p-4 border border-cyan-400 rounded-lg">
          <p class="font-bold text-gray-700 mb-2">
            <%= numero_esercizio_badge(13) %>
          </p>
          <p class="text-gray-700 mb-3">
            Un ciclista ha percorso 96 km, cioè i <%= render 'shared/frazione', num: 16, den: 20, border: nil %> dei chilometri totali che deve percorrere. Quanti chilometri è lungo il percorso? Quanti chilometri deve ancora percorrere?
          </p>
          <div class="space-y-2">
            <div class="flex items-center gap-2">
              <span class="text-gray-700">Percorso totale:</span>
              <input type="text" data-correct-answer="120" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
              <span class="text-gray-700">km</span>
            </div>
            <div class="flex items-center gap-2">
              <span class="text-gray-700">Da percorrere:</span>
              <input type="text" data-correct-answer="24" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
              <span class="text-gray-700">km</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
