<div class="max-w-6xl mx-auto p-3 md:p-8 bg-gradient-to-br from-cyan-50 via-white to-blue-50 rounded-3xl shadow-xl" data-controller="exercise-checker">

  <!-- Header -->
  <div class="mb-8">
    <div class="flex items-start sm:items-center justify-between gap-4 mb-4">
      <div class="flex flex-col-reverse sm:flex-row items-start sm:items-center gap-2 sm:gap-4">
        <div class="bg-cyan-500 text-white text-md sm:text-xl px-2 sm:px-4 py-1.5 sm:py-2 rounded-lg font-bold">
          ORTOGRAFIA
        </div>
        <h1 class="text-2xl sm:text-3xl font-bold text-cyan-600">L'elisione e il troncamento</h1>
      </div>
      <div class="flex-shrink-0 bg-red-600 text-white rounded-full w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center font-bold text-lg sm:text-xl">
        139
      </div>
    </div>
  </div>

  <!-- Esercizio 1: IMPARARE TUTTI -->
  <div class="mb-6 bg-gradient-to-r from-yellow-100 to-amber-100 rounded-2xl border-4 border-yellow-300 shadow-2xl p-4 md:p-6" data-controller="fill-blanks">
    <h2 class="text-lg md:text-xl font-bold text-blue-700 mb-4 flex items-center flex-wrap gap-2">
      <span class="bg-blue-600 text-white rounded-full w-8 h-8 md:w-10 md:h-10 inline-flex items-center justify-center">1</span>
      <span class="bg-yellow-400 text-blue-900 px-3 py-1 rounded-lg font-bold">IMPARARE TUTTI</span>
      <span>Scrivi le seguenti espressioni mettendo l'<strong>apostrofo</strong> dove è necessario.</span>
    </h2>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-base md:text-lg">
      <div class="space-y-3">
        <div class="flex items-center gap-3">
          <span class="text-cyan-600">•</span>
          <span class="text-gray-700 w-32">da ora in poi</span>
          <span class="text-gray-400">→</span>
          <input type="text" class="border-b-2 border-cyan-500 bg-transparent px-2 py-1 focus:outline-none flex-grow" data-fill-blanks-target="input" data-answer="da ora in poi" data-correct-answer="da ora in poi">
        </div>

        <div class="flex items-center gap-3">
          <span class="text-cyan-600">•</span>
          <span class="text-gray-700 w-32">lo anno scorso</span>
          <span class="text-gray-400">→</span>
          <input type="text" class="border-b-2 border-cyan-500 bg-transparent px-2 py-1 focus:outline-none flex-grow" data-fill-blanks-target="input" data-answer="l'anno scorso" data-correct-answer="l'anno scorso">
        </div>

        <div class="flex items-center gap-3">
          <span class="text-cyan-600">•</span>
          <span class="text-gray-700 w-32">nello uovo</span>
          <span class="text-gray-400">→</span>
          <input type="text" class="border-b-2 border-cyan-500 bg-transparent px-2 py-1 focus:outline-none flex-grow" data-fill-blanks-target="input" data-answer="nell'uovo" data-correct-answer="nell'uovo">
        </div>

        <div class="flex items-center gap-3">
          <span class="text-cyan-600">•</span>
          <span class="text-gray-700 w-32">allo improvviso</span>
          <span class="text-gray-400">→</span>
          <input type="text" class="border-b-2 border-cyan-500 bg-transparent px-2 py-1 focus:outline-none flex-grow" data-fill-blanks-target="input" data-answer="all'improvviso" data-correct-answer="all'improvviso">
        </div>

        <div class="flex items-center gap-3">
          <span class="text-cyan-600">•</span>
          <span class="text-gray-700 w-32">senza altro</span>
          <span class="text-gray-400">→</span>
          <input type="text" class="border-b-2 border-cyan-500 bg-transparent px-2 py-1 focus:outline-none flex-grow" data-fill-blanks-target="input" data-answer="senz'altro" data-correct-answer="senz'altro">
        </div>

        <div class="flex items-center gap-3">
          <span class="text-cyan-600">•</span>
          <span class="text-gray-700 w-32">lo altro ieri</span>
          <span class="text-gray-400">→</span>
          <input type="text" class="border-b-2 border-cyan-500 bg-transparent px-2 py-1 focus:outline-none flex-grow" data-fill-blanks-target="input" data-answer="l'altro ieri" data-correct-answer="l'altro ieri">
        </div>

        <div class="flex items-center gap-3">
          <span class="text-cyan-600">•</span>
          <span class="text-gray-700 w-32">a quattro occhi</span>
          <span class="text-gray-400">→</span>
          <input type="text" class="border-b-2 border-cyan-500 bg-transparent px-2 py-1 focus:outline-none flex-grow" data-fill-blanks-target="input" data-answer="a quattr'occhi" data-correct-answer="a quattr'occhi">
        </div>
      </div>

      <div class="space-y-3">
        <div class="flex items-center gap-3">
          <span class="text-cyan-600">•</span>
          <span class="text-gray-700 w-32">buona idea</span>
          <span class="text-gray-400">→</span>
          <input type="text" class="border-b-2 border-cyan-500 bg-transparent px-2 py-1 focus:outline-none flex-grow" data-fill-blanks-target="input" data-answer="buon'idea" data-correct-answer="buon'idea">
        </div>

        <div class="flex items-center gap-3">
          <span class="text-cyan-600">•</span>
          <span class="text-gray-700 w-32">niente altro</span>
          <span class="text-gray-400">→</span>
          <input type="text" class="border-b-2 border-cyan-500 bg-transparent px-2 py-1 focus:outline-none flex-grow" data-fill-blanks-target="input" data-answer="nient'altro" data-correct-answer="nient'altro">
        </div>

        <div class="flex items-center gap-3">
          <span class="text-cyan-600">•</span>
          <span class="text-gray-700 w-32">a questa ora</span>
          <span class="text-gray-400">→</span>
          <input type="text" class="border-b-2 border-cyan-500 bg-transparent px-2 py-1 focus:outline-none flex-grow" data-fill-blanks-target="input" data-answer="a quest'ora" data-correct-answer="a quest'ora">
        </div>

        <div class="flex items-center gap-3">
          <span class="text-cyan-600">•</span>
          <span class="text-gray-700 w-32">ci entra</span>
          <span class="text-gray-400">→</span>
          <input type="text" class="border-b-2 border-cyan-500 bg-transparent px-2 py-1 focus:outline-none flex-grow" data-fill-blanks-target="input" data-answer="c'entra" data-correct-answer="c'entra">
        </div>

        <div class="flex items-center gap-3">
          <span class="text-cyan-600">•</span>
          <span class="text-gray-700 w-32">nessuna amica</span>
          <span class="text-gray-400">→</span>
          <input type="text" class="border-b-2 border-cyan-500 bg-transparent px-2 py-1 focus:outline-none flex-grow" data-fill-blanks-target="input" data-answer="nessun'amica" data-correct-answer="nessun'amica">
        </div>

        <div class="flex items-center gap-3">
          <span class="text-cyan-600">•</span>
          <span class="text-gray-700 w-32">anche io</span>
          <span class="text-gray-400">→</span>
          <input type="text" class="border-b-2 border-cyan-500 bg-transparent px-2 py-1 focus:outline-none flex-grow" data-fill-blanks-target="input" data-answer="anch'io" data-correct-answer="anch'io">
        </div>

        <div class="flex items-center gap-3">
          <span class="text-cyan-600">•</span>
          <span class="text-gray-700 w-32">di accordo</span>
          <span class="text-gray-400">→</span>
          <input type="text" class="border-b-2 border-cyan-500 bg-transparent px-2 py-1 focus:outline-none flex-grow" data-fill-blanks-target="input" data-answer="d'accordo" data-correct-answer="d'accordo">
        </div>
      </div>
    </div>
  </div>

  <!-- Esercizio 2: Troncamento -->
  <div class="mb-6 bg-white rounded-2xl border-2 border-cyan-200 shadow-lg p-4 md:p-6" data-controller="fill-blanks">
    <h2 class="text-lg md:text-xl font-bold text-cyan-700 mb-4 flex items-center gap-2">
      <span class="bg-cyan-500 text-white rounded-full w-8 h-8 md:w-10 md:h-10 inline-flex items-center justify-center">2</span>
      <span>Scrivi le frasi applicando il <strong class="text-cyan-600">troncamento</strong> dove è possibile.</span>
    </h2>

    <div class="space-y-3 text-base md:text-lg">
      <div class="flex items-start gap-2">
        <span class="text-cyan-600">•</span>
        <div class="flex-grow">
          <p class="text-gray-700 mb-1">Santo Francesco è il patrono d'Italia.</p>
          <input type="text" class="w-full border-b-2 border-cyan-500 bg-transparent px-2 py-2 focus:outline-none" data-fill-blanks-target="input" data-answer="San Francesco è il patrono d'Italia." data-correct-answer="San Francesco è il patrono d'Italia.">
        </div>
      </div>

      <div class="flex items-start gap-2">
        <span class="text-cyan-600">•</span>
        <div class="flex-grow">
          <p class="text-gray-700 mb-1">La zia ha preparato un buono pranzetto.</p>
          <input type="text" class="w-full border-b-2 border-cyan-500 bg-transparent px-2 py-2 focus:outline-none" data-fill-blanks-target="input" data-answer="La zia ha preparato un buon pranzetto." data-correct-answer="La zia ha preparato un buon pranzetto.">
        </div>
      </div>

      <div class="flex items-start gap-2">
        <span class="text-cyan-600">•</span>
        <div class="flex-grow">
          <p class="text-gray-700 mb-1">Ho avvisato ciascuno alunno.</p>
          <input type="text" class="w-full border-b-2 border-cyan-500 bg-transparent px-2 py-2 focus:outline-none" data-fill-blanks-target="input" data-answer="Ho avvisato ciascun alunno." data-correct-answer="Ho avvisato ciascun alunno.">
        </div>
      </div>

      <div class="flex items-start gap-2">
        <span class="text-cyan-600">•</span>
        <div class="flex-grow">
          <p class="text-gray-700 mb-1">Mi dai quello pennarello?</p>
          <input type="text" class="w-full border-b-2 border-cyan-500 bg-transparent px-2 py-2 focus:outline-none" data-fill-blanks-target="input" data-answer="Mi dai quel pennarello?" data-correct-answer="Mi dai quel pennarello?">
        </div>
      </div>

      <div class="flex items-start gap-2">
        <span class="text-cyan-600">•</span>
        <div class="flex-grow">
          <p class="text-gray-700 mb-1">Qualcuno altro vuole parlare?</p>
          <input type="text" class="w-full border-b-2 border-cyan-500 bg-transparent px-2 py-2 focus:outline-none" data-fill-blanks-target="input" data-answer="Qualcun altro vuole parlare?" data-correct-answer="Qualcun altro vuole parlare?">
        </div>
      </div>

      <div class="flex items-start gap-2">
        <span class="text-cyan-600">•</span>
        <div class="flex-grow">
          <p class="text-gray-700 mb-1">Non ho incontrato alcuno amico al parco.</p>
          <input type="text" class="w-full border-b-2 border-cyan-500 bg-transparent px-2 py-2 focus:outline-none" data-fill-blanks-target="input" data-answer="Non ho incontrato alcun amico al parco." data-correct-answer="Non ho incontrato alcun amico al parco.">
        </div>
      </div>

      <div class="flex items-start gap-2">
        <span class="text-cyan-600">•</span>
        <div class="flex-grow">
          <p class="text-gray-700 mb-1">Nessuno indizio era contro di lui.</p>
          <input type="text" class="w-full border-b-2 border-cyan-500 bg-transparent px-2 py-2 focus:outline-none" data-fill-blanks-target="input" data-answer="Nessun indizio era contro di lui." data-correct-answer="Nessun indizio era contro di lui.">
        </div>
      </div>
    </div>
  </div>

  <!-- Esercizio 3: Completa troncando -->
  <div class="mb-6 bg-white rounded-2xl border-2 border-cyan-200 shadow-lg p-4 md:p-6" data-controller="fill-blanks">
    <h2 class="text-lg md:text-xl font-bold text-cyan-700 mb-4 flex items-center gap-2">
      <span class="bg-cyan-500 text-white rounded-full w-8 h-8 md:w-10 md:h-10 inline-flex items-center justify-center">3</span>
      <span>Completa troncando le parole fra parentesi.</span>
    </h2>

    <div class="space-y-3 text-base md:text-lg">
      <div class="flex items-start gap-2">
        <span class="text-cyan-600">•</span>
        <p><strong>(Vai)</strong> <input type="text" class="border-b-2 border-cyan-500 bg-transparent px-2 py-1 w-24 focus:outline-none" data-fill-blanks-target="input" data-answer="Va'" data-correct-answer="Va'"> fuori e chiama <strong>(quello)</strong> <input type="text" class="border-b-2 border-cyan-500 bg-transparent px-2 py-1 w-24 focus:outline-none" data-fill-blanks-target="input" data-answer="quel" data-correct-answer="quel"> bambino.</p>
      </div>

      <div class="flex items-start gap-2">
        <span class="text-cyan-600">•</span>
        <p><strong>(Dici)</strong> <input type="text" class="border-b-2 border-cyan-500 bg-transparent px-2 py-1 w-24 focus:outline-none" data-fill-blanks-target="input" data-answer="Di'" data-correct-answer="Di'"> alla maestra <strong>(quale)</strong> <input type="text" class="border-b-2 border-cyan-500 bg-transparent px-2 py-1 w-24 focus:outline-none" data-fill-blanks-target="input" data-answer="qual" data-correct-answer="qual"> è la tua opinione.</p>
      </div>

      <div class="flex items-start gap-2">
        <span class="text-cyan-600">•</span>
        <p>Ti prego, <strong>(fai)</strong> <input type="text" class="border-b-2 border-cyan-500 bg-transparent px-2 py-1 w-24 focus:outline-none" data-fill-blanks-target="input" data-answer="fa'" data-correct-answer="fa'"> attenzione a ciò che ti dico.</p>
      </div>

      <div class="flex items-start gap-2">
        <span class="text-cyan-600">•</span>
        <p>Hai fatto una <strong>(tale)</strong> <input type="text" class="border-b-2 border-cyan-500 bg-transparent px-2 py-1 w-24 focus:outline-none" data-fill-blanks-target="input" data-answer="tal" data-correct-answer="tal"> confusione che non si capisce niente!</p>
      </div>

      <div class="flex items-start gap-2">
        <span class="text-cyan-600">•</span>
        <p>La nonna ha portato un <strong>(buono)</strong> <input type="text" class="border-b-2 border-cyan-500 bg-transparent px-2 py-1 w-24 focus:outline-none" data-fill-blanks-target="input" data-answer="buon" data-correct-answer="buon"> gelato.</p>
      </div>

      <div class="flex items-start gap-2">
        <span class="text-cyan-600">•</span>
        <p>Adesso <strong>(vai)</strong> <input type="text" class="border-b-2 border-cyan-500 bg-transparent px-2 py-1 w-24 focus:outline-none" data-fill-blanks-target="input" data-answer="va'" data-correct-answer="va'"> a chiamare tutti i tuoi amici e poi <strong>(dai)</strong> <input type="text" class="border-b-2 border-cyan-500 bg-transparent px-2 py-1 w-24 focus:outline-none" data-fill-blanks-target="input" data-answer="da'" data-correct-answer="da'"> a ciascuno una fetta di torta.</p>
      </div>
    </div>
  </div>

  <%= render 'shared/exercise_controls', color: 'cyan' %>

</div>
