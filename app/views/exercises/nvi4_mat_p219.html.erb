<div class="max-w-6xl mx-auto bg-white dark:bg-gray-900 p-3 md:p-6 transition-colors duration-300"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">

    <!-- Esercizio 1 -->
    <div>
      <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
        <%= numero_esercizio_badge(1) %>
        Sottolinea i dati presenti nel problema e rispondi alle domande.
      </p>

      <div class="p-3 bg-custom-blue dark:bg-cyan-900 rounded-lg mb-4">
        <p class="text-gray-700 dark:text-gray-200">
          Un cartolaio acquista all'inizio dell'anno scolastico 350 quaderni. Alla fine del mese di ottobre ne ha venduti 210. Con quelli rimasti prepara dei pacchi che mette in offerta. Quanti pacchi prepara?
        </p>
      </div>

      <div class="space-y-3">
        <div class="flex items-center gap-3 flex-wrap">
          <span class="text-gray-700 dark:text-gray-200"><span class="text-cyan-500">•</span> I dati che hai sottolineato sono sufficienti per risolvere il problema?</span>
          <div class="flex gap-2">
            <label class="relative flex items-center justify-center w-10 h-8 bg-white dark:bg-gray-700 border-2 border-cyan-500 rounded cursor-pointer hover:bg-cyan-100 dark:hover:bg-cyan-900 has-checked:bg-cyan-300 dark:has-checked:bg-cyan-700">
              <input type="radio" name="es1-dati" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
              <span class="text-gray-700 dark:text-gray-200">SÌ</span>
            </label>
            <label class="relative flex items-center justify-center w-10 h-8 bg-white dark:bg-gray-700 border-2 border-cyan-500 rounded cursor-pointer hover:bg-cyan-100 dark:hover:bg-cyan-900 has-checked:bg-cyan-300 dark:has-checked:bg-cyan-700">
              <input type="radio" name="es1-dati" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="true">
              <span class="text-gray-700 dark:text-gray-200">NO</span>
            </label>
          </div>
        </div>

        <div class="flex items-center gap-2">
          <span class="text-gray-700 dark:text-gray-200"><span class="text-cyan-500">•</span> Quale altro dato ti occorre?</span>
          <input type="text" class="flex-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 font-bold bg-transparent dark:text-white" placeholder="">
        </div>

        <p class="text-gray-700 dark:text-gray-200">
          <span class="text-cyan-500">•</span> Inseriscilo tu e risolvi il problema sul quaderno.
        </p>
      </div>
    </div>

    <!-- Esercizio 2 -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div>
        <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
          <%= numero_esercizio_badge(2) %>
          Leggi con attenzione e sottolinea i <span class="font-bold text-cyan-600 dark:text-cyan-400">dati nascosti</span>. Sul quaderno trasformali in dati numerici, poi risolvi.
        </p>

        <div class="space-y-4">
          <div class="p-3 bg-cyan-50 dark:bg-cyan-900/30 rounded-lg">
            <p class="text-gray-700 dark:text-gray-200">
              <span class="font-bold">a.</span> Il volo low-cost Pisa-Londra viene effettuato ogni giorno con 8 partenze da Pisa e 8 da Londra. Quanti voli si effettuano al giorno? E in una settimana?
            </p>
          </div>

          <div class="p-3 bg-cyan-50 dark:bg-cyan-900/30 rounded-lg">
            <p class="text-gray-700 dark:text-gray-200">
              <span class="font-bold">b.</span> La squadra di Karl in un anno ha giocato 66 partite di calcio. Ne ha vinte la metà e perse un terzo del totale. Quante sono le partite vinte? E quelle perse?
            </p>
          </div>
        </div>
      </div>

      <!-- Nota dati nascosti -->
      <div class="flex items-center">
        <div class="p-3 bg-pink-light dark:bg-pink-900/40 rounded-lg">
          <p class="text-gray-700 dark:text-gray-200">
            I <span class="font-bold text-cyan-600 dark:text-cyan-400">dati nascosti</span> sono dati espressi in parole, non in cifra.<br>
            Per risolvere il problema traduci la parola in un dato numerico:<br>
            <span class="font-bold">un mese = 30 giorni.</span>
          </p>
        </div>
      </div>
    </div>

    <!-- Esercizio 3 -->
    <div>
      <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
        <%= numero_esercizio_badge(3) %>
        Scopri i <span class="font-bold text-cyan-600 dark:text-cyan-400">dati inutili</span> per rispondere alla domanda e cancellali. Poi risolvi i problemi sul quaderno.
      </p>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div class="p-3 bg-cyan-50 dark:bg-cyan-900/30 rounded-lg">
          <p class="text-gray-700 dark:text-gray-200">
            <span class="font-bold">a.</span> I 21 alunni della classe 4ª C hanno deciso di festeggiare in pizzeria la fine dell'anno scolastico. Il prezzo della pizza è di € 8,50, mentre il dolce costa € 2,75. Quanto spenderanno complessivamente gli alunni per la pizza?
          </p>
        </div>

        <div class="p-3 bg-cyan-50 dark:bg-cyan-900/30 rounded-lg">
          <p class="text-gray-700 dark:text-gray-200">
            <span class="font-bold">b.</span> In una sartoria sono stati acquistati 172,50 m di seta. Per realizzare 54 abiti ne vengono utilizzati 138,65 m. Quanti metri di stoffa non sono stati utilizzati?
          </p>
        </div>

        <div class="p-3 bg-cyan-50 dark:bg-cyan-900/30 rounded-lg md:col-span-2">
          <p class="text-gray-700 dark:text-gray-200">
            <span class="font-bold">c.</span> La mamma di Giovanni esce di casa con € 50 nel portafoglio. Fa colazione al bar e spende € 1,80. In cartoleria compra per il figlio un giornalino che costa € 1,20, un pacco di quaderni che costa € 8,50 e un astuccio che costa € 5,90. Quanto ha speso la mamma in cartoleria? E complessivamente?
          </p>
        </div>
      </div>
    </div>

    <!-- Esercizio 4 -->
    <div>
      <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
        <%= numero_esercizio_badge(4) %>
        Sottolinea i <span class="font-bold text-cyan-600 dark:text-cyan-400">dati utili</span>, cancella quelli <span class="font-bold text-cyan-600 dark:text-cyan-400">inutili</span> e cerchia quelli <span class="font-bold text-cyan-600 dark:text-cyan-400">nascosti</span>. Poi risolvi i problemi sul quaderno.
      </p>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div class="p-3 bg-cyan-50 dark:bg-cyan-900/30 rounded-lg">
          <p class="text-gray-700 dark:text-gray-200">
            <span class="font-bold">a.</span> I 4 giardinieri di un parco comunale devono sistemare nelle aiuole 85 nuove piante. Il primo giorno ne piantano una dozzina. Quante ne restano da piantare?
          </p>
        </div>

        <div class="p-3 bg-cyan-50 dark:bg-cyan-900/30 rounded-lg">
          <p class="text-gray-700 dark:text-gray-200">
            <span class="font-bold">b.</span> Un'auto che costa € 18 000 percorre 15 km con un litro di benzina. Sabato l'auto ha percorso 186 km e domenica la metà dei km di sabato. Quanti litri di benzina ha consumato?
          </p>
        </div>
      </div>
    </div>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
