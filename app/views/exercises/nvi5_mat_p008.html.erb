<div class="max-w-6xl mx-auto p-3 md:p-8 bg-gradient-to-br from-purple-50 via-white to-purple-50 rounded-3xl shadow-xl" data-controller="exercise-checker page-viewer" data-page-viewer-image-url-value="<%= asset_path('nvi5_mat/p008/page.png') %>">
  <!-- Header -->
  <div class="mb-8">
    <div class="flex items-start sm:items-center justify-between gap-4 mb-4">
      <div class="flex flex-col-reverse sm:flex-row items-start sm:items-center gap-2 sm:gap-4">
        <div class="bg-pink-500 text-white text-md sm:text-xl px-2 sm:px-4 py-1.5 sm:py-2 rounded-lg font-bold">
          NUMERI
        </div>
        <h1 class="text-2xl sm:text-3xl font-bold text-pink-600">POTENZE</h1>
      </div>
      <div class="cursor-pointer hover:bg-pink-700 transition-colors flex-shrink-0 bg-pink-600 text-white rounded-full w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center font-bold text-lg sm:text-xl"
           data-action="click->page-viewer#openOriginal" title="Clicca per vedere la pagina originale">
        8
      </div>
    </div>
  </div>

  <div class="space-y-6">
    <!-- Mappa concettuale centrale POTENZE -->
    <div class="bg-white rounded-3xl border-4 border-pink-300 shadow-2xl p-6 md:p-8">
      <!-- Titolo POTENZE -->
      <div class="flex justify-center mb-8">
        <div class="bg-pink-500 text-white text-2xl font-bold px-8 py-3 rounded-full shadow-lg">
          POTENZE
        </div>
      </div>

      <!-- Contenitore principale 6³ con frecce -->
      <div class="bg-gradient-to-br from-pink-50 to-pink-100 border-4 border-pink-400 rounded-3xl p-8 mb-8 shadow-xl">
        <div class="flex flex-col items-center gap-6">
          <!-- ESPONENTE -->
          <div class="flex items-center gap-4">
            <div class="bg-pink-500 text-white text-lg font-bold px-6 py-2 rounded-full shadow-md">
              ESPONENTE
            </div>
            <div class="text-5xl font-bold text-pink-500">→</div>
            <div class="text-4xl font-bold text-blue-700">3</div>
          </div>

          <!-- 6³ grande al centro -->
          <div class="text-9xl font-bold text-blue-700 my-4">
            6<sup class="text-6xl">3</sup>
          </div>

          <!-- BASE -->
          <div class="flex items-center gap-4">
            <div class="text-4xl font-bold text-blue-700">6</div>
            <div class="text-5xl font-bold text-pink-500">←</div>
            <div class="bg-pink-500 text-white text-lg font-bold px-6 py-2 rounded-full shadow-md">
              BASE
            </div>
          </div>
        </div>
      </div>

      <!-- Box COSA SIGNIFICA e COME SI LEGGE -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- COSA SIGNIFICA -->
        <div class="bg-white border-4 border-pink-300 rounded-2xl p-6 shadow-lg">
          <h3 class="text-pink-500 text-xl font-bold mb-4 text-center">COSA SIGNIFICA</h3>
          <div class="text-4xl font-bold text-blue-700 text-center">
            6 × 6 × 6
          </div>
        </div>

        <!-- COME SI LEGGE -->
        <div class="bg-white border-4 border-pink-300 rounded-2xl p-6 shadow-lg">
          <h3 class="text-pink-500 text-xl font-bold mb-4 text-center">COME SI LEGGE</h3>
          <div class="text-center space-y-2">
            <div class="text-2xl font-bold text-pink-600">SEI ALLA TERZA</div>
            <div class="text-lg text-gray-600">oppure</div>
            <div class="text-2xl font-bold text-pink-600">SEI ELEVATO ALLA TERZA</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Esercizio COLLEGA -->
    <div class="bg-white rounded-2xl border-4 border-pink-200 shadow-xl p-6">
      <h2 class="text-2xl font-bold text-pink-600 mb-6 flex items-center gap-3">
        <span class="text-pink-500">♥</span>
        Collega.
      </h2>

      <div class="space-y-4">
        <!-- L'ESPONENTE indica -->
        <div class="bg-yellow-50 rounded-lg p-4">
          <div class="flex flex-col md:flex-row items-start md:items-center gap-3">
            <span class="text-lg flex-shrink-0">• L'<span class="font-bold text-pink-600">ESPONENTE</span> indica</span>
            <select class="flex-1 px-4 py-2 border-2 border-pink-300 rounded-lg focus:border-pink-500 focus:outline-none text-gray-700"
                    data-correct-answer="quante volte la base va moltiplicata per se stessa">
              <option value="">Scegli...</option>
              <option value="quante volte la base va moltiplicata per se stessa">quante volte la base va moltiplicata per se stessa</option>
              <option value="il numero da moltiplicare">il numero da moltiplicare</option>
              <option value="6 × 6 × 6">6 × 6 × 6</option>
            </select>
          </div>
        </div>

        <!-- La BASE indica -->
        <div class="bg-yellow-50 rounded-lg p-4">
          <div class="flex flex-col md:flex-row items-start md:items-center gap-3">
            <span class="text-lg flex-shrink-0">• La <span class="font-bold text-pink-600">BASE</span> indica</span>
            <select class="flex-1 px-4 py-2 border-2 border-pink-300 rounded-lg focus:border-pink-500 focus:outline-none text-gray-700"
                    data-correct-answer="il numero da moltiplicare">
              <option value="">Scegli...</option>
              <option value="quante volte la base va moltiplicata per se stessa">quante volte la base va moltiplicata per se stessa</option>
              <option value="il numero da moltiplicare">il numero da moltiplicare</option>
              <option value="6 × 6 × 6">6 × 6 × 6</option>
            </select>
          </div>
        </div>

        <!-- La POTENZA 6³ significa -->
        <div class="bg-yellow-50 rounded-lg p-4">
          <div class="flex flex-col md:flex-row items-start md:items-center gap-3">
            <span class="text-lg flex-shrink-0">• La <span class="font-bold text-pink-600">POTENZA</span> 6³ significa</span>
            <select class="flex-1 px-4 py-2 border-2 border-pink-300 rounded-lg focus:border-pink-500 focus:outline-none text-gray-700"
                    data-correct-answer="6 × 6 × 6">
              <option value="">Scegli...</option>
              <option value="quante volte la base va moltiplicata per se stessa">quante volte la base va moltiplicata per se stessa</option>
              <option value="il numero da moltiplicare">il numero da moltiplicare</option>
              <option value="6 × 6 × 6">6 × 6 × 6</option>
            </select>
          </div>
        </div>
      </div>
    </div>

    <!-- Esercizio SCEGLI -->
    <div class="bg-white rounded-2xl border-4 border-pink-200 shadow-xl p-6">
      <h2 class="text-2xl font-bold text-pink-600 mb-6 flex items-center gap-3">
        <span class="text-pink-500">♥</span>
        Scegli.
      </h2>

      <div class="space-y-6">
        <!-- La POTENZA 5⁴ si legge -->
        <div class="space-y-3">
          <p class="text-lg font-medium">• La <span class="font-bold text-pink-600">POTENZA</span> 5⁴ si legge:</p>

          <div class="ml-6 space-y-3">
            <label class="flex items-center gap-3 bg-pink-50 p-4 rounded-lg cursor-pointer hover:bg-pink-100 transition-colors">
              <input type="radio" name="potenza_5_4" value="quattro alla quinta" class="w-5 h-5 text-pink-600">
              <span class="text-lg font-bold text-pink-600">QUATTRO ALLA QUINTA</span>
            </label>

            <label class="flex items-center gap-3 bg-pink-50 p-4 rounded-lg cursor-pointer hover:bg-pink-100 transition-colors">
              <input type="radio" name="potenza_5_4" value="cinque alla quarta" class="w-5 h-5 text-pink-600" data-correct-answer="true">
              <span class="text-lg font-bold text-pink-600">CINQUE ALLA QUARTA</span>
            </label>
          </div>
        </div>

        <!-- OTTO ELEVATO ALLA SECONDA corrisponde -->
        <div class="space-y-3">
          <p class="text-lg font-medium">• <span class="font-bold text-pink-600">OTTO ELEVATO ALLA SECONDA</span> corrisponde:</p>

          <div class="ml-6 space-y-3">
            <label class="flex items-center gap-3 bg-pink-50 p-4 rounded-lg cursor-pointer hover:bg-pink-100 transition-colors">
              <input type="radio" name="otto_seconda" value="8²" class="w-5 h-5 text-pink-600" data-correct-answer="true">
              <span class="text-lg">alla <span class="font-bold text-pink-600">POTENZA</span> 8²</span>
            </label>

            <label class="flex items-center gap-3 bg-pink-50 p-4 rounded-lg cursor-pointer hover:bg-pink-100 transition-colors">
              <input type="radio" name="otto_seconda" value="2⁸" class="w-5 h-5 text-pink-600">
              <span class="text-lg">alla <span class="font-bold text-pink-600">POTENZA</span> 2⁸</span>
            </label>
          </div>
        </div>
      </div>
    </div>

    <!-- Exercise Controls -->
    <%= render 'shared/exercise_controls', color: 'pink', current_page: 'nvi5_mat_p008' %>

  </div>
</div>
