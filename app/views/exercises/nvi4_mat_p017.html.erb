<div class="max-w-6xl mx-auto bg-white p-3 md:p-6"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">

    <!-- Container ESERCIZI -->
    <div class="p-4 md:p-6 bg-orange-100 rounded-2xl">

      <!-- Badge ESERCIZI -->
      <div class="bg-<%= @pagina.base_color %>-600 text-white px-4 py-2 rounded-lg inline-block font-bold mb-4">
        ESERCIZI
      </div>

      <!-- Esercizio 1 IMPARARE TUTTI -->
      <div class="p-4 bg-white rounded-2xl -mx-4 md:-mx-6 -mt-4 md:-mt-6 mb-6 border-3 border-blue-500">
        <p class="font-bold text-gray-700 mb-4">
          <%= imparare_tutti_badge(1) %>
          Scrivi sul quaderno il significato dei seguenti numeri, come nell'esempio.
        </p>

        <div class="p-3 bg-<%= @pagina.base_color %>-50 rounded-lg mb-4">
          <p class="font-bold text-gray-700">
            <span class="whitespace-nowrap">34 567</span> significa: 3 volte diecimila + 4 volte mille + 5 volte cento + 6 volte dieci + 7 volte uno
          </p>
          <p class="font-bold text-gray-700">
            si può scrivere: 3 × 10 000 + 4 × 1 000 + 5 × 100 + 6 × 10 + 7 × 1
          </p>
        </div>

        <p class="text-gray-700">
          <span class="whitespace-nowrap">254 648</span> <span class="text-<%= @pagina.base_color %>-500">•</span>
          <span class="whitespace-nowrap">90 611</span> <span class="text-<%= @pagina.base_color %>-500">•</span>
          <span class="whitespace-nowrap">752 157</span> <span class="text-<%= @pagina.base_color %>-500">•</span>
          <span class="whitespace-nowrap">231 087</span> <span class="text-<%= @pagina.base_color %>-500">•</span>
          <span class="whitespace-nowrap">3 784</span> <span class="text-<%= @pagina.base_color %>-500">•</span>
          <span class="whitespace-nowrap">58 394</span> <span class="text-<%= @pagina.base_color %>-500">•</span>
          <span class="whitespace-nowrap">703 230</span> <span class="text-<%= @pagina.base_color %>-500">•</span>
          <span class="whitespace-nowrap">82 001</span>
        </p>
      </div>

      <!-- Esercizio 2 -->
      <div class="mb-8">
        <p class="font-bold text-gray-700 mb-4">
          <%= numero_esercizio_badge(2) %>
          Scrivi i numeri come somma di addendi sul quaderno. Segui l'esempio.
        </p>

        <div class="p-3 bg-<%= @pagina.base_color %>-50 rounded-lg mb-4">
          <p class="font-bold text-gray-700">
            <span class="whitespace-nowrap">2 346</span> = 2 000 + 300 + 40 + 6
          </p>
        </div>

        <p class="text-gray-700">
          <span class="whitespace-nowrap">3 986</span> <span class="text-<%= @pagina.base_color %>-500">•</span>
          <span class="whitespace-nowrap">12 875</span> <span class="text-<%= @pagina.base_color %>-500">•</span>
          <span class="whitespace-nowrap">54 560</span> <span class="text-<%= @pagina.base_color %>-500">•</span>
          <span class="whitespace-nowrap">406 507</span> <span class="text-<%= @pagina.base_color %>-500">•</span>
          <span class="whitespace-nowrap">4 583</span> <span class="text-<%= @pagina.base_color %>-500">•</span>
          <span class="whitespace-nowrap">100 349</span> <span class="text-<%= @pagina.base_color %>-500">•</span>
          <span class="whitespace-nowrap">368 098</span> <span class="text-<%= @pagina.base_color %>-500">•</span>
          <span class="whitespace-nowrap">12 746</span> <span class="text-<%= @pagina.base_color %>-500">•</span>
          <span class="whitespace-nowrap">657 900</span> <span class="text-<%= @pagina.base_color %>-500">•</span>
          <span class="whitespace-nowrap">32 075</span>
        </p>
      </div>

      <!-- Esercizio 3 -->
      <div class="mb-8">
        <p class="font-bold text-gray-700 mb-4">
          <%= numero_esercizio_badge(3) %>
          Quale numero corrisponde a...?
        </p>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
          <div class="flex items-center gap-2 flex-wrap">
            <span>1 uk 5 h 3 da</span>
            <span class="text-<%= @pagina.base_color %>-500">→</span>
            <input type="text" data-correct-answer="1530" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          </div>
          <div class="flex items-center gap-2 flex-wrap">
            <span>7 dak 6 u</span>
            <span class="text-<%= @pagina.base_color %>-500">→</span>
            <input type="text" data-correct-answer="70006" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          </div>
          <div class="flex items-center gap-2 flex-wrap">
            <span>5 dak 3 h 9 da 2 u</span>
            <span class="text-<%= @pagina.base_color %>-500">→</span>
            <input type="text" data-correct-answer="50392" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          </div>
          <div class="flex items-center gap-2 flex-wrap">
            <span>2 hk 6 da 8 u</span>
            <span class="text-<%= @pagina.base_color %>-500">→</span>
            <input type="text" data-correct-answer="200068" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          </div>
          <div class="flex items-center gap-2 flex-wrap">
            <span>9 uk 4 da</span>
            <span class="text-<%= @pagina.base_color %>-500">→</span>
            <input type="text" data-correct-answer="9040" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          </div>
          <div class="flex items-center gap-2 flex-wrap">
            <span>3 uk 9 h 7 da</span>
            <span class="text-<%= @pagina.base_color %>-500">→</span>
            <input type="text" data-correct-answer="3970" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          </div>
          <div class="flex items-center gap-2 flex-wrap">
            <span>13 h 14 da</span>
            <span class="text-<%= @pagina.base_color %>-500">→</span>
            <input type="text" data-correct-answer="1440" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          </div>
          <div class="flex items-center gap-2 flex-wrap">
            <span>24 uk 15 h</span>
            <span class="text-<%= @pagina.base_color %>-500">→</span>
            <input type="text" data-correct-answer="25500" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          </div>
          <div class="flex items-center gap-2 flex-wrap">
            <span>12 u 47 h</span>
            <span class="text-<%= @pagina.base_color %>-500">→</span>
            <input type="text" data-correct-answer="4712" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          </div>
        </div>
      </div>

      <!-- Due colonne -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 md:divide-x-2 md:divide-orange-300">

        <!-- Colonna sinistra: Esercizio 4 -->
        <div class="md:pr-4">
          <p class="font-bold text-gray-700 mb-4">
            <%= numero_esercizio_badge(4) %>
            Scrivi il valore della cifra 6 nei seguenti numeri.
          </p>

          <div class="space-y-3">
            <!-- Esempio -->
            <div class="flex items-center gap-2">
              <span class="whitespace-nowrap">6 730</span>
              <span class="text-<%= @pagina.base_color %>-500">→</span>
              <span class="font-bold text-<%= @pagina.base_color %>-600">6 uk</span>
            </div>
            <div class="flex items-center gap-2">
              <span class="whitespace-nowrap">21 678</span>
              <span class="text-<%= @pagina.base_color %>-500">→</span>
              <span>6</span>
              <input type="text" data-correct-answer="h" class="w-12 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            </div>
            <div class="flex items-center gap-2">
              <span class="whitespace-nowrap">368 905</span>
              <span class="text-<%= @pagina.base_color %>-500">→</span>
              <span>6</span>
              <input type="text" data-correct-answer="dak" class="w-12 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            </div>
            <div class="flex items-center gap-2">
              <span class="whitespace-nowrap">105 386</span>
              <span class="text-<%= @pagina.base_color %>-500">→</span>
              <span>6</span>
              <input type="text" data-correct-answer="u" class="w-12 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            </div>
            <div class="flex items-center gap-2">
              <span class="whitespace-nowrap">16 931</span>
              <span class="text-<%= @pagina.base_color %>-500">→</span>
              <span>6</span>
              <input type="text" data-correct-answer="uk" class="w-12 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            </div>
            <div class="flex items-center gap-2">
              <span class="whitespace-nowrap">680 300</span>
              <span class="text-<%= @pagina.base_color %>-500">→</span>
              <span>6</span>
              <input type="text" data-correct-answer="hk" class="w-12 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            </div>
          </div>
        </div>

        <!-- Colonna destra: Esercizio 5 -->
        <div class="md:pl-4">
          <p class="font-bold text-gray-700 mb-4">
            <%= numero_esercizio_badge(5) %>
            Attribuisci il valore a ogni cifra in base alla posizione che occupa.
          </p>

          <div class="space-y-3">
            <!-- Esempio -->
            <div class="flex items-start gap-2 flex-wrap">
              <span class="whitespace-nowrap">13 567</span>
              <span class="text-<%= @pagina.base_color %>-500">→</span>
              <span class="font-bold text-<%= @pagina.base_color %>-600">1 dak + 3 uk + 5 h + 6 da + 7 u</span>
            </div>
            <div class="flex items-start gap-2 flex-wrap">
              <span class="whitespace-nowrap">678 904</span>
              <span class="text-<%= @pagina.base_color %>-500">→</span>
              <input type="text" data-correct-answer="6 hk + 7 dak + 8 uk + 9 h + 4 u" class="flex-1 min-w-0 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            </div>
            <div class="flex items-start gap-2 flex-wrap">
              <span class="whitespace-nowrap">60 510</span>
              <span class="text-<%= @pagina.base_color %>-500">→</span>
              <input type="text" data-correct-answer="6 dak + 5 h + 1 da" class="flex-1 min-w-0 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            </div>
            <div class="flex items-start gap-2 flex-wrap">
              <span class="whitespace-nowrap">275 843</span>
              <span class="text-<%= @pagina.base_color %>-500">→</span>
              <input type="text" data-correct-answer="2 hk + 7 dak + 5 uk + 8 h + 4 da + 3 u" class="flex-1 min-w-0 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            </div>
            <div class="flex items-start gap-2 flex-wrap">
              <span class="whitespace-nowrap">120 741</span>
              <span class="text-<%= @pagina.base_color %>-500">→</span>
              <input type="text" data-correct-answer="1 hk + 2 dak + 7 h + 4 da + 1 u" class="flex-1 min-w-0 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            </div>
            <div class="flex items-start gap-2 flex-wrap">
              <span class="whitespace-nowrap">865 032</span>
              <span class="text-<%= @pagina.base_color %>-500">→</span>
              <input type="text" data-correct-answer="8 hk + 6 dak + 5 uk + 3 da + 2 u" class="flex-1 min-w-0 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            </div>
          </div>
        </div>

      </div>

      <!-- Esercizio 6 -->
      <div class="mt-8">
        <p class="font-bold text-gray-700 mb-4">
          <%= numero_esercizio_badge(6) %>
          Scrivi il numero corrispondente, come nell'esempio.
        </p>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <!-- Esempio -->
          <div class="flex items-center gap-2 flex-wrap">
            <span>23 da + 14 u =</span>
            <span class="font-bold text-<%= @pagina.base_color %>-600">230 + 14 = 244</span>
          </div>
          <div class="flex items-center gap-2 flex-wrap">
            <span>13 dak + 1 hk =</span>
            <input type="text" data-correct-answer="230000" class="w-24 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          </div>
          <div class="flex items-center gap-2 flex-wrap">
            <span>5 h + 18 da =</span>
            <input type="text" data-correct-answer="680" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          </div>
          <div class="flex items-center gap-2 flex-wrap">
            <span>8 h + 124 u =</span>
            <input type="text" data-correct-answer="924" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          </div>
          <div class="flex items-center gap-2 flex-wrap">
            <span>45 da + 1 u =</span>
            <input type="text" data-correct-answer="451" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          </div>
          <div class="flex items-center gap-2 flex-wrap">
            <span>6 hk + 543 u =</span>
            <input type="text" data-correct-answer="600543" class="w-24 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          </div>
          <div class="flex items-center gap-2 flex-wrap">
            <span>2 h + 4 da + 6 u =</span>
            <input type="text" data-correct-answer="246" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          </div>
          <div class="flex items-center gap-2 flex-wrap">
            <span>43 uk + 3 h + 16 da =</span>
            <input type="text" data-correct-answer="43460" class="w-24 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          </div>
          <div class="flex items-center gap-2 flex-wrap">
            <span>12 uk + 18 da =</span>
            <input type="text" data-correct-answer="12180" class="w-24 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          </div>
          <div class="flex items-center gap-2 flex-wrap">
            <span>21 u + 36 h =</span>
            <input type="text" data-correct-answer="3621" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          </div>
        </div>
      </div>

      <!-- Esercizio 7 -->
      <div class="mt-8">
        <p class="font-bold text-gray-700 mb-4">
          <%= numero_esercizio_badge(7) %>
          Scrivi in lettere sul quaderno i seguenti numeri.
        </p>

        <p class="text-gray-700">
          <span class="whitespace-nowrap">18 570</span> <span class="text-<%= @pagina.base_color %>-500">•</span>
          <span class="whitespace-nowrap">608 254</span> <span class="text-<%= @pagina.base_color %>-500">•</span>
          <span class="whitespace-nowrap">573 273</span> <span class="text-<%= @pagina.base_color %>-500">•</span>
          <span class="whitespace-nowrap">985 204</span> <span class="text-<%= @pagina.base_color %>-500">•</span>
          <span class="whitespace-nowrap">120 000</span> <span class="text-<%= @pagina.base_color %>-500">•</span>
          <span class="whitespace-nowrap">865 300</span> <span class="text-<%= @pagina.base_color %>-500">•</span>
          <span class="whitespace-nowrap">154 005</span>
        </p>
      </div>

    </div>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
