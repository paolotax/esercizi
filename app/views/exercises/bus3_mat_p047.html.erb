<% content_for :titolo, "#{@pagina.titolo} - #{@pagina.numero}" %>

<div class="max-w-7xl mx-auto p-3 md:p-6 bg-white" data-controller="exercise-checker page-viewer" data-page-viewer-image-url-value="<%= asset_path('bus3_mat/p047/page.png') %>">
  <!-- Header -->
  <%= render 'shared/page_header', pagina: @pagina %>

  <!-- Parte teorica: Moltiplicazioni con una cifra -->
  <div class="bg-[#FFE4C4] p-4 md:p-6 mb-8">
    <h2 class="text-xl md:text-2xl font-bold mb-4 text-gray-800">
      MOLTIPLICAZIONI CON UNA CIFRA AL MOLTIPLICATORE
    </h2>

    <p class="text-base md:text-lg text-gray-800 mb-6">
      <strong>• Osserva come si eseguono le moltiplicazioni in colonna.</strong>
    </p>

    <!-- Sezione: SENZA CAMBIO -->
    <h3 class="font-bold text-lg mb-4">• <u>SENZA CAMBIO</u></h3>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
      <div class="flex items-center gap-4">
        <%= image_tag "bus3_mat/p047/p47_1.jpg",
            alt: "Moltiplicazione senza cambio - passo 1",
            class: "w-48 border-3 border-orange-400 rounded-lg" %>
        <p class="text-sm text-gray-700">
          Prima moltiplica le <strong><u>unità</u></strong> per le <strong><u>unità</u></strong>.
        </p>
      </div>

      <div class="flex items-center gap-4">
        <%= image_tag "bus3_mat/p047/p47_2.jpg",
            alt: "Moltiplicazione senza cambio - passo 2",
            class: "w-48 border-3 border-orange-400 rounded-lg" %>
        <p class="text-sm text-gray-700">
          Dopo moltiplica le <strong><u>unità</u></strong> per le <strong><u>decine</u></strong>.
        </p>
      </div>
    </div>

    <!-- Sezione: CON IL CAMBIO -->
    <h3 class="font-bold text-lg mb-4 mt-8">• <u>CON IL CAMBIO</u></h3>

    <div class="space-y-6">
      <div class="flex items-center gap-4">
        <%= image_tag "bus3_mat/p047/p47_3.jpg",
            alt: "Moltiplicazione con cambio - passo 1",
            class: "w-48 border-3 border-orange-400 rounded-lg" %>
        <p class="text-sm text-gray-700">
          Moltiplica le <strong><u>unità</u></strong> per le <strong><u>unità</u></strong>.<br>
          Scrivi <strong><u>2</u></strong> sotto le <strong><u>unità</u></strong> e <strong><u>+1</u></strong> sopra le<br>
          <strong><u>decine</u></strong>.
        </p>
      </div>

      <div class="flex items-center gap-4">
        <%= image_tag "bus3_mat/p047/p47_4.jpg",
            alt: "Moltiplicazione con cambio - passo 2",
            class: "w-48 border-3 border-orange-400 rounded-lg" %>
        <p class="text-sm text-gray-700">
          Moltiplica le <strong><u>unità</u></strong> per<br>
          le <strong><u>decine</u></strong> e aggiungi <strong><u>+1</u></strong> al risultato.
        </p>
      </div>

      <div class="flex items-center gap-4">
        <%= image_tag "bus3_mat/p047/p47_5.jpg",
            alt: "Moltiplicazione con cambio - passo 3",
            class: "w-48 border-3 border-orange-400 rounded-lg" %>
        <p class="text-sm text-gray-700">
          Moltiplica le <strong><u>unità</u></strong> per le <strong><u>centinaia</u></strong>.
        </p>
      </div>
    </div>
  </div>

  <!-- Esercizio 1: Calcola in colonna sul quaderno -->
  <div class="bg-transparent p-4 md:p-8 mb-8">
    <div class="flex items-start gap-3 mb-6">
      <div class="bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">
        1
      </div>
      <p class="text-base md:text-lg text-gray-700">
        <strong>Calcola in colonna sul quaderno.</strong>
      </p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
      <!-- Colonna a: Senza cambio -->
      <div class="bg-white border-3 border-orange-400 rounded-lg p-4">
        <div class="bg-orange-100 text-center font-bold py-2 mb-3 rounded">a</div>
        <p class="font-bold text-gray-700 mb-3">Senza cambio</p>
        <div class="space-y-2 text-gray-700">
          <p>122 × 4 =</p>
          <p>221 × 3 =</p>
          <p>110 × 6 =</p>
          <p>324 × 2 =</p>
          <p>320 × 3 =</p>
          <p>201 × 4 =</p>
        </div>
      </div>

      <!-- Colonna b: Con un cambio -->
      <div class="bg-white border-3 border-orange-400 rounded-lg p-4">
        <div class="bg-orange-100 text-center font-bold py-2 mb-3 rounded">b</div>
        <p class="font-bold text-gray-700 mb-3">Con un cambio</p>
        <div class="space-y-2 text-gray-700">
          <p>126 × 3 =</p>
          <p>104 × 8 =</p>
          <p>145 × 2 =</p>
          <p>136 × 2 =</p>
          <p>180 × 2 =</p>
          <p>190 × 4 =</p>
        </div>
      </div>

      <!-- Colonna c: Con più cambi -->
      <div class="bg-white border-3 border-orange-400 rounded-lg p-4">
        <div class="bg-orange-100 text-center font-bold py-2 mb-3 rounded">c</div>
        <p class="font-bold text-gray-700 mb-3">Con più cambi</p>
        <div class="space-y-2 text-gray-700">
          <p>123 × 5 =</p>
          <p>124 × 7 =</p>
          <p>146 × 4 =</p>
        </div>
      </div>
    </div>

    <div class="mt-6 text-center text-gray-600">
      <p><strong>Quaderno → p. 150</strong></p>
    </div>
  </div>

  <!-- Footer con controlli -->
  <%= render 'shared/exercise_controls', color: 'orange' %>
</div>
