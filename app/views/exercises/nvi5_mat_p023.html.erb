<div class="max-w-6xl mx-auto p-6 bg-gradient-to-br from-orange-50 to-yellow-50 rounded-lg shadow-lg" data-controller="exercise-checker">
  <!-- Header -->
  <div class="flex items-center justify-between mb-8">
    <div class="flex items-center gap-4">
      <div class="bg-orange-500 text-white rounded-full w-12 h-12 flex items-center justify-center">
        <span class="text-2xl font-bold">23</span>
      </div>
    </div>
    <div class="bg-gradient-to-r from-orange-400 to-green-400 text-white rounded-full px-8 py-3">
      <h2 class="text-2xl font-bold">Laboratorio</h2>
    </div>
  </div>

  <div class="text-center mb-8">
    <h1 class="text-4xl font-bold text-blue-600 mb-4">LA CALCOLATRICE</h1>
  </div>

  <div class="space-y-8">

    <!-- Sezione introduttiva -->
    <div class="bg-white rounded-lg shadow-lg p-8">
      <p class="text-lg text-gray-800 mb-6">
        La calcolatrice è uno strumento molto utile per <strong>eseguire calcoli complessi</strong> o anche
        per <strong>verificare la correttezza</strong> di operazioni che hai eseguito a mente o in colonna.
        Osserva a che cosa servono i tasti evidenziati. Imparerai le funzioni degli altri tasti
        nei prossimi anni.
      </p>

      <!-- Immagine della calcolatrice -->
      <div class="mb-6">
        <%= image_tag "p023_01.jpg", alt: "Calcolatrice con tasti evidenziati", class: "w-full max-w-2xl mx-auto rounded-lg shadow-md" %>
      </div>
    </div>

    <!-- Esercizio 1: Esempio con 19 + 237 -->
    <div class="bg-white rounded-lg shadow-lg p-8 border-l-4 border-blue-500">
      <h3 class="text-xl font-bold text-gray-800 mb-6 flex items-center gap-3">
        <span class="bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold">1</span>
        <span>Accendi la calcolatrice ed esegui le seguenti operazioni.</span>
      </h3>

      <!-- Esempio: 19 + 237 -->
      <div class="bg-blue-50 rounded-lg p-6 mb-8">
        <h4 class="text-lg font-bold text-gray-800 mb-4">19 + 237 =</h4>

        <div class="overflow-x-auto">
          <table class="w-full border-collapse">
            <thead>
              <tr class="bg-blue-100">
                <th class="border border-gray-300 px-4 py-2 text-left font-bold">digito</th>
                <th class="border border-gray-300 px-4 py-2 text-center">1</th>
                <th class="border border-gray-300 px-4 py-2 text-center">9</th>
                <th class="border border-gray-300 px-4 py-2 text-center">+</th>
                <th class="border border-gray-300 px-4 py-2 text-center">2</th>
                <th class="border border-gray-300 px-4 py-2 text-center">3</th>
                <th class="border border-gray-300 px-4 py-2 text-center">7</th>
                <th class="border border-gray-300 px-4 py-2 text-center">=</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="border border-gray-300 px-4 py-2"></td>
                <td class="border border-gray-300 px-4 py-2 text-center">↓</td>
                <td class="border border-gray-300 px-4 py-2 text-center">↓</td>
                <td class="border border-gray-300 px-4 py-2 text-center">↓</td>
                <td class="border border-gray-300 px-4 py-2 text-center">↓</td>
                <td class="border border-gray-300 px-4 py-2 text-center">↓</td>
                <td class="border border-gray-300 px-4 py-2 text-center">↓</td>
                <td class="border border-gray-300 px-4 py-2 text-center">↓</td>
              </tr>
              <tr class="bg-green-50">
                <th class="border border-gray-300 px-4 py-2 text-left font-bold">vedo</th>
                <td class="border border-gray-300 px-4 py-2 text-center font-semibold">1</td>
                <td class="border border-gray-300 px-4 py-2 text-center font-semibold">19</td>
                <td class="border border-gray-300 px-4 py-2 text-center font-semibold">19 +</td>
                <td class="border border-gray-300 px-4 py-2 text-center font-semibold">2</td>
                <td class="border border-gray-300 px-4 py-2 text-center font-semibold">23</td>
                <td class="border border-gray-300 px-4 py-2 text-center font-semibold">237</td>
                <td class="border border-gray-300 px-4 py-2 text-center font-bold text-green-700">256</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Esercizio: 200 - 95 -->
      <div class="bg-orange-50 rounded-lg p-6">
        <h4 class="text-lg font-bold text-gray-800 mb-4">200 – 95 =</h4>

        <div class="overflow-x-auto">
          <table class="w-full border-collapse">
            <thead>
              <tr class="bg-orange-100">
                <th class="border border-gray-300 px-4 py-2 text-left font-bold">digito</th>
                <th class="border border-gray-300 px-4 py-2 text-center w-20">
                  <input type="text" data-correct-answer="2" class="w-full px-2 py-1 border-2 border-orange-300 rounded text-center font-semibold focus:border-orange-500 focus:outline-none" maxlength="3">
                </th>
                <th class="border border-gray-300 px-4 py-2 text-center w-20">
                  <input type="text" data-correct-answer="0" class="w-full px-2 py-1 border-2 border-orange-300 rounded text-center font-semibold focus:border-orange-500 focus:outline-none" maxlength="3">
                </th>
                <th class="border border-gray-300 px-4 py-2 text-center w-20">
                  <input type="text" data-correct-answer="0" class="w-full px-2 py-1 border-2 border-orange-300 rounded text-center font-semibold focus:border-orange-500 focus:outline-none" maxlength="3">
                </th>
                <th class="border border-gray-300 px-4 py-2 text-center w-20">
                  <input type="text" data-correct-answer="-" class="w-full px-2 py-1 border-2 border-orange-300 rounded text-center font-semibold focus:border-orange-500 focus:outline-none" maxlength="3">
                </th>
                <th class="border border-gray-300 px-4 py-2 text-center w-20">
                  <input type="text" data-correct-answer="9" class="w-full px-2 py-1 border-2 border-orange-300 rounded text-center font-semibold focus:border-orange-500 focus:outline-none" maxlength="3">
                </th>
                <th class="border border-gray-300 px-4 py-2 text-center w-20">
                  <input type="text" data-correct-answer="5" class="w-full px-2 py-1 border-2 border-orange-300 rounded text-center font-semibold focus:border-orange-500 focus:outline-none" maxlength="3">
                </th>
                <th class="border border-gray-300 px-4 py-2 text-center w-20">
                  <input type="text" data-correct-answer="=" class="w-full px-2 py-1 border-2 border-orange-300 rounded text-center font-semibold focus:border-orange-500 focus:outline-none" maxlength="3">
                </th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="border border-gray-300 px-4 py-2"></td>
                <td class="border border-gray-300 px-4 py-2 text-center">↓</td>
                <td class="border border-gray-300 px-4 py-2 text-center">↓</td>
                <td class="border border-gray-300 px-4 py-2 text-center">↓</td>
                <td class="border border-gray-300 px-4 py-2 text-center">↓</td>
                <td class="border border-gray-300 px-4 py-2 text-center">↓</td>
                <td class="border border-gray-300 px-4 py-2 text-center">↓</td>
                <td class="border border-gray-300 px-4 py-2 text-center">↓</td>
              </tr>
              <tr class="bg-green-50">
                <th class="border border-gray-300 px-4 py-2 text-left font-bold">vedo</th>
                <td class="border border-gray-300 px-4 py-2 text-center">
                  <input type="text" data-correct-answer="2" class="w-full px-2 py-1 border-2 border-green-300 rounded text-center font-semibold focus:border-green-500 focus:outline-none" maxlength="5">
                </td>
                <td class="border border-gray-300 px-4 py-2 text-center">
                  <input type="text" data-correct-answer="20" class="w-full px-2 py-1 border-2 border-green-300 rounded text-center font-semibold focus:border-green-500 focus:outline-none" maxlength="5">
                </td>
                <td class="border border-gray-300 px-4 py-2 text-center">
                  <input type="text" data-correct-answer="200" class="w-full px-2 py-1 border-2 border-green-300 rounded text-center font-semibold focus:border-green-500 focus:outline-none" maxlength="5">
                </td>
                <td class="border border-gray-300 px-4 py-2 text-center">
                  <input type="text" data-correct-answer="200 -" class="w-full px-2 py-1 border-2 border-green-300 rounded text-center font-semibold focus:border-green-500 focus:outline-none" maxlength="7">
                </td>
                <td class="border border-gray-300 px-4 py-2 text-center">
                  <input type="text" data-correct-answer="9" class="w-full px-2 py-1 border-2 border-green-300 rounded text-center font-semibold focus:border-green-500 focus:outline-none" maxlength="5">
                </td>
                <td class="border border-gray-300 px-4 py-2 text-center">
                  <input type="text" data-correct-answer="95" class="w-full px-2 py-1 border-2 border-green-300 rounded text-center font-semibold focus:border-green-500 focus:outline-none" maxlength="5">
                </td>
                <td class="border border-gray-300 px-4 py-2 text-center">
                  <input type="text" data-correct-answer="105" class="w-full px-2 py-1 border-2 border-green-300 rounded text-center font-bold focus:border-green-500 focus:outline-none" maxlength="5">
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Esercizio 2: Sul quaderno -->
    <div class="bg-white rounded-lg shadow-lg p-8 border-l-4 border-purple-500">
      <h3 class="text-xl font-bold text-gray-800 mb-6 flex items-center gap-3">
        <span class="bg-purple-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold">2</span>
        <span>Ricopia lo schema sul quaderno e scrivi che cosa digiti e che cosa vedi per eseguire le seguenti operazioni.</span>
      </h3>

      <div class="bg-purple-50 rounded-lg p-6 space-y-4">
        <p class="text-xl font-bold text-center">579 × 84 =</p>
        <p class="text-xl font-bold text-center">846 : 47 =</p>
        <p class="text-sm text-gray-600 italic text-center mt-4">
          (Completa sul quaderno seguendo l'esempio dell'esercizio 1)
        </p>
      </div>
    </div>

    <!-- Esercizio 3: Premi più volte = -->
    <div class="bg-white rounded-lg shadow-lg p-8 border-l-4 border-pink-500">
      <h3 class="text-xl font-bold text-gray-800 mb-6 flex items-center gap-3">
        <span class="bg-pink-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold">3</span>
        <span>Esegui i comandi indicati e scrivi che cosa leggi sul display. Poi rispondi.</span>
      </h3>

      <!-- Tabella 7 + 5 = = = = -->
      <div class="bg-pink-50 rounded-lg p-6 mb-6">
        <div class="overflow-x-auto">
          <table class="w-full border-collapse">
            <thead>
              <tr class="bg-pink-100">
                <th class="border border-gray-300 px-4 py-2 text-left font-bold">digito</th>
                <th class="border border-gray-300 px-4 py-2 text-center">7</th>
                <th class="border border-gray-300 px-4 py-2 text-center">+</th>
                <th class="border border-gray-300 px-4 py-2 text-center">5</th>
                <th class="border border-gray-300 px-4 py-2 text-center">=</th>
                <th class="border border-gray-300 px-4 py-2 text-center">=</th>
                <th class="border border-gray-300 px-4 py-2 text-center">=</th>
                <th class="border border-gray-300 px-4 py-2 text-center">=</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="border border-gray-300 px-4 py-2"></td>
                <td class="border border-gray-300 px-4 py-2 text-center">↓</td>
                <td class="border border-gray-300 px-4 py-2 text-center">↓</td>
                <td class="border border-gray-300 px-4 py-2 text-center">↓</td>
                <td class="border border-gray-300 px-4 py-2 text-center">↓</td>
                <td class="border border-gray-300 px-4 py-2 text-center">↓</td>
                <td class="border border-gray-300 px-4 py-2 text-center">↓</td>
                <td class="border border-gray-300 px-4 py-2 text-center">↓</td>
              </tr>
              <tr class="bg-green-50">
                <th class="border border-gray-300 px-4 py-2 text-left font-bold">vedo</th>
                <td class="border border-gray-300 px-4 py-2 text-center">
                  <input type="text" data-correct-answer="7" class="w-full px-2 py-1 border-2 border-green-300 rounded text-center font-semibold focus:border-green-500 focus:outline-none" maxlength="5">
                </td>
                <td class="border border-gray-300 px-4 py-2 text-center">
                  <input type="text" data-correct-answer="7 +" class="w-full px-2 py-1 border-2 border-green-300 rounded text-center font-semibold focus:border-green-500 focus:outline-none" maxlength="5">
                </td>
                <td class="border border-gray-300 px-4 py-2 text-center">
                  <input type="text" data-correct-answer="5" class="w-full px-2 py-1 border-2 border-green-300 rounded text-center font-semibold focus:border-green-500 focus:outline-none" maxlength="5">
                </td>
                <td class="border border-gray-300 px-4 py-2 text-center">
                  <input type="text" data-correct-answer="12" class="w-full px-2 py-1 border-2 border-green-300 rounded text-center font-bold focus:border-green-500 focus:outline-none" maxlength="5">
                </td>
                <td class="border border-gray-300 px-4 py-2 text-center">
                  <input type="text" data-correct-answer="17" class="w-full px-2 py-1 border-2 border-green-300 rounded text-center font-bold focus:border-green-500 focus:outline-none" maxlength="5">
                </td>
                <td class="border border-gray-300 px-4 py-2 text-center">
                  <input type="text" data-correct-answer="22" class="w-full px-2 py-1 border-2 border-green-300 rounded text-center font-bold focus:border-green-500 focus:outline-none" maxlength="5">
                </td>
                <td class="border border-gray-300 px-4 py-2 text-center">
                  <input type="text" data-correct-answer="27" class="w-full px-2 py-1 border-2 border-green-300 rounded text-center font-bold focus:border-green-500 focus:outline-none" maxlength="5">
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Tabella 4 9 - 5 = = = -->
      <div class="bg-pink-50 rounded-lg p-6 mb-6">
        <div class="overflow-x-auto">
          <table class="w-full border-collapse">
            <thead>
              <tr class="bg-pink-100">
                <th class="border border-gray-300 px-4 py-2 text-left font-bold">digito</th>
                <th class="border border-gray-300 px-4 py-2 text-center">4</th>
                <th class="border border-gray-300 px-4 py-2 text-center">9</th>
                <th class="border border-gray-300 px-4 py-2 text-center">–</th>
                <th class="border border-gray-300 px-4 py-2 text-center">5</th>
                <th class="border border-gray-300 px-4 py-2 text-center">=</th>
                <th class="border border-gray-300 px-4 py-2 text-center">=</th>
                <th class="border border-gray-300 px-4 py-2 text-center">=</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="border border-gray-300 px-4 py-2"></td>
                <td class="border border-gray-300 px-4 py-2 text-center">↓</td>
                <td class="border border-gray-300 px-4 py-2 text-center">↓</td>
                <td class="border border-gray-300 px-4 py-2 text-center">↓</td>
                <td class="border border-gray-300 px-4 py-2 text-center">↓</td>
                <td class="border border-gray-300 px-4 py-2 text-center">↓</td>
                <td class="border border-gray-300 px-4 py-2 text-center">↓</td>
                <td class="border border-gray-300 px-4 py-2 text-center">↓</td>
              </tr>
              <tr class="bg-green-50">
                <th class="border border-gray-300 px-4 py-2 text-left font-bold">vedo</th>
                <td class="border border-gray-300 px-4 py-2 text-center">
                  <input type="text" data-correct-answer="4" class="w-full px-2 py-1 border-2 border-green-300 rounded text-center font-semibold focus:border-green-500 focus:outline-none" maxlength="5">
                </td>
                <td class="border border-gray-300 px-4 py-2 text-center">
                  <input type="text" data-correct-answer="49" class="w-full px-2 py-1 border-2 border-green-300 rounded text-center font-semibold focus:border-green-500 focus:outline-none" maxlength="5">
                </td>
                <td class="border border-gray-300 px-4 py-2 text-center">
                  <input type="text" data-correct-answer="49 -" class="w-full px-2 py-1 border-2 border-green-300 rounded text-center font-semibold focus:border-green-500 focus:outline-none" maxlength="5">
                </td>
                <td class="border border-gray-300 px-4 py-2 text-center">
                  <input type="text" data-correct-answer="5" class="w-full px-2 py-1 border-2 border-green-300 rounded text-center font-semibold focus:border-green-500 focus:outline-none" maxlength="5">
                </td>
                <td class="border border-gray-300 px-4 py-2 text-center">
                  <input type="text" data-correct-answer="44" class="w-full px-2 py-1 border-2 border-green-300 rounded text-center font-bold focus:border-green-500 focus:outline-none" maxlength="5">
                </td>
                <td class="border border-gray-300 px-4 py-2 text-center">
                  <input type="text" data-correct-answer="39" class="w-full px-2 py-1 border-2 border-green-300 rounded text-center font-bold focus:border-green-500 focus:outline-none" maxlength="5">
                </td>
                <td class="border border-gray-300 px-4 py-2 text-center">
                  <input type="text" data-correct-answer="34" class="w-full px-2 py-1 border-2 border-green-300 rounded text-center font-bold focus:border-green-500 focus:outline-none" maxlength="5">
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Domanda finale -->
      <div class="bg-yellow-50 rounded-lg p-6 border-l-4 border-yellow-500">
        <p class="text-lg font-bold text-gray-800 mb-3">
          Che cosa succede quando premi più volte il tasto = dopo un'operazione?
        </p>
        <textarea
          data-correct-answer="ripete l'operazione|continua ad aggiungere|continua a sottrarre"
          class="w-full px-4 py-3 border-2 border-yellow-300 rounded-lg focus:border-yellow-500 focus:outline-none resize-none"
          rows="3"
          placeholder="Scrivi qui la tua risposta..."></textarea>
        <p class="text-sm text-gray-600 italic mt-2">
          Suggerimento: Osserva cosa succede nella prima tabella (+ 5 ogni volta) e nella seconda (- 5 ogni volta).
        </p>
      </div>
    </div>

    <!-- Exercise Controls -->
    <%= render 'shared/exercise_controls', color: 'orange', current_page: 'nvi5_mat_p023' %>

  </div>
</div>
