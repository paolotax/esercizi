<% content_for :titolo, "#{@pagina.titolo} - #{@pagina.numero}" %>

<div class="max-w-7xl mx-auto p-3 md:p-6 bg-white dark:bg-gray-900 text-black dark:text-white font-mono transition-colors duration-300"
     data-controller="exercise-checker page-viewer text-toggle font-controls"
     data-page-viewer-image-url-value="<%= asset_path('bus3_mat/p155/page.png') %>"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <!-- Header -->
  <%= render 'shared/page_header', pagina: @pagina %>

  <!-- Esercizio 3 -->
  <div class="mb-12" data-controller="fill-blanks auto-advance">
    <div class="flex items-start gap-3 mb-6">
      <div class="bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">
        3
      </div>
      <p class="text-gray-700 dark:text-gray-200">
        <strong>Calcola in colonna e verifica i risultati con la prova.</strong>
      </p>
    </div>

    <!-- Griglia divisioni con prova -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">

      <!-- 693 : 3 = 231 (prova: 231 × 3 = 693) -->
      <div class="bg-gray-50 border border-gray-300 rounded p-4">
        <div class="flex items-center justify-center gap-2 mb-3">
          <span class="font-bold">693 : 3 =</span>
          <input type="text" data-fill-blanks-target="input" data-correct-answer="231"
                 class="w-14 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
        </div>
        <div class="border-t border-gray-300 pt-3 mt-3">
          <p class="text-center text-gray-600 mb-2">Prova:</p>
          <div class="flex items-center justify-center gap-1">
            <input type="text" data-fill-blanks-target="input" data-correct-answer="231"
                   class="w-12 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
            <span>×</span>
            <input type="text" data-fill-blanks-target="input" data-correct-answer="3"
                   class="w-10 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
            <span>=</span>
            <input type="text" data-fill-blanks-target="input" data-correct-answer="693"
                   class="w-14 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
          </div>
        </div>
      </div>

      <!-- 486 : 2 = 243 (prova: 243 × 2 = 486) -->
      <div class="bg-gray-50 border border-gray-300 rounded p-4">
        <div class="flex items-center justify-center gap-2 mb-3">
          <span class="font-bold">486 : 2 =</span>
          <input type="text" data-fill-blanks-target="input" data-correct-answer="243"
                 class="w-14 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
        </div>
        <div class="border-t border-gray-300 pt-3 mt-3">
          <p class="text-center text-gray-600 mb-2">Prova:</p>
          <div class="flex items-center justify-center gap-1">
            <input type="text" data-fill-blanks-target="input" data-correct-answer="243"
                   class="w-12 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
            <span>×</span>
            <input type="text" data-fill-blanks-target="input" data-correct-answer="2"
                   class="w-10 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
            <span>=</span>
            <input type="text" data-fill-blanks-target="input" data-correct-answer="486"
                   class="w-14 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
          </div>
        </div>
      </div>

      <!-- 728 : 4 = 182 (prova: 182 × 4 = 728) -->
      <div class="bg-gray-50 border border-gray-300 rounded p-4">
        <div class="flex items-center justify-center gap-2 mb-3">
          <span class="font-bold">728 : 4 =</span>
          <input type="text" data-fill-blanks-target="input" data-correct-answer="182"
                 class="w-14 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
        </div>
        <div class="border-t border-gray-300 pt-3 mt-3">
          <p class="text-center text-gray-600 mb-2">Prova:</p>
          <div class="flex items-center justify-center gap-1">
            <input type="text" data-fill-blanks-target="input" data-correct-answer="182"
                   class="w-12 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
            <span>×</span>
            <input type="text" data-fill-blanks-target="input" data-correct-answer="4"
                   class="w-10 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
            <span>=</span>
            <input type="text" data-fill-blanks-target="input" data-correct-answer="728"
                   class="w-14 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
          </div>
        </div>
      </div>

      <!-- 560 : 5 = 112 (prova: 112 × 5 = 560) -->
      <div class="bg-gray-50 border border-gray-300 rounded p-4">
        <div class="flex items-center justify-center gap-2 mb-3">
          <span class="font-bold">560 : 5 =</span>
          <input type="text" data-fill-blanks-target="input" data-correct-answer="112"
                 class="w-14 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
        </div>
        <div class="border-t border-gray-300 pt-3 mt-3">
          <p class="text-center text-gray-600 mb-2">Prova:</p>
          <div class="flex items-center justify-center gap-1">
            <input type="text" data-fill-blanks-target="input" data-correct-answer="112"
                   class="w-12 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
            <span>×</span>
            <input type="text" data-fill-blanks-target="input" data-correct-answer="5"
                   class="w-10 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
            <span>=</span>
            <input type="text" data-fill-blanks-target="input" data-correct-answer="560"
                   class="w-14 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
          </div>
        </div>
      </div>

      <!-- 377 : 4 = 94 resto 1 (prova: 94 × 4 + 1 = 377) -->
      <div class="bg-gray-50 border border-gray-300 rounded p-4">
        <div class="flex items-center justify-center gap-2 mb-3">
          <span class="font-bold">377 : 4 =</span>
          <input type="text" data-fill-blanks-target="input" data-correct-answer="94"
                 class="w-14 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
          <span>r.</span>
          <input type="text" data-fill-blanks-target="input" data-correct-answer="1"
                 class="w-10 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
        </div>
        <div class="border-t border-gray-300 pt-3 mt-3">
          <p class="text-center text-gray-600 mb-2">Prova:</p>
          <div class="flex items-center justify-center gap-1 flex-wrap">
            <input type="text" data-fill-blanks-target="input" data-correct-answer="94"
                   class="w-12 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
            <span>×</span>
            <input type="text" data-fill-blanks-target="input" data-correct-answer="4"
                   class="w-10 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
            <span>+</span>
            <input type="text" data-fill-blanks-target="input" data-correct-answer="1"
                   class="w-8 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
            <span>=</span>
            <input type="text" data-fill-blanks-target="input" data-correct-answer="377"
                   class="w-14 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
          </div>
        </div>
      </div>

      <!-- 256 : 3 = 85 resto 1 (prova: 85 × 3 + 1 = 256) -->
      <div class="bg-gray-50 border border-gray-300 rounded p-4">
        <div class="flex items-center justify-center gap-2 mb-3">
          <span class="font-bold">256 : 3 =</span>
          <input type="text" data-fill-blanks-target="input" data-correct-answer="85"
                 class="w-14 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
          <span>r.</span>
          <input type="text" data-fill-blanks-target="input" data-correct-answer="1"
                 class="w-10 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
        </div>
        <div class="border-t border-gray-300 pt-3 mt-3">
          <p class="text-center text-gray-600 mb-2">Prova:</p>
          <div class="flex items-center justify-center gap-1 flex-wrap">
            <input type="text" data-fill-blanks-target="input" data-correct-answer="85"
                   class="w-12 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
            <span>×</span>
            <input type="text" data-fill-blanks-target="input" data-correct-answer="3"
                   class="w-10 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
            <span>+</span>
            <input type="text" data-fill-blanks-target="input" data-correct-answer="1"
                   class="w-8 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
            <span>=</span>
            <input type="text" data-fill-blanks-target="input" data-correct-answer="256"
                   class="w-14 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
          </div>
        </div>
      </div>

    </div>
  </div>

  <!-- Esercizio 4 -->
  <div class="mb-12" data-controller="fill-blanks auto-advance">
    <div class="flex items-start gap-3 mb-6">
      <div class="bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">
        4
      </div>
      <p class="text-gray-700 dark:text-gray-200">
        <strong>Calcola in colonna sul quaderno e verifica i risultati con la prova.</strong>
      </p>
    </div>

    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">

      <!-- Colonna a -->
      <div class="space-y-3">
        <p class="font-bold text-cyan-600">a.</p>
        <div class="flex items-center gap-2">
          <span>846 : 6 =</span>
          <input type="text" data-fill-blanks-target="input" data-correct-answer="141"
                 class="w-14 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
        </div>
        <div class="flex items-center gap-2">
          <span>950 : 5 =</span>
          <input type="text" data-fill-blanks-target="input" data-correct-answer="190"
                 class="w-14 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
        </div>
        <div class="flex items-center gap-2">
          <span>684 : 3 =</span>
          <input type="text" data-fill-blanks-target="input" data-correct-answer="228"
                 class="w-14 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
        </div>
      </div>

      <!-- Colonna b -->
      <div class="space-y-3">
        <p class="font-bold text-cyan-600">b.</p>
        <div class="flex items-center gap-2">
          <span>732 : 5 =</span>
          <input type="text" data-fill-blanks-target="input" data-correct-answer="146"
                 class="w-14 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
          <span>r.</span>
          <input type="text" data-fill-blanks-target="input" data-correct-answer="2"
                 class="w-8 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
        </div>
        <div class="flex items-center gap-2">
          <span>359 : 2 =</span>
          <input type="text" data-fill-blanks-target="input" data-correct-answer="179"
                 class="w-14 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
          <span>r.</span>
          <input type="text" data-fill-blanks-target="input" data-correct-answer="1"
                 class="w-8 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
        </div>
        <div class="flex items-center gap-2">
          <span>452 : 3 =</span>
          <input type="text" data-fill-blanks-target="input" data-correct-answer="150"
                 class="w-14 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
          <span>r.</span>
          <input type="text" data-fill-blanks-target="input" data-correct-answer="2"
                 class="w-8 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
        </div>
      </div>

      <!-- Colonna c -->
      <div class="space-y-3">
        <p class="font-bold text-cyan-600">c.</p>
        <div class="flex items-center gap-2">
          <span>184 : 2 =</span>
          <input type="text" data-fill-blanks-target="input" data-correct-answer="92"
                 class="w-14 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
        </div>
        <div class="flex items-center gap-2">
          <span>260 : 5 =</span>
          <input type="text" data-fill-blanks-target="input" data-correct-answer="52"
                 class="w-14 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
        </div>
        <div class="flex items-center gap-2">
          <span>154 : 7 =</span>
          <input type="text" data-fill-blanks-target="input" data-correct-answer="22"
                 class="w-14 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
        </div>
      </div>

      <!-- Colonna d -->
      <div class="space-y-3">
        <p class="font-bold text-cyan-600">d.</p>
        <div class="flex items-center gap-2">
          <span>393 : 4 =</span>
          <input type="text" data-fill-blanks-target="input" data-correct-answer="98"
                 class="w-14 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
          <span>r.</span>
          <input type="text" data-fill-blanks-target="input" data-correct-answer="1"
                 class="w-8 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
        </div>
        <div class="flex items-center gap-2">
          <span>259 : 3 =</span>
          <input type="text" data-fill-blanks-target="input" data-correct-answer="86"
                 class="w-14 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
          <span>r.</span>
          <input type="text" data-fill-blanks-target="input" data-correct-answer="1"
                 class="w-8 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
        </div>
        <div class="flex items-center gap-2">
          <span>193 : 6 =</span>
          <input type="text" data-fill-blanks-target="input" data-correct-answer="32"
                 class="w-14 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
          <span>r.</span>
          <input type="text" data-fill-blanks-target="input" data-correct-answer="1"
                 class="w-8 px-1 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white" inputmode="numeric">
        </div>
      </div>

    </div>
  </div>

  <!-- Footer con controlli -->
  <%= render 'shared/exercise_controls' %>
</div>
