<div class="max-w-6xl mx-auto bg-white dark:bg-gray-900 p-3 md:p-6 transition-colors duration-300"
     data-controller="exercise-checker text-toggle font-controls word-highlighter"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">

    <!-- Esercizio 1 -->
    <div class="p-5 bg-white dark:bg-gray-800 rounded-2xl border-3 border-yellow-400 dark:border-yellow-500">
      <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
        <%= imparare_tutti_badge(1) %>
        Ogni problema ha due domande nascoste: sottolineale tra quelle proposte.
      </p>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- Problema a -->
        <div class="space-y-3">
          <p class="text-gray-700 dark:text-gray-200">
            <span class="font-bold text-cyan-600 dark:text-cyan-400">a.</span>
            Il proprietario di un calzaturificio spedisce a un negozio 245 pacchi contenenti ciascuno 36 paia di scarpe. Durante il viaggio di trasporto al negozio 120 paia vengono danneggiate e quindi buttate. Il negoziante vende ciascun paio a € 87. Quanto incassa?
          </p>
          <ul class="space-y-2 pl-4">
            <li class="flex items-center gap-2">
              <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 p-2 rounded border border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-200 flex-1">
                <input type="checkbox" class="w-5 h-5" data-correct-answer="false">
                <span>Quanto spende il proprietario del calzaturificio?</span>
              </label>
            </li>
            <li class="flex items-center gap-2">
              <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 p-2 rounded border border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-200 flex-1">
                <input type="checkbox" class="w-5 h-5" data-correct-answer="true">
                <span>Quante paia di scarpe vengono spedite?</span>
              </label>
            </li>
            <li class="flex items-center gap-2">
              <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 p-2 rounded border border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-200 flex-1">
                <input type="checkbox" class="w-5 h-5" data-correct-answer="true">
                <span>Quante paia di scarpe restano da vendere?</span>
              </label>
            </li>
          </ul>
        </div>

        <!-- Problema b -->
        <div class="space-y-3">
          <p class="text-gray-700 dark:text-gray-200">
            <span class="font-bold text-cyan-600 dark:text-cyan-400">b.</span>
            Per addobbare ciascuno dei 5 saloni di una villa occorrono 14 m di tulle. Si vogliono inoltre mettere all'ingresso due fiocchi da 3,5 m totali. Se abbiamo a disposizione un rotolo di tulle da 100 m, quanti metri resteranno?
          </p>
          <ul class="space-y-2 pl-4">
            <li class="flex items-center gap-2">
              <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 p-2 rounded border border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-200 flex-1">
                <input type="checkbox" class="w-5 h-5" data-correct-answer="true">
                <span>Quanti metri di tulle occorrono per i 5 saloni?</span>
              </label>
            </li>
            <li class="flex items-center gap-2">
              <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 p-2 rounded border border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-200 flex-1">
                <input type="checkbox" class="w-5 h-5" data-correct-answer="false">
                <span>Quanti metri di tulle occorrono per i fiocchi?</span>
              </label>
            </li>
            <li class="flex items-center gap-2">
              <label class="flex items-center gap-2 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 p-2 rounded border border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-200 flex-1">
                <input type="checkbox" class="w-5 h-5" data-correct-answer="true">
                <span>Quanti metri di tulle occorrono in tutto?</span>
              </label>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Esercizio 2 -->
    <div>
      <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
        <%= numero_esercizio_badge(2) %>
        Per ciascuno dei problemi copia sul quaderno lo schema qui a fianco e inserisci i dati. Se necessario, scrivi tu i dati mancanti. Poi risolvi.
      </p>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="space-y-6">
          <!-- Problema a -->
          <div class="p-3 bg-cyan-50 dark:bg-cyan-900/30 rounded-lg">
            <p class="text-gray-700 dark:text-gray-200">
              <span class="font-bold text-cyan-600 dark:text-cyan-400">a.</span>
              Sara mette in un salvadanaio € 28, suo fratello Michele ne mette € 13,75 e la cuginetta ne mette la metà di Sara. Quanti euro mette la cuginetta? Decidono di spendere € 32,90 per il regalo alla nonna. Quanti euro rimangono ai tre bambini?
            </p>
          </div>

          <!-- Problema b -->
          <div class="p-3 bg-cyan-50 dark:bg-cyan-900/30 rounded-lg">
            <p class="text-gray-700 dark:text-gray-200">
              <span class="font-bold text-cyan-600 dark:text-cyan-400">b.</span>
              Un fiorista ha 196 rose con cui confeziona dei mazzi che vende a € 17,50 l'uno. Quanti mazzi confeziona? Quanti euro riceve dalla vendita di tutti i mazzi?
            </p>
          </div>

          <!-- Problema c -->
          <div class="p-3 bg-cyan-50 dark:bg-cyan-900/30 rounded-lg">
            <p class="text-gray-700 dark:text-gray-200">
              <span class="font-bold text-cyan-600 dark:text-cyan-400">c.</span>
              Gianluca vuole comprare l'occorrente per gli allenamenti di calcio: una maglia da € 12,98, i pantaloncini che costano il doppio della maglia, i calzettoni da € 5,85 e un paio di scarpette in saldo che prima costavano € 73. Quanto spende?
            </p>
          </div>
        </div>

        <!-- Schema DATI -->
        <div class="flex items-start justify-center">
          <div class="bg-white dark:bg-gray-800 rounded-lg border-2 border-cyan-400 dark:border-cyan-600 overflow-hidden">
            <table class="border-collapse">
              <thead>
                <tr>
                  <th colspan="4" class="p-2 bg-cyan-100 dark:bg-cyan-900 text-center font-bold text-gray-800 dark:text-gray-200 border-b-2 border-cyan-400 dark:border-cyan-600">DATI</th>
                </tr>
                <tr>
                  <th class="p-2 bg-cyan-50 dark:bg-cyan-900/50 text-center font-bold text-gray-700 dark:text-gray-200 border-r border-cyan-400 dark:border-cyan-600">utili</th>
                  <th class="p-2 bg-cyan-50 dark:bg-cyan-900/50 text-center font-bold text-gray-700 dark:text-gray-200 border-r border-cyan-400 dark:border-cyan-600">inutili</th>
                  <th class="p-2 bg-cyan-50 dark:bg-cyan-900/50 text-center font-bold text-gray-700 dark:text-gray-200 border-r border-cyan-400 dark:border-cyan-600">nascosti</th>
                  <th class="p-2 bg-cyan-50 dark:bg-cyan-900/50 text-center font-bold text-gray-700 dark:text-gray-200">mancanti</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="p-4 border-r border-cyan-400 dark:border-cyan-600 min-w-[80px]">&nbsp;</td>
                  <td class="p-4 border-r border-cyan-400 dark:border-cyan-600 min-w-[80px]">&nbsp;</td>
                  <td class="p-4 border-r border-cyan-400 dark:border-cyan-600 min-w-[80px]">&nbsp;</td>
                  <td class="p-4 min-w-[80px]">&nbsp;</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <!-- Esercizio 3 -->
    <div>
      <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
        <%= numero_esercizio_badge(3) %>
        Per ogni gruppo di dati scrivi il testo di un problema sul quaderno, poi risolvilo.
      </p>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- Dati a -->
        <div class="p-4 bg-cyan-50 dark:bg-cyan-900/30 rounded-lg">
          <p class="font-bold text-cyan-600 dark:text-cyan-400 mb-2">a. Dati:</p>
          <ul class="text-gray-700 dark:text-gray-200 space-y-1">
            <li>12 pacchi di biscotti</li>
            <li>6 lattine</li>
            <li>€ 2,45 costo di 1 pacco di biscotti</li>
            <li>€ 0,85 costo di 1 lattina</li>
            <li>1 banconota da € 50</li>
          </ul>
        </div>

        <!-- Dati b -->
        <div class="p-4 bg-cyan-50 dark:bg-cyan-900/30 rounded-lg">
          <p class="font-bold text-cyan-600 dark:text-cyan-400 mb-2">b. Dati:</p>
          <ul class="text-gray-700 dark:text-gray-200 space-y-1">
            <li>18 persone adulte</li>
            <li>11 bambini</li>
            <li>€ 12 costo del biglietto per adulto</li>
            <li>€ 8 costo del biglietto per bambino</li>
          </ul>
        </div>
      </div>
    </div>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
