<div class="max-w-6xl mx-auto bg-white dark:bg-gray-900 p-3 md:p-6 transition-colors duration-300"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">

    <!-- Esercizio 1 IMPARARE TUTTI -->
    <div class="p-5 bg-white dark:bg-gray-800 rounded-2xl border-3 border-yellow-400 dark:border-yellow-500 space-y-4">
      <p class="font-bold text-gray-700 dark:text-gray-200">
        <%= imparare_tutti_badge(1) %>
        Collega ogni disegno alla sua definizione. Segui l'esempio.
      </p>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- Disegni a sinistra -->
        <div class="flex flex-col items-center gap-4">
          <!-- Semiretta -->
          <div class="w-full p-3 border-2 border-cyan-400 dark:border-cyan-600 rounded bg-white dark:bg-gray-700">
            <div class="flex items-center justify-center gap-2">
              <span class="text-gray-500">---</span>
              <span class="font-bold text-gray-700 dark:text-gray-200">O</span>
              <span class="text-gray-500">---------------→</span>
            </div>
            <p class="text-center text-gray-600 dark:text-gray-400 mt-1">semiretta</p>
          </div>

          <!-- Retta -->
          <div class="w-full p-3 border-2 border-cyan-400 dark:border-cyan-600 rounded bg-white dark:bg-gray-700">
            <div class="flex items-center justify-center gap-2">
              <span class="text-gray-500">←---------------</span>
              <span class="font-bold text-gray-700 dark:text-gray-200">r</span>
              <span class="text-gray-500">---------------→</span>
            </div>
            <p class="text-center text-gray-600 dark:text-gray-400 mt-1">retta</p>
          </div>

          <!-- Segmento -->
          <div class="w-full p-3 border-2 border-cyan-400 dark:border-cyan-600 rounded bg-white dark:bg-gray-700">
            <div class="flex items-center justify-center gap-2">
              <span class="font-bold text-gray-700 dark:text-gray-200">A</span>
              <span class="text-gray-700 dark:text-gray-200">●━━━━━━━━━━━━━●</span>
              <span class="font-bold text-gray-700 dark:text-gray-200">B</span>
            </div>
            <p class="text-center text-gray-600 dark:text-gray-400 mt-1">segmento</p>
          </div>
        </div>

        <!-- Definizioni a destra -->
        <div class="flex flex-col gap-4">
          <div class="p-3 border-2 border-cyan-400 dark:border-cyan-600 rounded bg-white dark:bg-gray-700">
            <p class="text-gray-700 dark:text-gray-200">È un tratto di retta compreso tra 2 punti.</p>
            <p class="text-cyan-600 dark:text-cyan-400 mt-1 font-bold">→ segmento</p>
          </div>

          <div class="p-3 border-2 border-cyan-400 dark:border-cyan-600 rounded bg-white dark:bg-gray-700">
            <p class="text-gray-700 dark:text-gray-200">È illimitata, non ha né inizio né fine.</p>
            <p class="text-cyan-600 dark:text-cyan-400 mt-1 font-bold">→ retta</p>
          </div>

          <div class="p-3 border-2 border-cyan-400 dark:border-cyan-600 rounded bg-white dark:bg-gray-700">
            <p class="text-gray-700 dark:text-gray-200">È ciascuna delle due parti in cui la retta è stata divisa da un punto.</p>
            <p class="text-cyan-600 dark:text-cyan-400 mt-1 font-bold">→ semiretta</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Esercizio 2 -->
    <div class="space-y-4">
      <p class="font-bold text-gray-700 dark:text-gray-200">
        <%= numero_esercizio_badge(2) %> Osserva le rette rappresentate. Ripassa di verde le rette parallele, di giallo quelle incidenti e di blu quelle perpendicolari.
      </p>

      <!-- Box definizioni -->
      <div class="p-4 bg-custom-blue dark:bg-cyan-900 rounded-2xl">
        <div class="space-y-1 text-gray-700 dark:text-gray-200">
          <p><span class="font-bold text-green-600 dark:text-green-400">Rette parallele</span>: non si incontrano.</p>
          <p><span class="font-bold text-yellow-600 dark:text-yellow-400">Rette incidenti</span>: si incontrano in un punto.</p>
          <p><span class="font-bold text-blue-600 dark:text-blue-400">Rette perpendicolari</span>: incontrandosi formano 4 angoli uguali (retti).</p>
        </div>
      </div>

      <!-- Immagine rette -->
      <div class="flex justify-center">
        <%= image_tag "nvi4_mat/p235/p235_02.jpg", class: "max-w-full dark:bg-white dark:rounded-lg dark:p-2", alt: "Rette da classificare" %>
      </div>
    </div>

    <!-- Esercizio 3 -->
    <div class="space-y-4">
      <p class="font-bold text-gray-700 dark:text-gray-200">
        <%= numero_esercizio_badge(3) %> Disegna:
      </p>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <!-- Segmento di 5 cm -->
        <div class="p-4 border-2 border-cyan-400 dark:border-cyan-600 rounded bg-white dark:bg-gray-700">
          <p class="text-cyan-500 font-bold mb-2">• un segmento di 5 cm</p>
          <div class="h-24 border border-dashed border-gray-300 dark:border-gray-600 rounded"></div>
        </div>

        <!-- Semiretta -->
        <div class="p-4 border-2 border-cyan-400 dark:border-cyan-600 rounded bg-white dark:bg-gray-700">
          <p class="text-cyan-500 font-bold mb-2">• una semiretta</p>
          <div class="h-24 border border-dashed border-gray-300 dark:border-gray-600 rounded"></div>
        </div>

        <!-- Coppia di rette parallele -->
        <div class="p-4 border-2 border-cyan-400 dark:border-cyan-600 rounded bg-white dark:bg-gray-700">
          <p class="text-cyan-500 font-bold mb-2">• una coppia di rette parallele</p>
          <div class="h-24 border border-dashed border-gray-300 dark:border-gray-600 rounded"></div>
        </div>

        <!-- Coppia di rette incidenti -->
        <div class="p-4 border-2 border-cyan-400 dark:border-cyan-600 rounded bg-white dark:bg-gray-700">
          <p class="text-cyan-500 font-bold mb-2">• una coppia di rette incidenti</p>
          <div class="h-24 border border-dashed border-gray-300 dark:border-gray-600 rounded"></div>
        </div>
      </div>
    </div>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
