<div class="max-w-6xl mx-auto bg-white p-3 md:p-6"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">

    <!-- Introduzione -->
    <div class="text-gray-700">
      <p class="mb-4">
        La moltiplicazione è l'operazione che serve per <span class="font-bold">aggiungere più volte la stessa quantità</span> o per <span class="font-bold">calcolare le combinazioni</span>.
      </p>
    </div>

    <!-- RIPETERE PIÙ VOLTE LA STESSA QUANTITÀ -->
    <div class="mb-6">
      <h2 class="font-bold italic text-<%= @pagina.base_color %>-600 mb-3">RIPETERE PIÙ VOLTE LA STESSA QUANTITÀ</h2>

      <div class="p-4 bg-custom-blue-light w-fit mb-4">
        <p class="text-gray-700">
          Il papà ha comprato 3 sacchetti di cioccolatini da regalare ai suoi figli.<br>
          In ogni sacchetto ci sono 8 cioccolatini.<br>
          Quanti sono i cioccolatini in tutto?
        </p>
      </div>

      <div class="flex items-center gap-2">
        <span class="text-<%= @pagina.base_color %>-500">•</span>
        <span class="font-bold text-gray-700">Scrivi la moltiplicazione e calcola:</span>
        <input type="text" data-correct-answer="8 x 3 = 24" class="flex-1 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
      </div>
    </div>

    <!-- CALCOLARE LE COMBINAZIONI -->
    <div class="mb-6">
      <h2 class="font-bold italic text-<%= @pagina.base_color %>-600 mb-3">CALCOLARE LE COMBINAZIONI</h2>

      <div class="p-4 bg-custom-blue-light w-fit mb-4">
        <p class="text-gray-700">
          Marta vuole acquistare un nuovo astuccio. In cartoleria ci sono 2 tipi di astuccio e per ogni tipo sono disponibili 3 colori: rosa, verde e azzurro.<br>
          Tra quanti astucci può scegliere?
        </p>
      </div>

      <div class="flex items-center gap-2 mb-4">
        <span class="text-<%= @pagina.base_color %>-500">•</span>
        <span class="font-bold text-gray-700">Osserva tutte le combinazioni, poi scrivi la moltiplicazione e calcola:</span>
        <input type="text" data-correct-answer="2 x 3 = 6" class="w-32 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
      </div>

      <!-- Tabella combinazioni -->
      <div class="overflow-x-auto flex justify-center">
        <table class="border-collapse">
          <thead>
            <tr>
              <th class="p-2 bg-white border-2 border-cyan-400 border-t-transparent border-l-transparent"></th>
              <th class="p-2 border-2 border-cyan-400 bg-pink-400 text-center font-bold text-white">COLORE ROSA</th>
              <th class="p-2 border-2 border-cyan-400 bg-green-500 text-center font-bold text-white">COLORE VERDE</th>
              <th class="p-2 border-2 border-cyan-400 bg-cyan-500 text-center font-bold text-white">COLORE AZZURRO</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="p-2 border-2 border-cyan-400 bg-white text-center">
                <%= image_tag "nvi4_mat/p038/output-1705514401038_144_709_168_86.png", class: "mx-auto" %>
              </td>
              <td class="p-2 border-2 border-cyan-400 bg-white text-center">
                <%= image_tag "nvi4_mat/p038/output-1705514401038_360_708_168_87.png", class: "mx-auto" %>
              </td>
              <td class="p-2 border-2 border-cyan-400 bg-white text-center">
                <%= image_tag "nvi4_mat/p038/output-1705514401038_571_708_167_87.png", class: "mx-auto" %>
              </td>
              <td class="p-2 border-2 border-cyan-400 bg-white text-center">
                <%= image_tag "nvi4_mat/p038/output-1705514401038_778_709_174_87.png", class: "mx-auto" %>
              </td>
            </tr>
            <tr>
              <td class="p-2 border-2 border-cyan-400 bg-white text-center">
                <%= image_tag "nvi4_mat/p038/output-1705514401038_142_802_172_87.png", class: "mx-auto" %>
              </td>
              <td class="p-2 border-2 border-cyan-400 bg-white text-center">
                <%= image_tag "nvi4_mat/p038/output-1705514401038_359_804_169_85.png", class: "mx-auto" %>
              </td>
              <td class="p-2 border-2 border-cyan-400 bg-white text-center">
                <%= image_tag "nvi4_mat/p038/output-1705514401038_569_802_169_88.png", class: "mx-auto" %>
              </td>
              <td class="p-2 border-2 border-cyan-400 bg-white text-center">
                <%= image_tag "nvi4_mat/p038/output-1705514401038_777_801_175_89.png", class: "mx-auto" %>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- Box termini e comportamento zero/uno -->
    <div class="p-4 bg-white rounded-3xl border-4 border-blue-800">
      <div class="flex flex-col md:flex-row divide-y-2 md:divide-y-0 md:divide-x-2 divide-blue-800">
        <!-- I termini della moltiplicazione -->
        <div class="pb-4 md:pb-0 md:pr-4 md:w-[400px]">
          <h3 class="font-bold italic text-<%= @pagina.base_color %>-600 mb-3">I termini della moltiplicazione</h3>
          <div class="flex justify-center">
            <%= image_tag "nvi4_mat/p038/p038_01.jpg", alt: "Termini della moltiplicazione", class: "w-96" %>
          </div>
        </div>

        <!-- Il comportamento dello zero e dell'uno -->
        <div class="pt-4 md:pt-0 md:pl-4">
          <h3 class="font-bold italic text-<%= @pagina.base_color %>-600 mb-3">Il comportamento dello zero e dell'uno nella moltiplicazione</h3>
          <div class="grid grid-cols-2 gap-4">
            <!-- Zero -->
            <div>
              <div class="space-y-2 mb-2">
                <p class="text-gray-800 font-bold">32 × <span class="text-<%= @pagina.base_color %>-600">0</span> = <span class="text-<%= @pagina.base_color %>-600">0</span></p>
                <p class="text-gray-800 font-bold"><span class="text-<%= @pagina.base_color %>-600">0</span> × 78 = <span class="text-<%= @pagina.base_color %>-600">0</span></p>
              </div>
              <div class="p-2 bg-pink-light rounded-lg">
                <p class="text-gray-700">Qualsiasi numero moltiplicato per <span class="font-bold">0</span> dà <span class="font-bold">0</span>.</p>
              </div>
            </div>
            <!-- Uno -->
            <div>
              <div class="space-y-2 mb-2">
                <p class="text-gray-800 font-bold">83 × <span class="text-<%= @pagina.base_color %>-600">1</span> = 83</p>
                <p class="text-gray-800 font-bold"><span class="text-<%= @pagina.base_color %>-600">1</span> × 17 = 17</p>
              </div>
              <div class="p-2 bg-pink-light rounded-lg">
                <p class="text-gray-700">L'<span class="font-bold">1</span> è l'<span class="font-bold">elemento neutro</span> della moltiplicazione.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <%= render 'shared/quaderno_link', pagine: [188] %>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
