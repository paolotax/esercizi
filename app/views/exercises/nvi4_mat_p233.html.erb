<div class="max-w-6xl mx-auto bg-white dark:bg-gray-900 p-3 md:p-6 transition-colors duration-300"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">

    <!-- Esercizio 1 IMPARARE TUTTI -->
    <div class="p-5 bg-white dark:bg-gray-800 rounded-2xl border-3 border-yellow-400 dark:border-yellow-500 space-y-4">
      <p class="font-bold text-gray-700 dark:text-gray-200">
        <%= imparare_tutti_badge(1) %>
        Collega con una freccia le parole che indicano le stesse misure di tempo.
      </p>

      <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
        <!-- Riga superiore -->
        <div class="p-3 border-2 border-cyan-400 dark:border-cyan-600 rounded text-center">
          <span class="font-bold text-gray-700 dark:text-gray-200">1 anno</span>
        </div>
        <div class="p-3 border-2 border-cyan-400 dark:border-cyan-600 rounded text-center">
          <span class="text-gray-700 dark:text-gray-200">1 settimana</span>
        </div>
        <div class="p-3 border-2 border-cyan-400 dark:border-cyan-600 rounded text-center">
          <span class="text-gray-700 dark:text-gray-200">1 giorno</span>
        </div>
        <div class="p-3 border-2 border-cyan-400 dark:border-cyan-600 rounded text-center">
          <span class="text-gray-700 dark:text-gray-200">1 ora</span>
        </div>

        <!-- Frecce -->
        <div class="text-center text-cyan-500">↓</div>
        <div class="text-center text-cyan-500"></div>
        <div class="text-center text-cyan-500"></div>
        <div class="text-center text-cyan-500"></div>

        <!-- Riga inferiore -->
        <div class="p-3 border-2 border-cyan-400 dark:border-cyan-600 rounded text-center">
          <span class="font-bold text-cyan-600 dark:text-cyan-400">365 giorni</span>
        </div>
        <div class="p-3 border-2 border-cyan-400 dark:border-cyan-600 rounded text-center">
          <span class="text-gray-700 dark:text-gray-200">7 giorni</span>
        </div>
        <div class="p-3 border-2 border-cyan-400 dark:border-cyan-600 rounded text-center">
          <span class="text-gray-700 dark:text-gray-200">60 minuti</span>
        </div>
        <div class="p-3 border-2 border-cyan-400 dark:border-cyan-600 rounded text-center">
          <span class="text-gray-700 dark:text-gray-200">24 ore</span>
        </div>
      </div>

      <p class="text-gray-600 dark:text-gray-400 italic">
        Collega: 1 anno → 365 giorni, 1 settimana → 7 giorni, 1 giorno → 24 ore, 1 ora → 60 minuti
      </p>
    </div>

    <!-- Esercizio 2 -->
    <div class="space-y-4">
      <p class="font-bold text-gray-700 dark:text-gray-200">
        <%= numero_esercizio_badge(2) %> Completa.
      </p>

      <div class="flex flex-wrap items-center gap-4">
        <div class="flex items-center gap-2">
          <span class="px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 font-bold dark:text-white">1 secondo</span>
          <span class="text-gray-500">× </span>
          <input type="text" data-correct-answer="60" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          <span class="text-cyan-500">→</span>
        </div>
        <div class="flex items-center gap-2">
          <span class="px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 font-bold dark:text-white">1 minuto</span>
          <span class="text-gray-500">× 60</span>
          <span class="text-cyan-500">→</span>
        </div>
        <div class="flex items-center gap-2">
          <span class="text-gray-700 dark:text-gray-200">1</span>
          <input type="text" data-correct-answer="ora" class="w-14 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          <span class="text-gray-500">× 24</span>
          <span class="text-cyan-500">→</span>
        </div>
        <div class="flex items-center gap-2">
          <input type="text" data-correct-answer="1 giorno" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
        </div>
      </div>

      <div class="flex flex-wrap items-center gap-4 ml-0 md:ml-auto">
        <div class="flex items-center gap-2">
          <span class="text-gray-500">× 7 →</span>
          <input type="text" data-correct-answer="1 settimana" class="w-24 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
        </div>
        <div class="flex items-center gap-2">
          <span class="text-gray-500">× 30 →</span>
          <input type="text" data-correct-answer="1 mese" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
        </div>
        <div class="flex items-center gap-2">
          <span class="text-gray-500">× </span>
          <input type="text" data-correct-answer="12" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          <span class="text-gray-500">→</span>
          <span class="px-3 py-2 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 font-bold dark:text-white">1 anno</span>
        </div>
      </div>
    </div>

    <!-- Esercizio 3 -->
    <div class="space-y-4">
      <p class="font-bold text-gray-700 dark:text-gray-200">
        <%= numero_esercizio_badge(3) %> Trasforma le ore in giorni.
      </p>

      <div class="flex flex-wrap items-center gap-4 md:gap-8">
        <div class="flex items-center gap-2">
          <span class="text-gray-700 dark:text-gray-200">24 h =</span>
          <span class="font-bold text-cyan-600 dark:text-cyan-400 underline">1 giorno</span>
        </div>
        <div class="flex items-center gap-2">
          <span class="text-gray-700 dark:text-gray-200">72 h =</span>
          <input type="text" data-correct-answer="3 giorni" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
        </div>
        <div class="flex items-center gap-2">
          <span class="text-gray-700 dark:text-gray-200">120 h =</span>
          <input type="text" data-correct-answer="5 giorni" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
        </div>
        <div class="flex items-center gap-2">
          <span class="text-gray-700 dark:text-gray-200">240 h =</span>
          <input type="text" data-correct-answer="10 giorni" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
        </div>
        <div class="flex items-center gap-2">
          <span class="text-gray-700 dark:text-gray-200">336 h =</span>
          <input type="text" data-correct-answer="14 giorni" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
        </div>
      </div>
    </div>

    <!-- Esercizio 4 -->
    <div class="space-y-4">
      <p class="font-bold text-gray-700 dark:text-gray-200">
        <%= numero_esercizio_badge(4) %> Completa le equivalenze.
      </p>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
        <!-- Colonna 1 -->
        <div class="space-y-2">
          <div class="flex items-center gap-2">
            <span class="text-gray-700 dark:text-gray-200">10 min =</span>
            <input type="text" data-correct-answer="600" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            <span class="text-gray-700 dark:text-gray-200">s</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-gray-700 dark:text-gray-200">3 h =</span>
            <input type="text" data-correct-answer="180" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            <span class="text-gray-700 dark:text-gray-200">min</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-gray-700 dark:text-gray-200">21 giorni =</span>
            <input type="text" data-correct-answer="3" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            <span class="text-gray-700 dark:text-gray-200">settimane</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-gray-700 dark:text-gray-200">30 min =</span>
            <input type="text" data-correct-answer="1800" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            <span class="text-gray-700 dark:text-gray-200">s</span>
          </div>
        </div>

        <!-- Colonna 2 -->
        <div class="space-y-2">
          <div class="flex items-center gap-2">
            <span class="text-gray-700 dark:text-gray-200">3 d =</span>
            <input type="text" data-correct-answer="72" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            <span class="text-gray-700 dark:text-gray-200">h</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-gray-700 dark:text-gray-200">2 settimane =</span>
            <input type="text" data-correct-answer="14" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            <span class="text-gray-700 dark:text-gray-200">d</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-gray-700 dark:text-gray-200">9 mesi =</span>
            <input type="text" data-correct-answer="270" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            <span class="text-gray-700 dark:text-gray-200">d</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-gray-700 dark:text-gray-200">60 s =</span>
            <input type="text" data-correct-answer="1" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            <span class="text-gray-700 dark:text-gray-200">min</span>
          </div>
        </div>

        <!-- Colonna 3 -->
        <div class="space-y-2">
          <div class="flex items-center gap-2">
            <span class="text-gray-700 dark:text-gray-200">mezz'ora =</span>
            <input type="text" data-correct-answer="30" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            <span class="text-gray-700 dark:text-gray-200">min</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-gray-700 dark:text-gray-200">360 min =</span>
            <input type="text" data-correct-answer="6" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            <span class="text-gray-700 dark:text-gray-200">h</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-gray-700 dark:text-gray-200">2 d e 4 h =</span>
            <input type="text" data-correct-answer="52" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            <span class="text-gray-700 dark:text-gray-200">h</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-gray-700 dark:text-gray-200">7 h e 45 min =</span>
            <input type="text" data-correct-answer="465" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            <span class="text-gray-700 dark:text-gray-200">min</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Esercizio 5 e 6 affiancati -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <!-- Esercizio 5 -->
      <div class="space-y-4">
        <p class="font-bold text-gray-700 dark:text-gray-200">
          <%= numero_esercizio_badge(5) %> Trasforma in ore intere e minuti.
        </p>

        <div class="space-y-2">
          <div class="flex items-center gap-2">
            <span class="text-gray-700 dark:text-gray-200">73 minuti =</span>
            <input type="text" data-correct-answer="1 h e 13 min" class="w-32 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          </div>
          <div class="flex items-center gap-2">
            <span class="text-gray-700 dark:text-gray-200">150 minuti =</span>
            <input type="text" data-correct-answer="2 h e 30 min" class="w-32 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          </div>
          <div class="flex items-center gap-2">
            <span class="text-gray-700 dark:text-gray-200">200 minuti =</span>
            <input type="text" data-correct-answer="3 h e 20 min" class="w-32 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          </div>
        </div>
      </div>

      <!-- Esercizio 6 -->
      <div class="space-y-4">
        <p class="font-bold text-gray-700 dark:text-gray-200">
          <%= numero_esercizio_badge(6) %> Trasforma le frazioni di ore in minuti.
        </p>

        <div class="space-y-2">
          <div class="flex items-center gap-2">
            <span class="text-gray-700 dark:text-gray-200">Un quarto d'ora =</span>
            <input type="text" data-correct-answer="15 min" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          </div>
          <div class="flex items-center gap-2">
            <span class="text-gray-700 dark:text-gray-200">1 ora e mezzo =</span>
            <input type="text" data-correct-answer="90 min" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          </div>
          <div class="flex items-center gap-2">
            <span class="text-gray-700 dark:text-gray-200">2 ore e un quarto =</span>
            <input type="text" data-correct-answer="135 min" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          </div>
        </div>
      </div>
    </div>

    <!-- Esercizio 7 -->
    <div class="space-y-4">
      <p class="font-bold text-gray-700 dark:text-gray-200">
        <%= numero_esercizio_badge(7) %> Risolvi sul quaderno.
      </p>

      <div class="space-y-4">
        <div class="space-y-2">
          <p class="text-gray-700 dark:text-gray-200">
            <span class="font-bold text-cyan-500">a.</span> Sofia e la sua mamma prendono un treno da Torino alle 16:05 e arrivano a Milano alle 17:45. Quanti minuti dura il viaggio?
          </p>
          <div class="flex items-center gap-2">
            <span class="text-gray-700 dark:text-gray-200">Durata:</span>
            <input type="text" data-correct-answer="100" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            <span class="text-gray-700 dark:text-gray-200">min</span>
          </div>
        </div>

        <div class="space-y-2">
          <p class="text-gray-700 dark:text-gray-200">
            <span class="font-bold text-cyan-500">b.</span> Un aereo decolla da Napoli alle 14:20 e arriva a Milano dopo 1 ora e 15 minuti di volo. A che ora atterra?
          </p>
          <div class="flex items-center gap-2">
            <span class="text-gray-700 dark:text-gray-200">Ora arrivo:</span>
            <input type="text" data-correct-answer="15:35" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          </div>
        </div>

        <div class="space-y-2">
          <p class="text-gray-700 dark:text-gray-200">
            <span class="font-bold text-cyan-500">c.</span> Il cartone preferito di Silvia dura 1 ora e 30 minuti. Se inizia a guardarlo alle 17:30, a che ora finisce?
          </p>
          <div class="flex items-center gap-2">
            <span class="text-gray-700 dark:text-gray-200">Ora fine:</span>
            <input type="text" data-correct-answer="19:00" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          </div>
        </div>
      </div>
    </div>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
