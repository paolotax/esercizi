<div class="max-w-6xl mx-auto bg-white dark:bg-gray-900 p-3 md:p-6 transition-colors duration-300"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">

    <!-- Sezione teoria -->
    <div class="p-4 md:p-6">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <div class="md:col-span-2">
          <p class="text-gray-700 dark:text-gray-200 mb-4">
            Le misure di lunghezza si usano per misurare molte cose: per esempio, le distanze tra i luoghi, l'altezza di cose e persone, la lunghezza degli oggetti...
          </p>

          <div class="p-3 bg-pink-light dark:bg-pink-900/40 rounded-xl w-fit mb-4">
            <p class="text-gray-700 dark:text-gray-200">
              L'unità di misura fondamentale della <strong>lunghezza</strong> è il <strong>metro</strong> (<strong class="text-<%= @pagina.base_color %>-600 dark:text-<%= @pagina.base_color %>-400 border-b-2 border-<%= @pagina.base_color %>-500">m</strong>).
            </p>
          </div>
        </div>
        <div class="flex justify-center">
          <%= image_tag "nvi4_mat/p095/p095_01.jpg", class: "max-w-full h-auto dark:bg-white dark:rounded-lg dark:p-1", alt: "Metro scala x10" %>
        </div>
      </div>

      <!-- Tabella MULTIPLI - UNITÀ - SOTTOMULTIPLI -->
      <div class="overflow-x-auto mb-6">
        <table class="w-full border-collapse border-2 border-cyan-400 dark:border-cyan-600">
          <thead>
            <tr>
              <th colspan="3" class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-<%= @pagina.base_color %>-500 text-white font-bold">MULTIPLI</th>
              <th class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-cyan-500 text-white font-bold">UNITÀ FONDAMENTALE</th>
              <th colspan="3" class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-<%= @pagina.base_color %>-400 text-white font-bold">SOTTOMULTIPLI</th>
            </tr>
            <tr>
              <th class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-cyan-50 dark:bg-cyan-900/50 text-center font-bold text-<%= @pagina.base_color %>-600 dark:text-<%= @pagina.base_color %>-400">km</th>
              <th class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-cyan-50 dark:bg-cyan-900/50 text-center font-bold text-<%= @pagina.base_color %>-600 dark:text-<%= @pagina.base_color %>-400">hm</th>
              <th class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-cyan-50 dark:bg-cyan-900/50 text-center font-bold text-<%= @pagina.base_color %>-600 dark:text-<%= @pagina.base_color %>-400">dam</th>
              <th class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-cyan-100 dark:bg-cyan-900 text-center font-bold text-<%= @pagina.base_color %>-600 dark:text-<%= @pagina.base_color %>-400 border-b-2 border-<%= @pagina.base_color %>-500">m</th>
              <th class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-cyan-50 dark:bg-cyan-900/50 text-center font-bold text-<%= @pagina.base_color %>-600 dark:text-<%= @pagina.base_color %>-400">dm</th>
              <th class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-cyan-50 dark:bg-cyan-900/50 text-center font-bold text-<%= @pagina.base_color %>-600 dark:text-<%= @pagina.base_color %>-400">cm</th>
              <th class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-cyan-50 dark:bg-cyan-900/50 text-center font-bold text-<%= @pagina.base_color %>-600 dark:text-<%= @pagina.base_color %>-400">mm</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center text-gray-700 dark:text-gray-200">chilometro</td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center text-gray-700 dark:text-gray-200">ettometro</td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center text-gray-700 dark:text-gray-200">decametro</td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center text-gray-700 dark:text-gray-200">metro</td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center text-gray-700 dark:text-gray-200">decimetro</td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center text-gray-700 dark:text-gray-200">centimetro</td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center text-gray-700 dark:text-gray-200">millimetro</td>
            </tr>
            <tr>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center text-gray-700 dark:text-gray-200"><span class="whitespace-nowrap">1 000</span> m</td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center text-gray-700 dark:text-gray-200">100 m</td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center text-gray-700 dark:text-gray-200">10 m</td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center text-gray-700 dark:text-gray-200">1 m</td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center text-gray-700 dark:text-gray-200">0,1 m</td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center text-gray-700 dark:text-gray-200">0,01 m</td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center text-gray-700 dark:text-gray-200">0,001 m</td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Si usano per misurare -->
      <p class="text-gray-700 dark:text-gray-200 mb-4">Si usano per misurare:</p>

      <div class="overflow-x-auto mb-6">
        <table class="w-full border-collapse border-2 border-cyan-400 dark:border-cyan-600">
          <tbody>
            <tr>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700">
                <%= image_tag "nvi4_mat/p095/p095_01.jpg", class: "w-20 h-auto mx-auto dark:bg-white dark:rounded dark:p-1", alt: "km" %>
              </td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700">
                <%= image_tag "nvi4_mat/p095/p095_02.jpg", class: "w-20 h-auto mx-auto dark:bg-white dark:rounded dark:p-1", alt: "hm" %>
              </td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700">
                <%= image_tag "nvi4_mat/p095/p095_03.jpg", class: "w-20 h-auto mx-auto dark:bg-white dark:rounded dark:p-1", alt: "dam" %>
              </td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700">
                <%= image_tag "nvi4_mat/p095/p095_04.jpg", class: "w-20 h-auto mx-auto dark:bg-white dark:rounded dark:p-1", alt: "m" %>
              </td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center text-gray-400 dark:text-gray-500">dm</td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center text-gray-400 dark:text-gray-500">cm</td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-white dark:bg-gray-700 text-center text-gray-400 dark:text-gray-500">mm</td>
            </tr>
            <tr>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-cyan-50 dark:bg-cyan-900/50 text-center font-bold text-<%= @pagina.base_color %>-600 dark:text-<%= @pagina.base_color %>-400">km</td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-cyan-50 dark:bg-cyan-900/50 text-center font-bold text-<%= @pagina.base_color %>-600 dark:text-<%= @pagina.base_color %>-400">hm</td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-cyan-50 dark:bg-cyan-900/50 text-center font-bold text-<%= @pagina.base_color %>-600 dark:text-<%= @pagina.base_color %>-400">dam</td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-cyan-100 dark:bg-cyan-900 text-center font-bold text-<%= @pagina.base_color %>-600 dark:text-<%= @pagina.base_color %>-400 border-b-2 border-<%= @pagina.base_color %>-500">m</td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-cyan-50 dark:bg-cyan-900/50 text-center font-bold text-<%= @pagina.base_color %>-600 dark:text-<%= @pagina.base_color %>-400">dm</td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-cyan-50 dark:bg-cyan-900/50 text-center font-bold text-<%= @pagina.base_color %>-600 dark:text-<%= @pagina.base_color %>-400">cm</td>
              <td class="p-2 border-2 border-cyan-400 dark:border-cyan-600 bg-cyan-50 dark:bg-cyan-900/50 text-center font-bold text-<%= @pagina.base_color %>-600 dark:text-<%= @pagina.base_color %>-400">mm</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- Sezione Le equivalenze -->
    <div class="p-4 md:p-6">
      <h2 class="font-bold italic text-<%= @pagina.base_color %>-600 dark:text-<%= @pagina.base_color %>-400 mb-4">Le equivalenze</h2>

      <p class="text-gray-700 dark:text-gray-200 mb-4">
        Una stessa misura può essere espressa usando marche diverse.
      </p>

      <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
        <span class="text-<%= @pagina.base_color %>-500">•</span>
        Leggi, osserva gli schemi e completa.
      </p>

      <div class="p-3 bg-custom-blue dark:bg-cyan-900/30 mb-4">
        <p class="text-gray-700 dark:text-gray-200">
          Pietro e Carol si allenano per una gara di corsa della scuola. Pietro corre per 7,95 hm, mentre Carol corre per 795 m. Chi corre per un percorso più lungo?
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-4">
        <!-- Pietro -->
        <div>
          <p class="text-gray-700 dark:text-gray-200 mb-2">
            Pietro usa come unità di misura l'ettometro (<strong class="text-<%= @pagina.base_color %>-600 dark:text-<%= @pagina.base_color %>-400 border-b-2 border-<%= @pagina.base_color %>-500">hm</strong>).
          </p>
          <div class="flex justify-center">
            <%= image_tag "nvi4_mat/p095/p095_03.jpg", class: "max-w-full h-auto dark:bg-white dark:rounded-lg dark:p-1", alt: "Schema Pietro 7,95 hm" %>
          </div>
        </div>

        <!-- Carol -->
        <div>
          <p class="text-gray-700 dark:text-gray-200 mb-2">
            Carol usa come unità di misura il metro (<strong class="text-<%= @pagina.base_color %>-600 dark:text-<%= @pagina.base_color %>-400 border-b-2 border-<%= @pagina.base_color %>-500">m</strong>).
          </p>
          <div class="flex justify-center">
            <%= image_tag "nvi4_mat/p095/p095_04.jpg", class: "max-w-full h-auto dark:bg-white dark:rounded-lg dark:p-1", alt: "Schema Carol 795 m" %>
          </div>
        </div>
      </div>

      <div class="flex items-center gap-2 flex-wrap text-gray-700 dark:text-gray-200 mb-6">
        <span>Le due scritture indicano la stessa</span>
        <input type="text" data-correct-answer="lunghezza" class="w-24 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">,
        <span>quindi i due percorsi sono</span>
        <input type="text" data-correct-answer="uguali" class="w-24 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">.
      </div>

      <!-- Regole equivalenze -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="p-4 bg-white dark:bg-gray-800 rounded-2xl border-3 border-blue-800 dark:border-blue-600">
          <p class="text-gray-700 dark:text-gray-200 mb-2">
            <span class="text-<%= @pagina.base_color %>-500">▶</span>
            Quando esegui un'equivalenza, per passare da un'<strong>unità di misura maggiore a una minore devi moltiplicare per 10, 100, <span class="whitespace-nowrap">1 000</span></strong>.
          </p>
          <div class="flex justify-center">
            <%= image_tag "nvi4_mat/p095/p095_01.jpg", class: "max-w-full h-auto dark:bg-white dark:rounded-lg dark:p-1", alt: "Schema x10" %>
          </div>
        </div>

        <div class="p-4 bg-white dark:bg-gray-800 rounded-2xl border-3 border-blue-800 dark:border-blue-600">
          <p class="text-gray-700 dark:text-gray-200 mb-2">
            <span class="text-<%= @pagina.base_color %>-500">▶</span>
            Quando esegui un'equivalenza, per passare da un'<strong>unità di misura minore a una maggiore devi dividere per 10, 100, <span class="whitespace-nowrap">1 000</span></strong>.
          </p>
          <div class="flex justify-center">
            <%= image_tag "nvi4_mat/p095/p095_02.jpg", class: "max-w-full h-auto dark:bg-white dark:rounded-lg dark:p-1", alt: "Schema :10" %>
          </div>
        </div>
      </div>
    </div>

    <%= render 'shared/quaderno_link', pagine: [222, 225, 227, 234] %>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
