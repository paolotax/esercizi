<div class="max-w-6xl mx-auto bg-white p-3 md:p-6"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">
    <!-- Grande box bianco con bordo blu -->
    <div class="p-4 md:p-6 bg-white rounded-lg border-2 border-blue-400 space-y-6">
      <!-- Introduzione -->
      <p class="text-gray-700">
        Nella vita di ogni giorno ci troviamo continuamente a fare calcoli con il tempo: quando dobbiamo partire, se abbiamo un appuntamento, quando guardiamo un film...<br>
        Ecco due esempi per capire come si procede per calcolare il tempo.
      </p>

      <!-- ADDIZIONE -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 items-center">
        <div>
          <h3 class="font-bold text-<%= @pagina.base_color %>-700 mb-1 text-center">ADDIZIONE</h3>
          <div class="p-3 bg-custom-blue rounded-lg">
            <p class="text-gray-700">
              Un cuoco inizia a cuocere un arrosto alle 17:30.<br>
              Se la cottura dura 2 h e 50 min, a che ora sarà pronto l'arrosto?
            </p>
          </div>
        </div>
        <div>
          <%= image_tag "nvi5_mat/p087/p087_01.jpg", class: "max-w-full" %>
        </div>
      </div>

      <!-- SOTTRAZIONE -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 items-center">
        <div>
          <h3 class="font-bold text-<%= @pagina.base_color %>-700 mb-1 text-center">SOTTRAZIONE</h3>
          <div class="p-3 bg-custom-blue rounded-lg">
            <p class="text-gray-700">
              Domenico deve recarsi a Roma. Prenderà l'aereo da Bari alle 17:53. Se l'arrivo è previsto alle 19:15, quanto durerà il viaggio?
            </p>
          </div>
        </div>
        <div>
          <%= image_tag "nvi5_mat/p087/p087_02.jpg", class: "max-w-full" %>
        </div>
      </div>

      <!-- Schema conversioni -->
      <div>
        <p class="font-bold text-gray-700 mb-4">
          • Questo schema può esserti utile per ricordare i cambi da un'unità di misura all'altra. Completalo.
        </p>

        <div class="overflow-x-auto">
          <div class="flex items-center justify-center gap-1 md:gap-2 flex-wrap">
            <!-- 1 secondo -->
            <div class="px-3 py-2 bg-white rounded-lg border-2 border-cyan-500 font-bold whitespace-nowrap">1 secondo</div>

            <div class="flex flex-col items-center">
              <div class="px-2 py-1 bg-cyan-200 rounded font-bold">× 60</div>
              <div class="text-gray-500">→</div>
              <div class="text-gray-500">←</div>
              <div class="flex items-center gap-1">
                <span>:</span>
                <input type="text" data-correct-answer="60" class="w-10 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
              </div>
            </div>

            <!-- 1 minuto -->
            <div class="px-3 py-2 bg-white rounded-lg border-2 border-cyan-500 font-bold whitespace-nowrap">1 minuto</div>

            <div class="flex flex-col items-center">
              <div class="px-2 py-1 bg-cyan-200 rounded font-bold">× 60</div>
              <div class="text-gray-500">→</div>
              <div class="text-gray-500">←</div>
              <div class="flex items-center gap-1">
                <span>:</span>
                <input type="text" data-correct-answer="60" class="w-10 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
              </div>
            </div>

            <!-- 1 ora -->
            <div class="px-3 py-2 bg-white rounded-lg border-2 border-cyan-500 font-bold whitespace-nowrap">1 ora</div>

            <div class="flex flex-col items-center">
              <div class="px-2 py-1 bg-cyan-200 rounded font-bold">× 24</div>
              <div class="text-gray-500">→</div>
              <div class="text-gray-500">←</div>
              <div class="flex items-center gap-1">
                <span>:</span>
                <input type="text" data-correct-answer="24" class="w-10 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
              </div>
            </div>

            <!-- 1 giorno -->
            <div class="px-3 py-2 bg-white rounded-lg border-2 border-cyan-500 font-bold whitespace-nowrap">1 giorno</div>

            <div class="flex flex-col items-center">
              <div class="px-2 py-1 bg-cyan-200 rounded font-bold">× 30</div>
              <div class="text-gray-500">→</div>
              <div class="text-gray-500">←</div>
              <div class="flex items-center gap-1">
                <span>:</span>
                <input type="text" data-correct-answer="30" class="w-10 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
              </div>
            </div>

            <!-- 1 mese -->
            <div class="px-3 py-2 bg-white rounded-lg border-2 border-cyan-500 font-bold whitespace-nowrap">1 mese</div>

            <div class="flex flex-col items-center">
              <div class="px-2 py-1 bg-cyan-200 rounded font-bold">× 12</div>
              <div class="text-gray-500">→</div>
              <div class="text-gray-500">←</div>
              <div class="px-2 py-1 bg-cyan-200 rounded font-bold">: 12</div>
            </div>

            <!-- 1 anno -->
            <div class="px-3 py-2 bg-white rounded-lg border-2 border-cyan-500 font-bold whitespace-nowrap">1 anno</div>
          </div>
        </div>
      </div>
    </div>

    <!-- ESERCIZI -->
    <div class="p-4 md:p-6 bg-orange-100 rounded-lg">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 md:divide-x-2 md:divide-orange-300">
        <!-- Colonna sinistra: Esercizio 1 -->
        <div class="md:pr-4">
          <div class="mb-4">
            <p class="font-bold text-gray-700 mb-4">
              <%= numero_esercizio_badge(1) %>
              Esegui le operazioni sul quaderno.
            </p>

            <div class="space-y-3">
              <div class="flex items-center gap-2 flex-wrap">
                <span class="shrink-0">2 h 45 min + 2 h 12 min =</span>
                <input type="text" data-correct-answer="4 h 57 min" class="min-w-0 flex-1 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
              </div>
              <div class="flex items-center gap-2 flex-wrap">
                <span class="shrink-0">5 h 17 min 25 s + 25 min 34 s =</span>
                <input type="text" data-correct-answer="5 h 42 min 59 s" class="min-w-0 flex-1 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
              </div>
              <div class="flex items-center gap-2 flex-wrap">
                <span class="shrink-0">9 h 4 min − 2 h 18 min =</span>
                <input type="text" data-correct-answer="6 h 46 min" class="min-w-0 flex-1 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
              </div>
              <div class="flex items-center gap-2 flex-wrap">
                <span class="shrink-0">6 h 19 min 15 s − 3 h 26 min 9 s =</span>
                <input type="text" data-correct-answer="2 h 53 min 6 s" class="min-w-0 flex-1 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
              </div>
            </div>
          </div>
        </div>

        <!-- Colonna destra: Esercizi 2 e 3 -->
        <div class="md:pl-4 space-y-6">
          <!-- Esercizio 2 -->
          <div>
            <p class="text-gray-700 mb-3">
              <%= numero_esercizio_badge(2) %>
              Il papà di Serena esce di casa ogni mattina alle 7:00 per raggiungere l'ufficio. Prima di entrare in ufficio si ferma un quarto d'ora per fare colazione al bar. Se il tragitto in macchina dura 40 minuti, a che ora arriva in ufficio?
            </p>
            <div class="flex items-center gap-2">
              <input type="text" data-correct-answer="7:55" class="min-w-0 flex-1 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            </div>
          </div>

          <!-- Esercizio 3 -->
          <div>
            <p class="font-bold text-gray-700 mb-3">
              <%= numero_esercizio_badge(3) %>
              Quanti anni, mesi e giorni hai vissuto fino a oggi?
            </p>
            <div class="grid grid-cols-3 gap-2">
              <div class="flex items-center gap-1">
                <input type="text" class="min-w-0 flex-1 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                <span class="shrink-0">anni</span>
              </div>
              <div class="flex items-center gap-1">
                <input type="text" class="min-w-0 flex-1 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                <span class="shrink-0">mesi</span>
              </div>
              <div class="flex items-center gap-1">
                <input type="text" class="min-w-0 flex-1 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                <span class="shrink-0">giorni</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <%= render 'shared/quaderno_link', pagine: [225, 226, 227] %>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
