<div class="max-w-6xl mx-auto bg-white p-3 md:p-6"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">
    <!-- Esercizio 1: IMPARARE TUTTI -->
    <div class="p-4 bg-white rounded-2xl border-3 border-yellow-400">
        <p class="font-bold text-gray-700 mb-4">
          <%= imparare_tutti_badge(1) %>
          Scrivi i seguenti numeri senza gli zeri inutili. Segui l'esempio.
        </p>

        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
          <div class="flex items-center gap-2">
            <span class="text-gray-700">70,40</span>
            <span class="text-cyan-500">→</span>
            <span class="font-bold text-cyan-600">70,4</span>
          </div>
          <% [
            ["39,05", "39,05"],
            ["205,60", "205,6"],
            ["0,033", "0,033"],
            ["641,008", "641,008"],
            ["0,84", "0,84"],
            ["110,6", "110,6"],
            ["30,00", "30"],
            ["24,030", "24,03"],
            ["0,020", "0,02"],
            ["006,20", "6,2"],
            ["0,760", "0,76"]
          ].each do |num, answer| %>
            <div class="flex items-center gap-2">
              <span class="text-gray-700"><%= num %></span>
              <span class="text-cyan-500">→</span>
              <input type="text" data-correct-answer="<%= answer %>" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            </div>
          <% end %>
        </div>
    </div>

    <!-- Box regola -->
    <div class="p-4 bg-pink-light rounded-3xl">
      <p class="font-bold text-cyan-700 mb-3">Per confrontare due numeri decimali:</p>
      <ul class="list-disc pl-6 space-y-2 text-gray-700 marker:text-cyan-500">
        <li>prima confronta la parte intera; è maggiore il numero con la parte intera maggiore
          <span class="ml-4 font-bold"><span class="text-cyan-600">34</span>,834 > <span class="text-cyan-600">23</span>,712</span>
        </li>
        <li>se la parte intera è uguale, confronta la parte decimale; comincia dai decimi.
          <div class="mt-1 space-y-1 ml-4 font-bold">
            <div>34,<span class="text-cyan-600">8</span>34 > 34,<span class="text-cyan-600">7</span>12</div>
            <div>34,8<span class="text-cyan-600">3</span>4 > 34,8<span class="text-cyan-600">1</span>2</div>
            <div>34,83<span class="text-cyan-600">4</span> > 34,83<span class="text-cyan-600">2</span></div>
          </div>
        </li>
      </ul>
    </div>

    <!-- Esercizio 2 -->
    <div class="mb-6">
      <p class="font-bold text-gray-700 mb-4">
        <%= numero_esercizio_badge(2) %>
        Completa con >, < oppure =.
      </p>

      <p class="text-gray-500 italic mb-4">Pareggia le cifre decimali con gli zeri segnaposto per rendere più semplice il confronto.</p>

      <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
        <% [
          ["0,2", "0,07", ">"],
          ["0,096", "0,8", "<"],
          ["0,05", "0,014", ">"],
          ["4,34", "4,309", ">"],
          ["8,74", "8,782", "<"],
          ["21,6", "2,16", ">"],
          ["12,05", "12,050", "="],
          ["0,324", "0,6", "<"],
          ["1,3", "1,300", "="],
          ["0,5", "0,512", "<"],
          ["6,05", "6,50", "<"],
          ["0,007", "0,08", "<"]
        ].each do |num1, num2, answer| %>
          <div class="flex items-center gap-2 p-2 bg-white rounded-lg">
            <span class="text-gray-700"><%= num1 %></span>
            <input type="text" data-correct-answer="<%= answer %>" class="w-8 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <span class="text-gray-700"><%= num2 %></span>
          </div>
        <% end %>
      </div>
    </div>

    <!-- Esercizio 3 -->
    <div class="mb-6">
      <p class="font-bold text-gray-700 mb-4">
        <%= numero_esercizio_badge(3) %>
        Scrivi i numeri decimali come richiesto.
      </p>

      <div class="space-y-4">
        <div class="p-3 bg-white rounded-lg border border-gray-200">
          <p class="text-gray-700 mb-2">
            <span class="font-bold">in ordine crescente</span>
            2,406 <span class="text-cyan-500 mx-1">•</span>
            5,18 <span class="text-cyan-500 mx-1">•</span>
            0,3 <span class="text-cyan-500 mx-1">•</span>
            8,41 <span class="text-cyan-500 mx-1">•</span>
            10,03 <span class="text-cyan-500 mx-1">•</span>
            5,018 <span class="text-cyan-500 mx-1">•</span>
            8,4 <span class="text-cyan-500 mx-1">•</span>
            2,08
          </p>
          <input type="text" class="w-full border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
        </div>

        <div class="p-3 bg-white rounded-lg border border-gray-200">
          <p class="text-gray-700 mb-2">
            <span class="font-bold">in ordine decrescente</span>
            14,325 <span class="text-cyan-500 mx-1">•</span>
            11,8 <span class="text-cyan-500 mx-1">•</span>
            14,06 <span class="text-cyan-500 mx-1">•</span>
            12,5 <span class="text-cyan-500 mx-1">•</span>
            14,1 <span class="text-cyan-500 mx-1">•</span>
            12,12 <span class="text-cyan-500 mx-1">•</span>
            15,8 <span class="text-cyan-500 mx-1">•</span>
            11,023
          </p>
          <input type="text" class="w-full border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
        </div>
      </div>
    </div>

    <!-- Esercizio 4 -->
    <div>
      <p class="font-bold text-gray-700 mb-4">
        <%= numero_esercizio_badge(4) %>
        Scrivi il numero intero precedente e quello successivo al numero dato. Segui l'esempio.
      </p>

      <div class="space-y-3">
        <!-- Esempio -->
        <div class="flex items-center justify-center gap-4 p-2 bg-custom-blue-light-light rounded-2xl">
          <span class="font-bold text-cyan-700">5</span>
          <span><</span>
          <span class="font-bold text-cyan-700">5,7</span>
          <span><</span>
          <span class="font-bold text-cyan-700">6</span>
        </div>

        <% [
          ["6,89", "6", "7"],
          ["12,245", "12", "13"],
          ["22,86", "22", "23"],
          ["45,013", "45", "46"],
          ["52,87", "52", "53"]
        ].each do |num, prev, succ| %>
          <div class="flex items-center justify-center gap-4 p-2 bg-white rounded-lg">
            <input type="text" data-correct-answer="<%= prev %>" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <span><</span>
            <span class="font-bold text-gray-700"><%= num %></span>
            <span><</span>
            <input type="text" data-correct-answer="<%= succ %>" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          </div>
        <% end %>
      </div>
    </div>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
