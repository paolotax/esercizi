<div class="max-w-6xl mx-auto bg-white dark:bg-gray-900 p-3 md:p-6 transition-colors duration-300"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">

    <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
      Risolvi i seguenti problemi sul quaderno.
    </p>

    <!-- Sezione: Problemi con una domanda e una operazione -->
    <div>
      <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
        <span class="bg-cyan-100 dark:bg-cyan-800 px-2 py-1 rounded">Problemi con una domanda e una operazione</span>
      </p>

      <!-- Problemi IMPARARE TUTTI -->
      <div class="p-5 bg-white dark:bg-gray-800 rounded-2xl border-3 border-yellow-400 dark:border-yellow-500 mb-4 space-y-6">
        <!-- Problema 1 -->
        <div>
          <p class="font-bold text-gray-700 dark:text-gray-200 mb-3">
            <%= imparare_tutti_badge(1) %>
            Filippo e Amir hanno comprato le bibite per la loro festa di compleanno.
            Hanno acquistato 3 confezioni da 6 bottiglie l'una.
            Quante bottiglie hanno acquistato?
          </p>
          <div class="flex items-center gap-2 flex-wrap mt-4">
            <span class="text-gray-700 dark:text-gray-200">Risposta:</span>
            <input type="text" data-correct-answer="18" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
            <span class="text-gray-700 dark:text-gray-200">bottiglie</span>
          </div>
        </div>

        <!-- Problema 2 -->
        <div>
          <p class="font-bold text-gray-700 dark:text-gray-200 mb-3">
            <%= imparare_tutti_badge(2) %>
            Per la gita a Roma i 25 alunni della 4ª B hanno pagato in tutto € 1 875.
            Quanto ha pagato ogni alunno?
          </p>
          <div class="flex items-center gap-2 flex-wrap mt-4">
            <span class="text-gray-700 dark:text-gray-200">Risposta: €</span>
            <input type="text" data-correct-answer="75" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          </div>
        </div>
      </div>
    </div>

    <!-- Sezione: Problemi con due domande e due operazioni -->
    <div>
      <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
        <span class="bg-cyan-100 dark:bg-cyan-800 px-2 py-1 rounded">Problemi con due domande e due operazioni</span>
      </p>

      <!-- Problema 3 -->
      <div class="p-4 bg-gray-50 dark:bg-gray-800 rounded-lg mb-4">
        <p class="text-gray-700 dark:text-gray-200 mb-3">
          <span class="font-bold"><%= numero_esercizio_badge(3) %></span>
          Un'agenzia di viaggi organizza una gita all'acquario di Genova. In tutto partecipano 288 persone e vengono riempiti 6 pullman.
          <br>Quante persone saliranno su ogni pullman?
          <br>Se il biglietto d'ingresso costa € 9, quanto spenderanno in tutto per entrare all'acquario?
        </p>
        <div class="space-y-2">
          <div class="flex items-center gap-2 flex-wrap">
            <span class="text-gray-700 dark:text-gray-200">Persone per pullman:</span>
            <input type="text" data-correct-answer="48" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          </div>
          <div class="flex items-center gap-2 flex-wrap">
            <span class="text-gray-700 dark:text-gray-200">Spesa totale biglietti: €</span>
            <input type="text" data-correct-answer="2592" class="w-24 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          </div>
        </div>
      </div>

      <!-- Problema 4 -->
      <div class="p-4 bg-gray-50 dark:bg-gray-800 rounded-lg mb-4">
        <p class="text-gray-700 dark:text-gray-200 mb-3">
          <span class="font-bold"><%= numero_esercizio_badge(4) %></span>
          Francesco ha acquistato 4 tavoli di legno per il giardino a € 256 l'uno. Quanto ha speso?
          <br>Paga la somma in 8 rate mensili uguali; qual è il costo di ogni rata?
        </p>
        <div class="space-y-2">
          <div class="flex items-center gap-2 flex-wrap">
            <span class="text-gray-700 dark:text-gray-200">Spesa totale: €</span>
            <input type="text" data-correct-answer="1024" class="w-24 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          </div>
          <div class="flex items-center gap-2 flex-wrap">
            <span class="text-gray-700 dark:text-gray-200">Costo di ogni rata: €</span>
            <input type="text" data-correct-answer="128" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          </div>
        </div>
      </div>

      <!-- Problema 5 -->
      <div class="p-4 bg-gray-50 dark:bg-gray-800 rounded-lg mb-4">
        <p class="text-gray-700 dark:text-gray-200 mb-3">
          <span class="font-bold"><%= numero_esercizio_badge(5) %></span>
          Fatima vuole preparare alcune collanine per le sue amiche. Acquista 16 scatole contenenti ciascuna 118 perle colorate. Quante perle ha a disposizione?
          <br>Decide di fare collanine da 80 perle ciascuna: quante collanine può realizzare?
        </p>
        <div class="space-y-2">
          <div class="flex items-center gap-2 flex-wrap">
            <span class="text-gray-700 dark:text-gray-200">Perle totali:</span>
            <input type="text" data-correct-answer="1888" class="w-24 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          </div>
          <div class="flex items-center gap-2 flex-wrap">
            <span class="text-gray-700 dark:text-gray-200">Collanine:</span>
            <input type="text" data-correct-answer="23" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          </div>
        </div>
      </div>

      <!-- Problema 6 -->
      <div class="p-4 bg-gray-50 dark:bg-gray-800 rounded-lg mb-4">
        <p class="text-gray-700 dark:text-gray-200 mb-3">
          <span class="font-bold"><%= numero_esercizio_badge(6) %></span>
          Un industriale spende € 11 880 per acquistare 18 macchinari uguali. Quanto costa ciascun macchinario? Paga la somma totale in 24 rate mensili. A quanto ammonta ciascuna rata?
        </p>
        <div class="space-y-2">
          <div class="flex items-center gap-2 flex-wrap">
            <span class="text-gray-700 dark:text-gray-200">Costo di ogni macchinario: €</span>
            <input type="text" data-correct-answer="660" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          </div>
          <div class="flex items-center gap-2 flex-wrap">
            <span class="text-gray-700 dark:text-gray-200">Importo di ogni rata: €</span>
            <input type="text" data-correct-answer="495" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          </div>
        </div>
      </div>

      <!-- Problema 7 -->
      <div class="p-4 bg-gray-50 dark:bg-gray-800 rounded-lg mb-4">
        <p class="text-gray-700 dark:text-gray-200 mb-3">
          <span class="font-bold"><%= numero_esercizio_badge(7) %></span>
          Fabio ha 180 DVD suddivisi in parti uguali in 15 contenitori.
          <br>Quanti DVD ha messo in ogni contenitore? Ha pagato € 27 ogni contenitore; quanto ha speso in tutto per acquistarli?
        </p>
        <div class="space-y-2">
          <div class="flex items-center gap-2 flex-wrap">
            <span class="text-gray-700 dark:text-gray-200">DVD per contenitore:</span>
            <input type="text" data-correct-answer="12" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          </div>
          <div class="flex items-center gap-2 flex-wrap">
            <span class="text-gray-700 dark:text-gray-200">Spesa totale contenitori: €</span>
            <input type="text" data-correct-answer="405" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          </div>
        </div>
      </div>
    </div>

    <!-- Sezione: Problemi con una domanda e due operazioni -->
    <div>
      <p class="font-bold text-gray-700 dark:text-gray-200 mb-2">
        <span class="bg-cyan-100 dark:bg-cyan-800 px-2 py-1 rounded">Problemi con una domanda e due operazioni</span>
      </p>
      <p class="text-gray-700 dark:text-gray-200 mb-4">
        Per risolvere i seguenti problemi devi scoprire la domanda "nascosta".
      </p>

      <!-- Problema 8 -->
      <div class="p-4 bg-gray-50 dark:bg-gray-800 rounded-lg mb-4">
        <p class="text-gray-700 dark:text-gray-200 mb-3">
          <span class="font-bold"><%= numero_esercizio_badge(8) %></span>
          Il signor Rossi prende lezioni di tennis 3 volte la settimana e paga € 18 a lezione. Quanto spende in un mese? (Considera 4 settimane in un mese).
        </p>
        <div class="flex items-center gap-2 flex-wrap">
          <span class="text-gray-700 dark:text-gray-200">Risposta: €</span>
          <input type="text" data-correct-answer="216" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
        </div>
      </div>

      <!-- Problema 9 -->
      <div class="p-4 bg-gray-50 dark:bg-gray-800 rounded-lg mb-4">
        <p class="text-gray-700 dark:text-gray-200 mb-3">
          <span class="font-bold"><%= numero_esercizio_badge(9) %></span>
          Per trasportare 198 kg di patate un agricoltore utilizza cassette che ne contengono 9 kg l'una. Al mercato vende ogni cassetta a € 10. Quanti euro incassa?
        </p>
        <div class="flex items-center gap-2 flex-wrap">
          <span class="text-gray-700 dark:text-gray-200">Risposta: €</span>
          <input type="text" data-correct-answer="220" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
        </div>
      </div>

      <!-- Problema 10 -->
      <div class="p-4 bg-gray-50 dark:bg-gray-800 rounded-lg mb-4">
        <p class="text-gray-700 dark:text-gray-200 mb-3">
          <span class="font-bold"><%= numero_esercizio_badge(10) %></span>
          Una fioraia compra 84 rose e le confeziona in mazzi da 12 rose ciascuno. Quanto incassa complessivamente se vende ogni mazzo a 18 euro?
        </p>
        <div class="flex items-center gap-2 flex-wrap">
          <span class="text-gray-700 dark:text-gray-200">Risposta: €</span>
          <input type="text" data-correct-answer="126" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
        </div>
      </div>

      <!-- Problema 11 -->
      <div class="p-4 bg-gray-50 dark:bg-gray-800 rounded-lg mb-4">
        <p class="text-gray-700 dark:text-gray-200 mb-3">
          <span class="font-bold"><%= numero_esercizio_badge(11) %></span>
          Un fruttivendolo acquista 43 cassette di pesche: ciascuna contiene 12 kg di frutta.
          <br>Vuole disporre le pesche in cestini da 6 kg ciascuno. Quanti cestini gli occorrono?
        </p>
        <div class="flex items-center gap-2 flex-wrap">
          <span class="text-gray-700 dark:text-gray-200">Risposta:</span>
          <input type="text" data-correct-answer="86" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          <span class="text-gray-700 dark:text-gray-200">cestini</span>
        </div>
      </div>

      <!-- Problema 12 -->
      <div class="p-4 bg-gray-50 dark:bg-gray-800 rounded-lg mb-4">
        <p class="text-gray-700 dark:text-gray-200 mb-3">
          <span class="font-bold"><%= numero_esercizio_badge(12) %></span>
          Durante un viaggio Paolo ha percorso 510 km.
          <br>Se la sua auto percorre 17 km con un litro di benzina e la benzina costa € 2 al litro, quanto ha speso Paolo per il viaggio?
        </p>
        <div class="flex items-center gap-2 flex-wrap">
          <span class="text-gray-700 dark:text-gray-200">Risposta: €</span>
          <input type="text" data-correct-answer="60" class="w-20 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
        </div>
      </div>
    </div>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
