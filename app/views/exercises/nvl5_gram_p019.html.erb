<div class="max-w-6xl mx-auto p-3 md:p-8 bg-gradient-to-br from-pink-50 to-red-50 rounded-lg shadow-lg" data-controller="exercise-checker">

  <%= render 'shared/page_header', pagina: @pagina %>

  <!-- Info Box -->
  <div class="mb-6 md:mb-8 grid grid-cols-1 md:grid-cols-2 gap-6">
    <div class="bg-white border-4 border-blue-200 rounded-lg p-4 md:p-6 text-base md:text-lg leading-relaxed">
      <h2 class="text-pink-600 font-bold text-lg md:text-xl mb-3">Discorso diretto</h2>
      <p class="mb-3">
        Riporta le parole esatte di un dialogo, introdotte dai due punti (<strong>:</strong>) e dalla lineetta (<strong>–</strong>)
        oppure dalle virgolette (“ ”).
      </p>
      <p class="italic text-gray-700">Esempio: La nonna domanda a Miriam: – Vuoi un’altra fetta di torta?</p>
    </div>
    <div class="bg-white border-4 border-amber-200 rounded-lg p-4 md:p-6 text-base md:text-lg leading-relaxed">
      <h2 class="text-pink-600 font-bold text-lg md:text-xl mb-3">Discorso indiretto</h2>
      <p class="mb-3">
        Riferisce il dialogo in terza persona senza riportare le parole precise. Richiede collegamenti come
        <em>se</em>, <em>che</em>, <em>di</em> e una modifica di pronomi, tempi verbali e punteggiatura.
      </p>
      <ul class="list-disc list-inside space-y-1 text-gray-700">
        <li>si elimina la punteggiatura del discorso diretto;</li>
        <li>si adattano i verbi (vuoi → vuole);</li>
        <li>si cambiano pronomi personali e aggettivi.</li>
      </ul>
    </div>
  </div>

  <!-- Exercise 1 -->
  <div class="mb-6 md:mb-8 bg-white rounded-lg p-4 md:p-6 shadow-md">
    <h2 class="text-lg md:text-xl font-bold text-pink-600 mb-4">
      <span class="bg-pink-600 text-white rounded-full w-8 h-8 md:w-10 md:h-10 inline-flex items-center justify-center mr-2">1</span>
      <span class="bg-yellow-400 text-blue-800 px-2 py-1 rounded text-sm md:text-base font-bold">IMPARARE TUTTI</span>
      Trasforma i discorsi diretti in discorsi indiretti.
    </h2>

    <div class="space-y-4 text-base md:text-lg">
      <% exercise_1_phrases = [
        {
          direct: "Il papà disse a Marco: – Stai attento in bicicletta.",
          placeholder: "Esempio: Il papà disse a Marco di stare attento in bicicletta."
        },
        {
          direct: "La maestra chiese a Cecilia: – Hai letto il libro di Pinocchio? Ti è piaciuto?",
          placeholder: "Scrivi qui il discorso indiretto unendo le due domande..."
        },
        {
          direct: "Carlotta urlò felice: – Zia, da quanto non ti vedo! Voglio abbracciarti!",
          placeholder: "Trasforma il discorso diretto in indiretto..."
        }
      ] %>

      <% exercise_1_phrases.each do |phrase| %>
        <div class="bg-pink-50 rounded-lg p-4">
          <p class="text-gray-700 mb-3">• <strong>Discorso diretto:</strong> <%= phrase[:direct] %></p>
          <textarea class="w-full border-2 border-pink-300 rounded-lg p-3 focus:outline-none focus:border-pink-600 text-base md:text-lg"
                    rows="3"
                    placeholder="<%= phrase[:placeholder] %>"></textarea>
        </div>
      <% end %>
    </div>
  </div>

  <!-- Exercise 2 -->
  <div class="mb-6 md:mb-8 bg-white rounded-lg p-4 md:p-6 shadow-md">
    <h2 class="text-lg md:text-xl font-bold text-pink-600 mb-4">
      <span class="bg-pink-600 text-white rounded-full w-8 h-8 md:w-10 md:h-10 inline-flex items-center justify-center mr-2">2</span>
      Osserva il disegno e scrivi il dialogo tra i due bambini nei fumetti.
    </h2>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <textarea class="w-full border-2 border-pink-300 rounded-lg p-3 focus:outline-none focus:border-pink-600 text-base md:text-lg"
                rows="3"
                placeholder="Fumetto del bambino a sinistra..."></textarea>
      <textarea class="w-full border-2 border-pink-300 rounded-lg p-3 focus:outline-none focus:border-pink-600 text-base md:text-lg"
                rows="3"
                placeholder="Risposta del bambino a destra..."></textarea>
    </div>
  </div>

  <!-- Exercise 3 -->
  <div class="mb-6 md:mb-8 bg-white rounded-lg p-4 md:p-6 shadow-md">
    <h2 class="text-lg md:text-xl font-bold text-pink-600 mb-4">
      <span class="bg-pink-600 text-white rounded-full w-8 h-8 md:w-10 md:h-10 inline-flex items-center justify-center mr-2">3</span>
      Riporta il dialogo dell’esercizio 2 con la punteggiatura del discorso diretto e trasformalo in indiretto.
    </h2>

    <div class="space-y-4">
      <div>
        <label class="block text-sm font-semibold text-pink-600 uppercase tracking-wide mb-2">
          Dialogo in discorso diretto
        </label>
        <textarea class="w-full border-2 border-pink-300 rounded-lg p-3 focus:outline-none focus:border-pink-600 text-base md:text-lg"
                  rows="4"
                  placeholder="Usa i due punti, la lineetta e le virgolette per scrivere il dialogo..."></textarea>
      </div>
      <div>
        <label class="block text-sm font-semibold text-pink-600 uppercase tracking-wide mb-2">
          Dialogo trasformato in discorso indiretto
        </label>
        <textarea class="w-full border-2 border-pink-300 rounded-lg p-3 focus:outline-none focus:border-pink-600 text-base md:text-lg"
                  rows="4"
                  placeholder="Riscrivi il dialogo trasformandolo in discorso indiretto..."></textarea>
      </div>
    </div>
  </div>

  <!-- Exercise Controls -->
  <%= render 'shared/exercise_controls', color: 'pink', current_page: 'nvl5_gram_p019' %>
</div>

