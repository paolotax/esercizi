<div class="max-w-6xl mx-auto bg-white dark:bg-gray-900 text-black dark:text-white p-3 md:p-6 transition-colors duration-300"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <!-- Header -->
  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">
    <!-- Sezione ESERCIZI -->
    <div class="p-4 md:p-6 bg-orange-100 dark:bg-orange-900/30 rounded-lg">
      <h2 class="font-bold text-pink-600 dark:text-pink-400 mb-6">ESERCIZI</h2>

      <div class="space-y-6">
        <!-- Exercise 5: Scrivi in lettere decimali -->
        <div>
          <div class="mb-4">
            <p class="font-bold text-gray-700 dark:text-gray-200">
              <%= numero_esercizio_badge(5) %>
              Scrivi in lettere sul quaderno i seguenti numeri decimali.
            </p>
          </div>
          <div>
            <div class="flex flex-wrap gap-3 justify-center">
              <% ["23,04", "5,02", "0,6", "57,8", "62,71", "18,09", "1,65", "0,12", "0,03", "1,05"].each_with_index do |num, i| %>
                <span class="bg-white dark:bg-gray-800 px-3 py-1 font-bold text-cyan-500 dark:text-cyan-400 rounded border-2 border-cyan-300 dark:border-cyan-600"><%= num %></span>
                <% unless i == 9 %><span class="text-pink-600 dark:text-pink-400">&#8226;</span><% end %>
              <% end %>
            </div>
          </div>
        </div>

        <!-- Exercise 6: Confronta numeri -->
        <div>
          <div class="mb-4">
            <p class="font-bold text-gray-700 dark:text-gray-200">
              <%= numero_esercizio_badge(6) %>
              Confronta i numeri decimali e inserisci i segni &lt; oppure &gt;.
            </p>
          </div>
          <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
            <%= render 'shared/fill_list',
                color: "#{ @pagina.base_color }",
                items: [
                  { prefix: "13,4", answer: ">", suffix: "13,14" },
                  { prefix: "0,5", answer: "<", suffix: "0,51" },
                  { prefix: "8,09", answer: "<", suffix: "8,9" },
                  { prefix: "26,2", answer: "<", suffix: "26,7" },
                  { prefix: "34,5", answer: "<", suffix: "34,52" },
                  { prefix: "1,1", answer: ">", suffix: "0,568" },
                  { prefix: "8,88", answer: ">", suffix: "8,8" },
                  { prefix: "3,7", answer: ">", suffix: "3,54" },
                  { prefix: "12,5", answer: ">", suffix: "12,49" },
                  { prefix: "6", answer: "<", suffix: "6,9" },
                  { prefix: "3,02", answer: "<", suffix: "3,2" },
                  { prefix: "8,2", answer: "<", suffix: "8,22" },
                  { prefix: "12,3", answer: "<", suffix: "13,2" },
                  { prefix: "1,2", answer: "<", suffix: "1,32" },
                  { prefix: "6,527", answer: ">", suffix: "6,327" }
                ],
                container_class: "contents" %>
          </div>
        </div>

        <!-- Exercise 7: Ordine decrescente -->
        <div>
          <div class="mb-4">
            <p class="font-bold text-gray-700 dark:text-gray-200">
              <%= numero_esercizio_badge(7) %>
              Trascina i numeri decimali in ordine decrescente.
            </p>
          </div>
          <div data-controller="sortable" data-sortable-mode-value="numeric-desc">
            <div class="flex flex-wrap gap-3 justify-center" data-sortable-target="container">
              <span class="bg-white dark:bg-gray-800 px-4 py-2 font-bold text-cyan-500 dark:text-cyan-400 rounded border-2 border-cyan-300 dark:border-cyan-600 cursor-grab active:cursor-grabbing" data-sortable-target="item" data-sortable-value="0.14">0,14</span>
              <span class="bg-white dark:bg-gray-800 px-4 py-2 font-bold text-cyan-500 dark:text-cyan-400 rounded border-2 border-cyan-300 dark:border-cyan-600 cursor-grab active:cursor-grabbing" data-sortable-target="item" data-sortable-value="0.04">0,04</span>
              <span class="bg-white dark:bg-gray-800 px-4 py-2 font-bold text-cyan-500 dark:text-cyan-400 rounded border-2 border-cyan-300 dark:border-cyan-600 cursor-grab active:cursor-grabbing" data-sortable-target="item" data-sortable-value="2.1">2,1</span>
              <span class="bg-white dark:bg-gray-800 px-4 py-2 font-bold text-cyan-500 dark:text-cyan-400 rounded border-2 border-cyan-300 dark:border-cyan-600 cursor-grab active:cursor-grabbing" data-sortable-target="item" data-sortable-value="2.15">2,15</span>
              <span class="bg-white dark:bg-gray-800 px-4 py-2 font-bold text-cyan-500 dark:text-cyan-400 rounded border-2 border-cyan-300 dark:border-cyan-600 cursor-grab active:cursor-grabbing" data-sortable-target="item" data-sortable-value="1.04">1,04</span>
              <span class="bg-white dark:bg-gray-800 px-4 py-2 font-bold text-cyan-500 dark:text-cyan-400 rounded border-2 border-cyan-300 dark:border-cyan-600 cursor-grab active:cursor-grabbing" data-sortable-target="item" data-sortable-value="1.14">1,14</span>
            </div>
          </div>
        </div>

        <!-- Exercise 8: Calcola le potenze -->
        <div>
          <div class="mb-4">
            <p class="font-bold text-gray-700 dark:text-gray-200">
              <%= numero_esercizio_badge(8) %>
              Calcola le seguenti potenze come nell'esempio.
            </p>
          </div>
          <!-- Esempio -->
          <div class="p-4 bg-white dark:bg-gray-800 rounded-lg mb-4">
            <p class="font-bold text-gray-800 dark:text-gray-200">
              2<sup>3</sup> = <span class="text-cyan-500 dark:text-cyan-400">2 × 2 × 2 = 8</span>
            </p>
          </div>
          <div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4">
            <%= render 'shared/fill_list',
                color: "#{ @pagina.base_color }",
                equals: true,
                flex: true,
                items: [
                  { segments: [{ html: "5<sup>2</sup>" }, { text: "=" }, { answer: "5 × 5 = 25", flex: true }] },
                  { segments: [{ html: "4<sup>1</sup>" }, { text: "=" }, { answer: "4", flex: true }] },
                  { segments: [{ html: "3<sup>2</sup>" }, { text: "=" }, { answer: "3 × 3 = 9", flex: true }] },
                  { segments: [{ html: "12<sup>1</sup>" }, { text: "=" }, { answer: "12", flex: true }] },
                  { segments: [{ html: "10<sup>0</sup>" }, { text: "=" }, { answer: "1", flex: true }] },
                  { segments: [{ html: "3<sup>0</sup>" }, { text: "=" }, { answer: "1", flex: true }] },
                  { segments: [{ html: "10<sup>6</sup>" }, { text: "=" }, { answer: "10 × 10 × 10 × 10 × 10 × 10 = 1000000", flex: true }] },
                  { segments: [{ html: "6<sup>2</sup>" }, { text: "=" }, { answer: "6 × 6 = 36", flex: true }] },
                  { segments: [{ html: "10<sup>1</sup>" }, { text: "=" }, { answer: "10", flex: true }] },
                  { segments: [{ html: "2<sup>4</sup>" }, { text: "=" }, { answer: "2 × 2 × 2 × 2 = 16", flex: true }] },
                  { segments: [{ html: "3<sup>2</sup>" }, { text: "=" }, { answer: "3 × 3 = 9", flex: true }] },
                  { segments: [{ html: "4<sup>2</sup>" }, { text: "=" }, { answer: "4 × 4 = 16", flex: true }] }
                ],
                container_class: "contents" %>
          </div>
        </div>

        <!-- Exercise 9: Polinomi numerici -->
        <div>
          <div class="mb-4">
            <p class="font-bold text-gray-700 dark:text-gray-200">
              <%= numero_esercizio_badge(9) %>
              Scrivi i seguenti numeri come polinomi numerici. Segui l'esempio ed esegui sul quaderno.
            </p>
          </div>
          <!-- Esempio -->
          <div class="p-4 bg-white dark:bg-gray-800 rounded-lg mb-4">
            <p class="font-bold text-gray-800 dark:text-gray-200">
              <span class="whitespace-nowrap">3 629</span> = <span class="text-cyan-500 dark:text-cyan-400">3 × 10<sup>3</sup> + 6 × 10<sup>2</sup> + 2 × 10<sup>1</sup> + 9 × 10<sup>0</sup></span>
            </p>
          </div>
          <div class="flex flex-wrap gap-3 justify-center">
            <% ["6 781", "12 520", "1 345 354", "4 650 899", "134 641", "56 731", "4 087", "12 967 110", "54 061 287"].each_with_index do |num, i| %>
              <span class="bg-white dark:bg-gray-800 px-3 py-1 font-bold text-cyan-500 dark:text-cyan-400 rounded border-2 border-cyan-300 dark:border-cyan-600 whitespace-nowrap"><%= num %></span>
              <% unless i == 8 %><span class="text-pink-600 dark:text-pink-400">&#8226;</span><% end %>
            <% end %>
          </div>
        </div>

        <!-- Exercise 10: Dal polinomio al numero -->
        <div>
          <div class="mb-4">
            <p class="font-bold text-gray-700 dark:text-gray-200">
              <%= numero_esercizio_badge(10) %>
              Scrivi in cifre il numero che corrisponde al polinomio numerico, poi scrivi il numero in lettere. Segui l'esempio.
            </p>
          </div>
          <!-- Esempio -->
          <div class="p-4 bg-white dark:bg-gray-800 rounded-lg mb-4">
            <p class="font-bold text-gray-800 dark:text-gray-200 mb-2">
              2 × 10<sup>3</sup> + 4 × 10<sup>2</sup> + 7 × 10<sup>1</sup> + 6 × 10<sup>0</sup> <span class="text-pink-600 dark:text-pink-400">→</span> <span class="text-cyan-500 dark:text-cyan-400 whitespace-nowrap font-bold">2 476</span>
            </p>
            <p class="italic text-cyan-500 dark:text-cyan-400 font-bold">duemilaquattrocentosettantasei</p>
          </div>

          <!-- Esercizi -->
          <div class="space-y-4">
            <%= render 'shared/fill_list',
                color: "#{ @pagina.base_color }",
                items: [
                  { segments: [{ html: "4 × 10<sup>5</sup> + 6 × 10<sup>4</sup> + 5 × 10<sup>3</sup> + 2 × 10<sup>2</sup>" }, { html: "<span class='text-pink-600 dark:text-pink-400'>→</span>" }, { answer: "465200" }, { html: "<span class='text-pink-600 dark:text-pink-400'>→</span>" }, { answer: "quattrocentosessantacinquemiladuecento", flex: true }] },
                  { segments: [{ html: "1 × 10<sup>6</sup> + 8 × 10<sup>5</sup> + 3 × 10<sup>4</sup> + 5 × 10<sup>3</sup> + 9 × 10<sup>2</sup> + 3 × 10<sup>1</sup> + 3 × 10<sup>0</sup>" }, { html: "<span class='text-pink-600 dark:text-pink-400'>→</span>" }, { answer: "1835933" }, { html: "<span class='text-pink-600 dark:text-pink-400'>→</span>" }, { answer: "unmilioneottocentotrentacinquemilanovecentotrentatre", flex: true }] },
                  { segments: [{ html: "7 × 10<sup>7</sup> + 3 × 10<sup>6</sup> + 8 × 10<sup>4</sup> + 1 × 10<sup>3</sup> + 9 × 10<sup>2</sup> + 2 × 10<sup>1</sup>" }, { html: "<span class='text-pink-600 dark:text-pink-400'>→</span>" }, { answer: "73081920" }, { html: "<span class='text-pink-600 dark:text-pink-400'>→</span>" }, { answer: "settantatremilioniottantunomilanovecentoventi", flex: true }] },
                  { segments: [{ html: "6 × 10<sup>6</sup> + 8 × 10<sup>5</sup> + 5 × 10<sup>4</sup> + 1 × 10<sup>3</sup> + 3 × 10<sup>2</sup> + 6 × 10<sup>1</sup> + 8 × 10<sup>0</sup>" }, { html: "<span class='text-pink-600 dark:text-pink-400'>→</span>" }, { answer: "6851368" }, { html: "<span class='text-pink-600 dark:text-pink-400'>→</span>" }, { answer: "seimilioniottocencinquantunomilatrecentosessantotto", flex: true }] }
                ],
                container_class: "space-y-4" %>
          </div>
        </div>
      </div>
    </div>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
