<div class="max-w-6xl mx-auto bg-white dark:bg-gray-900 p-3 md:p-6 transition-colors duration-300"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">

    <!-- Sezione Perimetro -->
    <div class="space-y-4">
      <div class="text-gray-700 dark:text-gray-200">
        <p>Osserva. Il contorno del quadrilatero ABCD è formato da 4 lati.</p>
        <p>Per calcolare la lunghezza di tale contorno, riportiamo la lunghezza dei 4 lati sulla stessa retta. La misura del segmento colorato è il <span class="font-bold">perimetro</span> (P) del poligono ABCD.</p>
      </div>

      <div class="flex justify-center">
        <%= image_tag "nvi4_mat/p130/p130_01.jpg", class: "max-w-full h-auto dark:bg-white dark:rounded-lg dark:p-2", alt: "Perimetro del quadrilatero ABCD" %>
      </div>

      <!-- Calcolo perimetro -->
      <div class="space-y-2">
        <p class="text-gray-700 dark:text-gray-200">perimetro (P) = AB + BC + CD + DA</p>
        <p class="text-gray-700 dark:text-gray-200">AB = 1,8 cm &nbsp;&nbsp; BC = 2 cm &nbsp;&nbsp; CD = 3 cm &nbsp;&nbsp; DA = 2 cm</p>
        <div class="flex items-center gap-2 flex-wrap text-gray-700 dark:text-gray-200">
          <span>P = 1,8 +</span>
          <input type="text" data-correct-answer="2" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          <span>+</span>
          <input type="text" data-correct-answer="3" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          <span>+</span>
          <input type="text" data-correct-answer="2" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          <span>=</span>
          <input type="text" data-correct-answer="8,8" class="w-16 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          <span>cm</span>
        </div>
      </div>

      <!-- Box definizione Perimetro -->
      <div class="p-4 bg-pink-light dark:bg-pink-900/40 rounded-2xl w-fit">
        <p class="text-gray-700 dark:text-gray-200">
          Il <span class="font-bold text-<%= @pagina.base_color %>-600 dark:text-<%= @pagina.base_color %>-400">PERIMETRO</span> di un poligono è la <span class="font-bold">misura</span> del suo <span class="font-bold">contorno</span>.<br>
          Per <span class="font-bold">calcolare il perimetro</span> di un poligono basta <span class="font-bold">addizionare</span> le misure della lunghezza dei suoi <span class="font-bold">lati</span>.
        </p>
      </div>
    </div>

    <!-- Sezione Area -->
    <div class="space-y-4">
      <div class="text-gray-700 dark:text-gray-200">
        <p>Osserva. Le figure colorate con lo stesso colore hanno la stessa superficie.</p>
        <p>Le figure A e B hanno la stessa forma e la stessa area (A), le figure C e D non hanno la stessa forma, ma anch'esse hanno la stessa <span class="font-bold">area</span>. Inoltre, l'area delle figure A e B è minore di quella delle figure C e D.</p>
        <p>Puoi verificarlo confrontando le aree delle quattro figure, perché per tutte è stata utilizzata la stessa <span class="font-bold">unità di misura</span>, cioè il quadretto □.</p>
      </div>

      <div class="flex justify-center">
        <%= image_tag "nvi4_mat/p130/p130_02.jpg", class: "max-w-full h-auto dark:bg-white dark:rounded-lg dark:p-2", alt: "Figure per calcolo area" %>
      </div>

      <!-- Calcolo aree -->
      <div class="flex flex-wrap justify-center gap-6 text-gray-700 dark:text-gray-200">
        <div class="flex items-center gap-2">
          <span>A =</span>
          <input type="text" data-correct-answer="30" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          <span>□</span>
        </div>
        <div class="flex items-center gap-2">
          <span>B =</span>
          <input type="text" data-correct-answer="30" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          <span>□</span>
        </div>
        <div class="flex items-center gap-2">
          <span>C =</span>
          <input type="text" data-correct-answer="40" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          <span>□</span>
        </div>
        <div class="flex items-center gap-2">
          <span>D =</span>
          <input type="text" data-correct-answer="40" class="w-12 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          <span>□</span>
        </div>
      </div>

      <!-- Box definizione Area -->
      <div class="p-4 bg-pink-light dark:bg-pink-900/40 rounded-2xl w-fit">
        <p class="text-gray-700 dark:text-gray-200">
          L'<span class="font-bold text-<%= @pagina.base_color %>-600 dark:text-<%= @pagina.base_color %>-400">AREA</span> di un poligono è la <span class="font-bold">misura</span> della sua <span class="font-bold">superficie</span>.<br>
          Per <span class="font-bold">misurare l'area</span> di una figura bisogna scegliere una <span class="font-bold">unità di misura campione</span> e calcolare quante volte l'unità di misura scelta è contenuta nella figura.
        </p>
      </div>
    </div>

    <%= render 'shared/quaderno_link', pagine: [245, 246] %>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
