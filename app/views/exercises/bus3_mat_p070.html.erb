<% content_for :titolo, "#{@pagina.titolo} - #{@pagina.numero}" %>

<div class="max-w-7xl mx-auto p-3 md:p-6 bg-white dark:bg-gray-900 text-black dark:text-white transition-colors duration-300 font-mono"
     data-controller="exercise-checker fill-blanks auto-advance page-viewer text-toggle font-controls"
     data-page-viewer-image-url-value="<%= asset_path('bus3_mat/p070/page.png') %>"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <!-- Header -->
  <%= render 'shared/page_header', pagina: @pagina %>

  <!-- Introduzione -->
  <div class="bg-[#C7EAFB] dark:bg-cyan-900/40 p-4 md:p-6 -ml-3 md:-ml-0 -mr-3 md:mr-0 mb-8">
    <p class="text-gray-700 dark:text-gray-200 font-bold">
      La <span class="text-cyan-600 dark:text-cyan-400 font-bold">domanda</span> che trovi nel testo del problema è molto importante perché ti guida a <span class="text-cyan-600 dark:text-cyan-400 font-bold">scegliere i dati utili</span> per risolvere il problema.
    </p>
  </div>

  <!-- Esercizio 1 -->
  <div class="p-4 md:p-6 mb-8">
    <div class="flex items-center gap-3 mb-6">
      <div class="bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">
        1
      </div>
      <p class="text-gray-700 dark:text-gray-200"><strong>Leggi il testo del problema e scrivi accanto a ciascuna domanda i dati utili per rispondere.</strong></p>
    </div>

    <div class="p-4 bg-gray-50 dark:bg-gray-800 rounded mb-6 text-gray-700 dark:text-gray-200">
      <p>La guida turistica Flavia organizza due visite al giardino botanico. Durante la prima visita accompagna 12 adulti e 6 bambini, durante la seconda accompagna 14 adulti e 4 bambini.</p>
    </div>

    <div class="overflow-x-auto mb-6">
      <table class="w-full text-gray-700 dark:text-gray-200">
        <thead>
          <tr>
            <th class="text-left p-2 w-8"></th>
            <th class="text-left p-2">Domanda</th>
            <th class="text-left p-2 w-40">Dati</th>
          </tr>
        </thead>
        <tbody>
          <tr class="border-t border-gray-200 dark:border-gray-600">
            <td class="p-2 text-red-500 font-bold">•</td>
            <td class="p-2">Quante persone accompagna nella prima visita?</td>
            <td class="p-2">
              <input type="text" class="w-full px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 font-bold bg-white dark:bg-gray-800 dark:text-white"
                     placeholder="12, 6">
            </td>
          </tr>
          <tr class="border-t border-gray-200 dark:border-gray-600">
            <td class="p-2 text-red-500 font-bold">•</td>
            <td class="p-2">Quante persone accompagna nella seconda visita?</td>
            <td class="p-2">
              <input type="text" class="w-full px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 font-bold bg-white dark:bg-gray-800 dark:text-white"
                     placeholder="14, 4">
            </td>
          </tr>
          <tr class="border-t border-gray-200 dark:border-gray-600">
            <td class="p-2 text-red-500 font-bold">•</td>
            <td class="p-2">Quanti bambini accompagna in tutto?</td>
            <td class="p-2">
              <input type="text" class="w-full px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 font-bold bg-white dark:bg-gray-800 dark:text-white"
                     placeholder="6, 4">
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <p class="text-gray-700 dark:text-gray-200">Ti vengono in mente altre domande? Discutine con le compagne e i compagni, poi scrivetele sul quaderno. Per ciascuna domanda trascrivi i dati che ti servono per rispondere, poi risolvi.</p>
  </div>

  <!-- Esercizio 2 -->
  <div class="p-4 md:p-6 mb-8">
    <div class="flex items-center gap-3 mb-6">
      <div class="bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">
        2
      </div>
      <p class="text-gray-700 dark:text-gray-200"><strong>Leggi il testo del problema, scrivi i dati utili accanto a ciascuna domanda e risolvi sul quaderno. Poi trova tu altre domande: per ciascuna trascrivi i dati utili e risolvi sul quaderno.</strong></p>
    </div>

    <div class="p-4 bg-gray-50 dark:bg-gray-800 rounded mb-6 text-gray-700 dark:text-gray-200">
      <p>Il pastore Armando produce 60 ricotte di pecora e 32 ricotte di mucca.</p>
      <p>Vende 43 ricotte di pecora a 5 euro l'una e 28 ricotte di mucca a 4 euro l'una.</p>
    </div>

    <div class="overflow-x-auto">
      <table class="w-full text-gray-700 dark:text-gray-200">
        <thead>
          <tr>
            <th class="text-left p-2 w-8"></th>
            <th class="text-left p-2">Domanda</th>
            <th class="text-left p-2 w-40">Dati</th>
          </tr>
        </thead>
        <tbody>
          <tr class="border-t border-gray-200 dark:border-gray-600">
            <td class="p-2 text-red-500 font-bold">•</td>
            <td class="p-2">Quante ricotte ha prodotto in tutto?</td>
            <td class="p-2">
              <input type="text" class="w-full px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 font-bold bg-white dark:bg-gray-800 dark:text-white"
                     placeholder="60, 32">
            </td>
          </tr>
          <tr class="border-t border-gray-200 dark:border-gray-600">
            <td class="p-2 text-red-500 font-bold">•</td>
            <td class="p-2">Quante ricotte ha venduto in tutto?</td>
            <td class="p-2">
              <input type="text" class="w-full px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 font-bold bg-white dark:bg-gray-800 dark:text-white"
                     placeholder="43, 28">
            </td>
          </tr>
          <tr class="border-t border-gray-200 dark:border-gray-600">
            <td class="p-2 text-red-500 font-bold">•</td>
            <td class="p-2">Quante ricotte di pecora gli sono rimaste?</td>
            <td class="p-2">
              <input type="text" class="w-full px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 font-bold bg-white dark:bg-gray-800 dark:text-white"
                     placeholder="60, 43">
            </td>
          </tr>
          <tr class="border-t border-gray-200 dark:border-gray-600">
            <td class="p-2 text-red-500 font-bold">•</td>
            <td class="p-2">Quanto incassa dalla vendita delle ricotte di mucca?</td>
            <td class="p-2">
              <input type="text" class="w-full px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 font-bold bg-white dark:bg-gray-800 dark:text-white"
                     placeholder="28, 4">
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Quaderno link -->
  <div class="p-4 mb-8 text-right">
    <span class="text-gray-600 dark:text-gray-400">Quaderno →</span> <%= link_to "pp. 157-158", pagina_path("bus3_mat_p157"), class: "text-cyan-600 dark:text-cyan-400 font-bold hover:underline" %>
  </div>

  <!-- Footer con controlli -->
  <%= render 'shared/exercise_controls', color: 'blue' %>
</div>
