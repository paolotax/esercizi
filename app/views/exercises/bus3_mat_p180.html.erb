<% content_for :titolo, "#{@pagina.titolo} - #{@pagina.numero}" %>

<div class="max-w-7xl mx-auto p-3 md:p-6 bg-white font-mono"
     data-controller="exercise-checker page-viewer text-toggle font-controls"
     data-page-viewer-image-url-value="<%= asset_path('bus3_mat/p180/page.png') %>"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <!-- Header -->
  <%= render 'shared/page_header', pagina: @pagina %>

  <!-- Esercizio 5 -->
  <div class="mb-10">
    <div class="flex items-start gap-3 mb-4">
      <div class="bg-cyan-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">
        5
      </div>
      <p class="text-gray-700">
        <strong>Scrivi sotto ogni figura a quale frazione corrisponde la parte colorata. Scegli tra:</strong>
        <br>
        <span class="text-cyan-600"><sup>40</sup>/<sub>100</sub> &nbsp;&nbsp; <sup>4</sup>/<sub>100</sub> &nbsp;&nbsp; <sup>10</sup>/<sub>100</sub> &nbsp;&nbsp; <sup>1</sup>/<sub>100</sub></span>
      </p>
    </div>

    <div class="flex justify-center">
      <%= image_tag "bus3_mat/p180/p180_01.jpg", alt: "Frazioni centesimali", class: "max-w-full rounded" %>
    </div>
  </div>

  <!-- Esercizio 6 -->
  <div class="mb-10" data-controller="fill-blanks auto-advance">
    <div class="flex items-start gap-3 mb-4">
      <div class="bg-cyan-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">
        6
      </div>
      <p class="text-gray-700">
        <strong>Scomponi i numeri decimali come nell'esempio. Fai attenzione agli zeri!</strong>
      </p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <p>7,308 <span class="text-red-500">→</span> <span class="text-cyan-600 font-bold">7 u, 3 d, 8 m</span></p>
      <p>7,48 <span class="text-red-500">→</span> <input type="text" data-fill-blanks-target="input" data-correct-answer="7 u, 4 d, 8 c" class="w-40 px-2 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white"></p>
      <p>0,1 <span class="text-red-500">→</span> <input type="text" data-fill-blanks-target="input" data-correct-answer="1 d" class="w-40 px-2 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white"></p>
      <p>3,09 <span class="text-red-500">→</span> <input type="text" data-fill-blanks-target="input" data-correct-answer="3 u, 9 c" class="w-40 px-2 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white"></p>
      <p>5,139 <span class="text-red-500">→</span> <input type="text" data-fill-blanks-target="input" data-correct-answer="5 u, 1 d, 3 c, 9 m" class="w-48 px-2 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white"></p>
      <p>4,04 <span class="text-red-500">→</span> <input type="text" data-fill-blanks-target="input" data-correct-answer="4 u, 4 c" class="w-40 px-2 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white"></p>
    </div>
  </div>

  <!-- Esercizio 7 -->
  <div class="mb-10" data-controller="fill-blanks auto-advance">
    <div class="flex items-start gap-3 mb-4">
      <div class="bg-cyan-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">
        7
      </div>
      <p class="text-gray-700">
        <strong>Ricomponi i numeri decimali come nell'esempio. Fai attenzione all'ordine e agli zeri!</strong>
      </p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <p>3 u, 9 m, 4 d <span class="text-red-500">→</span> <span class="text-cyan-600 font-bold">3,409</span></p>
      <p>3 m, 3 d, 3 c <span class="text-red-500">→</span> <input type="text" data-fill-blanks-target="input" data-correct-answer="0,333" class="w-24 px-2 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white"></p>
      <p>2 da, 5 c <span class="text-red-500">→</span> <input type="text" data-fill-blanks-target="input" data-correct-answer="20,05" class="w-24 px-2 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white"></p>
      <p>2 da, 5 d <span class="text-red-500">→</span> <input type="text" data-fill-blanks-target="input" data-correct-answer="20,5" class="w-24 px-2 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white"></p>
      <p>4 u, 2 m, 3 c <span class="text-red-500">→</span> <input type="text" data-fill-blanks-target="input" data-correct-answer="4,032" class="w-24 px-2 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white"></p>
      <p>3 d, 3 c, 3 u <span class="text-red-500">→</span> <input type="text" data-fill-blanks-target="input" data-correct-answer="3,33" class="w-24 px-2 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white"></p>
      <p>1 da, 3 u, 2 c <span class="text-red-500">→</span> <input type="text" data-fill-blanks-target="input" data-correct-answer="13,02" class="w-24 px-2 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white"></p>
      <p>2 u, 5 d, 2 m <span class="text-red-500">→</span> <input type="text" data-fill-blanks-target="input" data-correct-answer="2,502" class="w-24 px-2 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white"></p>
      <p>3 u, 3 d, 3 m <span class="text-red-500">→</span> <input type="text" data-fill-blanks-target="input" data-correct-answer="3,303" class="w-24 px-2 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white"></p>
    </div>
  </div>

  <!-- Esercizio 8 -->
  <div class="mb-10" data-controller="fill-blanks auto-advance">
    <div class="flex items-start gap-3 mb-4">
      <div class="bg-cyan-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold flex-shrink-0">
        8
      </div>
      <p class="text-gray-700">
        <strong>Scrivi i numeri in cifre.</strong>
      </p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <p>nove decimi <span class="text-red-500">→</span> <input type="text" data-fill-blanks-target="input" data-correct-answer="0,9" class="w-24 px-2 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white"></p>
      <p>quindici millesimi <span class="text-red-500">→</span> <input type="text" data-fill-blanks-target="input" data-correct-answer="0,015" class="w-24 px-2 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white"></p>
      <p>ottantasette centesimi <span class="text-red-500">→</span> <input type="text" data-fill-blanks-target="input" data-correct-answer="0,87" class="w-24 px-2 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white"></p>
      <p>sette centesimi <span class="text-red-500">→</span> <input type="text" data-fill-blanks-target="input" data-correct-answer="0,07" class="w-24 px-2 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white"></p>
      <p>trecentoventisei millesimi <span class="text-red-500">→</span> <input type="text" data-fill-blanks-target="input" data-correct-answer="0,326" class="w-24 px-2 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white"></p>
      <p>trentasei decimi <span class="text-red-500">→</span> <input type="text" data-fill-blanks-target="input" data-correct-answer="3,6" class="w-24 px-2 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white"></p>
      <p>quarantaquattro centesimi <span class="text-red-500">→</span> <input type="text" data-fill-blanks-target="input" data-correct-answer="0,44" class="w-24 px-2 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white"></p>
      <p>novecentodue millesimi <span class="text-red-500">→</span> <input type="text" data-fill-blanks-target="input" data-correct-answer="0,902" class="w-24 px-2 py-1 border-b-2 border-dotted border-gray-400 text-center bg-white"></p>
    </div>
  </div>

  <!-- Footer con controlli -->
  <%= render 'shared/exercise_controls' %>
</div>
