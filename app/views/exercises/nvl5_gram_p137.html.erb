<div class="max-w-6xl mx-auto bg-white dark:bg-gray-900 text-black dark:text-white p-3 md:p-6 transition-colors duration-300"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <!-- Esercizio 5: vela, ve la -->
  <div class="mb-6 bg-<%= @pagina.base_color %>-50 dark:bg-<%= @pagina.base_color %>-900/30 rounded-lg p-4 md:p-6" data-controller="fill-blanks">
    <h2 class="font-bold text-<%= @pagina.base_color %>-700 dark:text-<%= @pagina.base_color %>-300 mb-4 flex items-center gap-2">
      <span class="bg-<%= @pagina.base_color %>-500 text-white rounded-full w-8 h-8 md:w-10 md:h-10 inline-flex items-center justify-center font-bold">5</span>
      <span>Completa con <strong>vela</strong>, <strong>ve la</strong> o <strong>ve l'ha</strong>.</span>
    </h2>

    <div class="space-y-3">
      <div class="flex items-start gap-2">
        <span class="text-<%= @pagina.base_color %>-600 dark:text-<%= @pagina.base_color %>-400 font-bold">•</span>
        <p>Chi <input type="text" class="border-b-2 border-dotted border-gray-400 dark:border-gray-500 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-<%= @pagina.base_color %>-500 w-28" data-fill-blanks-target="input" data-answer="ve l'ha" data-correct-answer="ve l'ha"> raccontato?</p>
      </div>

      <div class="flex items-start gap-2">
        <span class="text-<%= @pagina.base_color %>-600 dark:text-<%= @pagina.base_color %>-400 font-bold">•</span>
        <p>Mi piace andare in barca a <input type="text" class="border-b-2 border-dotted border-gray-400 dark:border-gray-500 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-<%= @pagina.base_color %>-500 w-28" data-fill-blanks-target="input" data-answer="vela" data-correct-answer="vela">.</p>
      </div>

      <div class="flex items-start gap-2">
        <span class="text-<%= @pagina.base_color %>-600 dark:text-<%= @pagina.base_color %>-400 font-bold">•</span>
        <p>Se la storia vi è piaciuta, <input type="text" class="border-b-2 border-dotted border-gray-400 dark:border-gray-500 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-<%= @pagina.base_color %>-500 w-28" data-fill-blanks-target="input" data-answer="ve la" data-correct-answer="ve la"> racconto ancora.</p>
      </div>

      <div class="flex items-start gap-2">
        <span class="text-<%= @pagina.base_color %>-600 dark:text-<%= @pagina.base_color %>-400 font-bold">•</span>
        <p>Sul mare c'è una barca con la <input type="text" class="border-b-2 border-dotted border-gray-400 dark:border-gray-500 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-<%= @pagina.base_color %>-500 w-28" data-fill-blanks-target="input" data-answer="vela" data-correct-answer="vela"> blu.</p>
      </div>

      <div class="flex items-start gap-2">
        <span class="text-<%= @pagina.base_color %>-600 dark:text-<%= @pagina.base_color %>-400 font-bold">•</span>
        <p>Ho preparato una crostata di more: se vi piace <input type="text" class="border-b-2 border-dotted border-gray-400 dark:border-gray-500 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-<%= @pagina.base_color %>-500 w-28" data-fill-blanks-target="input" data-answer="ve la" data-correct-answer="ve la"> faccio assaggiare.</p>
      </div>

      <div class="flex items-start gap-2">
        <span class="text-<%= @pagina.base_color %>-600 dark:text-<%= @pagina.base_color %>-400 font-bold">•</span>
        <p>Chi <input type="text" class="border-b-2 border-dotted border-gray-400 dark:border-gray-500 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-<%= @pagina.base_color %>-500 w-28" data-fill-blanks-target="input" data-answer="ve l'ha" data-correct-answer="ve l'ha"> detto che la scuola era chiusa?</p>
      </div>
    </div>
  </div>

  <!-- Esercizio 6: ce lo, ce l'ho, ce la, ce l'ha -->
  <div class="mb-6 bg-<%= @pagina.base_color %>-50 dark:bg-<%= @pagina.base_color %>-900/30 rounded-lg p-4 md:p-6" data-controller="fill-blanks">
    <h2 class="font-bold text-<%= @pagina.base_color %>-700 dark:text-<%= @pagina.base_color %>-300 mb-4 flex items-center gap-2">
      <span class="bg-<%= @pagina.base_color %>-500 text-white rounded-full w-8 h-8 md:w-10 md:h-10 inline-flex items-center justify-center font-bold">6</span>
      <span>Completa con <strong>ce lo</strong>, <strong>ce l'ho</strong>, <strong>ce la</strong>, <strong>ce l'ha</strong>.</span>
    </h2>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div class="space-y-3">
        <div class="flex items-start gap-2">
          <span class="text-<%= @pagina.base_color %>-600 dark:text-<%= @pagina.base_color %>-400 font-bold">•</span>
          <p><input type="text" class="border-b-2 border-dotted border-gray-400 dark:border-gray-500 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-<%= @pagina.base_color %>-500 w-24" data-fill-blanks-target="input" data-answer="Ce la" data-correct-answer="Ce la"> fai leggere la poesia che hai scritto?</p>
        </div>

        <div class="flex items-start gap-2">
          <span class="text-<%= @pagina.base_color %>-600 dark:text-<%= @pagina.base_color %>-400 font-bold">•</span>
          <p>Evviva! <input type="text" class="border-b-2 border-dotted border-gray-400 dark:border-gray-500 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-<%= @pagina.base_color %>-500 w-24" data-fill-blanks-target="input" data-answer="Ce l'ho" data-correct-answer="Ce l'ho"> fatta!</p>
        </div>

        <div class="flex items-start gap-2">
          <span class="text-<%= @pagina.base_color %>-600 dark:text-<%= @pagina.base_color %>-400 font-bold">•</span>
          <p>Non <input type="text" class="border-b-2 border-dotted border-gray-400 dark:border-gray-500 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-<%= @pagina.base_color %>-500 w-24" data-fill-blanks-target="input" data-answer="ce la" data-correct-answer="ce la"> faccio più!</p>
        </div>

        <div class="flex items-start gap-2">
          <span class="text-<%= @pagina.base_color %>-600 dark:text-<%= @pagina.base_color %>-400 font-bold">•</span>
          <p><input type="text" class="border-b-2 border-dotted border-gray-400 dark:border-gray-500 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-<%= @pagina.base_color %>-500 w-24" data-fill-blanks-target="input" data-answer="Ce la" data-correct-answer="Ce la"> siamo proprio meritato!</p>
        </div>
      </div>

      <div class="space-y-3">
        <div class="flex items-start gap-2">
          <span class="text-<%= @pagina.base_color %>-600 dark:text-<%= @pagina.base_color %>-400 font-bold">•</span>
          <p>Questa figurina non <input type="text" class="border-b-2 border-dotted border-gray-400 dark:border-gray-500 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-<%= @pagina.base_color %>-500 w-24" data-fill-blanks-target="input" data-answer="ce l'ho" data-correct-answer="ce l'ho">.</p>
        </div>

        <div class="flex items-start gap-2">
          <span class="text-<%= @pagina.base_color %>-600 dark:text-<%= @pagina.base_color %>-400 font-bold">•</span>
          <p>La bistecca <input type="text" class="border-b-2 border-dotted border-gray-400 dark:border-gray-500 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-<%= @pagina.base_color %>-500 w-24" data-fill-blanks-target="input" data-answer="ce l'ha" data-correct-answer="ce l'ha"> rubata la gatta.</p>
        </div>

        <div class="flex items-start gap-2">
          <span class="text-<%= @pagina.base_color %>-600 dark:text-<%= @pagina.base_color %>-400 font-bold">•</span>
          <p><input type="text" class="border-b-2 border-dotted border-gray-400 dark:border-gray-500 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-<%= @pagina.base_color %>-500 w-24" data-fill-blanks-target="input" data-answer="Ce lo" data-correct-answer="Ce lo"> porti il libro?</p>
        </div>

        <div class="flex items-start gap-2">
          <span class="text-<%= @pagina.base_color %>-600 dark:text-<%= @pagina.base_color %>-400 font-bold">•</span>
          <p>Abbiamo saputo la bella notizia: <input type="text" class="border-b-2 border-dotted border-gray-400 dark:border-gray-500 bg-transparent dark:text-white px-2 py-1 focus:outline-none focus:border-<%= @pagina.base_color %>-500 w-24" data-fill-blanks-target="input" data-answer="ce l'ha" data-correct-answer="ce l'ha"> detta tua sorella.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Esercizio 7: Tabella presente/passato prossimo -->
  <div class="mb-6 bg-<%= @pagina.base_color %>-50 dark:bg-<%= @pagina.base_color %>-900/30 rounded-lg p-4 md:p-6" data-controller="fill-blanks">
    <h2 class="font-bold text-<%= @pagina.base_color %>-700 dark:text-<%= @pagina.base_color %>-300 mb-4 flex items-center gap-2">
      <span class="bg-<%= @pagina.base_color %>-500 text-white rounded-full w-8 h-8 md:w-10 md:h-10 inline-flex items-center justify-center font-bold">7</span>
      <span>Completa la tabella, poi volgi al <strong class="text-<%= @pagina.base_color %>-600 dark:text-<%= @pagina.base_color %>-400">passato prossimo</strong>. Osserva l'esempio.</span>
    </h2>

    <div class="overflow-x-auto">
      <table class="w-full rounded-lg overflow-hidden">
        <thead>
          <tr class="bg-<%= @pagina.base_color %>-100 dark:bg-<%= @pagina.base_color %>-900/40">
            <th class="px-4 py-3 text-left font-bold text-<%= @pagina.base_color %>-800 dark:text-<%= @pagina.base_color %>-200 border-b border-<%= @pagina.base_color %>-200 dark:border-<%= @pagina.base_color %>-700">Presente</th>
            <th class="px-4 py-3 text-left font-bold text-<%= @pagina.base_color %>-800 dark:text-<%= @pagina.base_color %>-200 border-b border-<%= @pagina.base_color %>-200 dark:border-<%= @pagina.base_color %>-700">Passato prossimo</th>
          </tr>
        </thead>
        <tbody class="bg-white dark:bg-gray-800 divide-y divide-<%= @pagina.base_color %>-100 dark:divide-<%= @pagina.base_color %>-800">
          <tr class="hover:bg-<%= @pagina.base_color %>-50 dark:hover:bg-<%= @pagina.base_color %>-900/20">
            <td class="px-4 py-3">
              <p class="text-gray-800 dark:text-gray-200 mb-2">• Loro lo chiedono a me.</p>
              <p class="text-<%= @pagina.base_color %>-600 dark:text-<%= @pagina.base_color %>-400 font-semibold">Loro me lo chiedono.</p>
            </td>
            <td class="px-4 py-3">
              <p class="text-<%= @pagina.base_color %>-600 dark:text-<%= @pagina.base_color %>-400 font-semibold">Loro me l'hanno chiesto.</p>
            </td>
          </tr>

          <tr class="hover:bg-<%= @pagina.base_color %>-50 dark:hover:bg-<%= @pagina.base_color %>-900/20">
            <td class="px-4 py-3">
              <p class="text-gray-800 dark:text-gray-200 mb-2">• Tu lo spieghi a me.</p>
              <input type="text" class="w-full px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 bg-transparent dark:text-white focus:border-<%= @pagina.base_color %>-500 focus:outline-none" data-fill-blanks-target="input" data-answer="Tu me lo spieghi." data-correct-answer="Tu me lo spieghi.">
            </td>
            <td class="px-4 py-3">
              <input type="text" class="w-full px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 bg-transparent dark:text-white focus:border-<%= @pagina.base_color %>-500 focus:outline-none" data-fill-blanks-target="input" data-answer="Tu me l'hai spiegato." data-correct-answer="Tu me l'hai spiegato.">
            </td>
          </tr>

          <tr class="hover:bg-<%= @pagina.base_color %>-50 dark:hover:bg-<%= @pagina.base_color %>-900/20">
            <td class="px-4 py-3">
              <p class="text-gray-800 dark:text-gray-200 mb-2">• Loro lo dicono a voi.</p>
              <input type="text" class="w-full px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 bg-transparent dark:text-white focus:border-<%= @pagina.base_color %>-500 focus:outline-none" data-fill-blanks-target="input" data-answer="Loro ve lo dicono." data-correct-answer="Loro ve lo dicono.">
            </td>
            <td class="px-4 py-3">
              <input type="text" class="w-full px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 bg-transparent dark:text-white focus:border-<%= @pagina.base_color %>-500 focus:outline-none" data-fill-blanks-target="input" data-answer="Loro ve l'hanno detto." data-correct-answer="Loro ve l'hanno detto.">
            </td>
          </tr>

          <tr class="hover:bg-<%= @pagina.base_color %>-50 dark:hover:bg-<%= @pagina.base_color %>-900/20">
            <td class="px-4 py-3">
              <p class="text-gray-800 dark:text-gray-200 mb-2">• Loro lo scrivono a te.</p>
              <input type="text" class="w-full px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 bg-transparent dark:text-white focus:border-<%= @pagina.base_color %>-500 focus:outline-none" data-fill-blanks-target="input" data-answer="Loro te lo scrivono." data-correct-answer="Loro te lo scrivono.">
            </td>
            <td class="px-4 py-3">
              <input type="text" class="w-full px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 bg-transparent dark:text-white focus:border-<%= @pagina.base_color %>-500 focus:outline-none" data-fill-blanks-target="input" data-answer="Loro te l'hanno scritto." data-correct-answer="Loro te l'hanno scritto.">
            </td>
          </tr>

          <tr class="hover:bg-<%= @pagina.base_color %>-50 dark:hover:bg-<%= @pagina.base_color %>-900/20">
            <td class="px-4 py-3">
              <p class="text-gray-800 dark:text-gray-200 mb-2">• Loro lo ripetono a noi.</p>
              <input type="text" class="w-full px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 bg-transparent dark:text-white focus:border-<%= @pagina.base_color %>-500 focus:outline-none" data-fill-blanks-target="input" data-answer="Loro ce lo ripetono." data-correct-answer="Loro ce lo ripetono.">
            </td>
            <td class="px-4 py-3">
              <input type="text" class="w-full px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 bg-transparent dark:text-white focus:border-<%= @pagina.base_color %>-500 focus:outline-none" data-fill-blanks-target="input" data-answer="Loro ce l'hanno ripetuto." data-correct-answer="Loro ce l'hanno ripetuto.">
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <%= render 'shared/exercise_controls' %>

</div>
