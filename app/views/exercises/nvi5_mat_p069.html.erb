<div class="max-w-6xl mx-auto p-3 md:p-6"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">
  
  <!-- Header -->
  <%= render 'shared/page_header', pagina: @pagina %>
  <div class="p-4 p-6">
    <!-- Esercizio 1 -->
    <div class="p-4 mb-6" data-controller="fill-blanks">       
      <h3 class=" font-bold mb-3">
        <span class="bg-blue-600 text-white rounded-full   inline-flex items-center justify-center mr-2">1</span>
        IMPARARE TUTTI. Trasforma le percentuali in frazioni decimali come nell'esempio.
      </h3>
      <div class="flex flex-wrap items-center gap-6 justify-center">  
        <div class="p-3">  
          <div class="flex items-center gap-2">             <span class="font-mono ">12% →</span>
            <div class="flex flex-col items-center">               <span class="font-bold ">12</span>
              <div class="full"></div>
               <span class="font-bold ">100</span>
            </div>
          </div>
        </div>
        <div class="flex items-center gap-2">           <span class="font-mono ">45% →</span>
          <div class="flex flex-col items-center">             <input type="text" class=" px-2 py-1 border-2 border-purple-300  focus:border-purple-500 focus:outline-none text-center" data-fill-blanks-target="input" data-correct-answer="45">
            <div class="full"></div>
             <input type="text" class=" px-2 py-1 border-2 border-purple-300  focus:border-purple-500 focus:outline-none text-center" data-fill-blanks-target="input" data-correct-answer="100">
          </div>
        </div>
        <div class="flex items-center gap-2">           <span class="font-mono ">6% →</span>
          <div class="flex flex-col items-center">             <input type="text" class=" px-2 py-1 border-2 border-purple-300  focus:border-purple-500 focus:outline-none text-center" data-fill-blanks-target="input" data-correct-answer="6">
            <div class="full"></div>
             <input type="text" class=" px-2 py-1 border-2 border-purple-300  focus:border-purple-500 focus:outline-none text-center" data-fill-blanks-target="input" data-correct-answer="100">
          </div>
        </div>
        <div class="flex items-center gap-2">           <span class="font-mono ">50% →</span>
          <div class="flex flex-col items-center">             <input type="text" class=" px-2 py-1 border-2 border-purple-300  focus:border-purple-500 focus:outline-none text-center" data-fill-blanks-target="input" data-correct-answer="50">
            <div class="full"></div>
             <input type="text" class=" px-2 py-1 border-2 border-purple-300  focus:border-purple-500 focus:outline-none text-center" data-fill-blanks-target="input" data-correct-answer="100">
          </div>
        </div>
        <div class="flex items-center gap-2">           <span class="font-mono ">22% →</span>
          <div class="flex flex-col items-center">             <input type="text" class=" px-2 py-1 border-2 border-purple-300  focus:border-purple-500 focus:outline-none text-center" data-fill-blanks-target="input" data-correct-answer="22">
            <div class="full"></div>
             <input type="text" class=" px-2 py-1 border-2 border-purple-300  focus:border-purple-500 focus:outline-none text-center" data-fill-blanks-target="input" data-correct-answer="100">
          </div>
        </div>
        <div class="flex items-center gap-2">           <span class="font-mono ">41% →</span>
          <div class="flex flex-col items-center">             <input type="text" class=" px-2 py-1 border-2 border-purple-300  focus:border-purple-500 focus:outline-none text-center" data-fill-blanks-target="input" data-correct-answer="41">
            <div class="full"></div>
             <input type="text" class=" px-2 py-1 border-2 border-purple-300  focus:border-purple-500 focus:outline-none text-center" data-fill-blanks-target="input" data-correct-answer="100">
          </div>
        </div>
      </div>
    </div>
    <!-- Esercizio 2 -->
    <div class="p-4 mb-6" data-controller="fill-blanks">       
      <h3 class=" font-bold mb-3">
        <span class="bg-blue-600 text-white rounded-full   inline-flex items-center justify-center mr-2">2</span>
        Calcola il valore delle percentuali come nell'esempio.
      </h3>
      <div class="space-y-3">  
        <div class="p-3 ">           <span class="font-mono ">3% di 150 → <span class="text-blue-600">(150 : 100) × 3 = 1,5 × 3 = 4,5</span></span>
        </div>
        <div class="flex items-center gap-3">           <span class="font-mono ">50% di 2300 →</span>
          <input type="text" class=" px-2 py-1 border-2 border-purple-300  focus:border-purple-500 focus:outline-none text-center" data-fill-blanks-target="input" data-correct-answer="1150">
        </div>
        <div class="flex items-center gap-3">           <span class="font-mono ">18% di 350 →</span>
          <input type="text" class=" px-2 py-1 border-2 border-purple-300  focus:border-purple-500 focus:outline-none text-center" data-fill-blanks-target="input" data-correct-answer="63">
        </div>
        <div class="flex items-center gap-3">           <span class="font-mono ">15% di 600 →</span>
          <input type="text" class=" px-2 py-1 border-2 border-purple-300  focus:border-purple-500 focus:outline-none text-center" data-fill-blanks-target="input" data-correct-answer="90">
        </div>
        <div class="flex items-center gap-3">           <span class="font-mono ">24% di 1200 →</span>
          <input type="text" class=" px-2 py-1 border-2 border-purple-300  focus:border-purple-500 focus:outline-none text-center" data-fill-blanks-target="input" data-correct-answer="288">
        </div>
        <div class="flex items-center gap-3">           <span class="font-mono ">48% di 1400 →</span>
          <input type="text" class=" px-2 py-1 border-2 border-purple-300  focus:border-purple-500 focus:outline-none text-center" data-fill-blanks-target="input" data-correct-answer="672">
        </div>
        <div class="flex items-center gap-3">           <span class="font-mono ">6% di 850 →</span>
          <input type="text" class=" px-2 py-1 border-2 border-purple-300  focus:border-purple-500 focus:outline-none text-center" data-fill-blanks-target="input" data-correct-answer="51">
        </div>
        <div class="flex items-center gap-3">           <span class="font-mono ">7% di 1750 →</span>
          <input type="text" class=" px-2 py-1 border-2 border-purple-300  focus:border-purple-500 focus:outline-none text-center" data-fill-blanks-target="input" data-correct-answer="122,5">
        </div>
      </div>
    </div>
    <!-- Esercizio 3 -->
    <div class="p-4 mb-6" data-controller="fill-blanks">       
      <h3 class=" font-bold mb-3">
        <span class="bg-blue-600 text-white rounded-full   inline-flex items-center justify-center mr-2">3</span>
        Calcola l'intero conoscendo il valore delle percentuali come nell'esempio.
      </h3>
      <div class="grid grid-cols-1 grid-cols-2 gap-4">  
        <div class="space-y-3">  
          <div class="p-3 ">             <span class="font-mono ">25 è il 5% di? → <span class="text-blue-600">(25 : 5) × 100 = 5 × 100 = 500</span></span>
          </div>
          <div class="flex items-center gap-3">             <span class="font-mono ">180 è il 3% di? →</span>
            <input type="text" class=" px-2 py-1 border-2 border-purple-300  focus:border-purple-500 focus:outline-none text-center" data-fill-blanks-target="input" data-correct-answer="6000">
          </div>
          <div class="flex items-center gap-3">             <span class="font-mono ">1500 è il 25% di? →</span>
            <input type="text" class=" px-2 py-1 border-2 border-purple-300  focus:border-purple-500 focus:outline-none text-center" data-fill-blanks-target="input" data-correct-answer="6000">
          </div>
          <div class="flex items-center gap-3">             <span class="font-mono ">810 è il 90% di? →</span>
            <input type="text" class=" px-2 py-1 border-2 border-purple-300  focus:border-purple-500 focus:outline-none text-center" data-fill-blanks-target="input" data-correct-answer="900">
          </div>
        </div>
        <div class="space-y-3">  
          <div class="flex items-center gap-3">             <span class="font-mono ">680 è il 10% di? →</span>
            <input type="text" class=" px-2 py-1 border-2 border-purple-300  focus:border-purple-500 focus:outline-none text-center" data-fill-blanks-target="input" data-correct-answer="6800">
          </div>
          <div class="flex items-center gap-3">             <span class="font-mono ">1350 è il 75% di? →</span>
            <input type="text" class=" px-2 py-1 border-2 border-purple-300  focus:border-purple-500 focus:outline-none text-center" data-fill-blanks-target="input" data-correct-answer="1800">
          </div>
          <div class="flex items-center gap-3">             <span class="font-mono ">1280 è il 40% di? →</span>
            <input type="text" class=" px-2 py-1 border-2 border-purple-300  focus:border-purple-500 focus:outline-none text-center" data-fill-blanks-target="input" data-correct-answer="3200">
          </div>
          <div class="flex items-center gap-3">             <span class="font-mono ">138 è il 6% di? →</span>
            <input type="text" class=" px-2 py-1 border-2 border-purple-300  focus:border-purple-500 focus:outline-none text-center" data-fill-blanks-target="input" data-correct-answer="2300">
          </div>
        </div>
      </div>
    </div>
    <!-- Esercizio 4 -->
    <div class="p-4 mb-6" data-controller="fill-blanks">       
      <h3 class=" font-bold mb-3">
        <span class="bg-blue-600 text-white rounded-full   inline-flex items-center justify-center mr-2">4</span>
        Trasforma le frazioni in percentuali. Segui l'esempio.
      </h3>
      <div class="grid grid-cols-1 grid-cols-3 gap-4">  
        <div class="p-3 ">  
          <div class="flex items-center gap-2">             <span class="font-mono "><span class="inline-flex flex-col items-center"><span>1</span><span class="border-t border-gray-600 full my-0.5"></span><span>2</span></span> →</span>
            <span class="text-blue-600">1 : 2 = 0,5 → 50%</span>
          </div>
        </div>
        <div class="flex items-center gap-2">           <span class="font-mono "><span class="inline-flex flex-col items-center"><span>3</span><span class="border-t border-gray-600 full my-0.5"></span><span>5</span></span> →</span>
          <input type="text" class=" px-2 py-1 border-2 border-purple-300  focus:border-purple-500 focus:outline-none text-center" data-fill-blanks-target="input" data-correct-answer="60%">
        </div>
        <div class="flex items-center gap-2">           <span class="font-mono "><span class="inline-flex flex-col items-center"><span>2</span><span class="border-t border-gray-600 full my-0.5"></span><span>8</span></span> →</span>
          <input type="text" class=" px-2 py-1 border-2 border-purple-300  focus:border-purple-500 focus:outline-none text-center" data-fill-blanks-target="input" data-correct-answer="25%">
        </div>
        <div class="flex items-center gap-2">           <span class="font-mono "><span class="inline-flex flex-col items-center"><span>9</span><span class="border-t border-gray-600 full my-0.5"></span><span>12</span></span> →</span>
          <input type="text" class=" px-2 py-1 border-2 border-purple-300  focus:border-purple-500 focus:outline-none text-center" data-fill-blanks-target="input" data-correct-answer="75%">
        </div>
        <div class="flex items-center gap-2">           <span class="font-mono "><span class="inline-flex flex-col items-center"><span>28</span><span class="border-t border-gray-600 full my-0.5"></span><span>40</span></span> →</span>
          <input type="text" class=" px-2 py-1 border-2 border-purple-300  focus:border-purple-500 focus:outline-none text-center" data-fill-blanks-target="input" data-correct-answer="70%">
        </div>
        <div class="flex items-center gap-2">           <span class="font-mono "><span class="inline-flex flex-col items-center"><span>3</span><span class="border-t border-gray-600 full my-0.5"></span><span>6</span></span> →</span>
          <input type="text" class=" px-2 py-1 border-2 border-purple-300  focus:border-purple-500 focus:outline-none text-center" data-fill-blanks-target="input" data-correct-answer="50%">
        </div>
        <div class="flex items-center gap-2">           <span class="font-mono "><span class="inline-flex flex-col items-center"><span>12</span><span class="border-t border-gray-600 full my-0.5"></span><span>15</span></span> →</span>
          <input type="text" class=" px-2 py-1 border-2 border-purple-300  focus:border-purple-500 focus:outline-none text-center" data-fill-blanks-target="input" data-correct-answer="80%">
        </div>
        <div class="flex items-center gap-2">           <span class="font-mono "><span class="inline-flex flex-col items-center"><span>24</span><span class="border-t border-gray-600 full my-0.5"></span><span>50</span></span> →</span>
          <input type="text" class=" px-2 py-1 border-2 border-purple-300  focus:border-purple-500 focus:outline-none text-center" data-fill-blanks-target="input" data-correct-answer="48%">
        </div>
        <div class="flex items-center gap-2">           <span class="font-mono "><span class="inline-flex flex-col items-center"><span>12</span><span class="border-t border-gray-600 full my-0.5"></span><span>80</span></span> →</span>
          <input type="text" class=" px-2 py-1 border-2 border-purple-300  focus:border-purple-500 focus:outline-none text-center" data-fill-blanks-target="input" data-correct-answer="15%">
        </div>
      </div>
    </div>
    <!-- Problemi -->
    <div class="p-4">       
      <h3 class=" font-bold text-blue-600 mb-4">RISOLVI I PROBLEMI</h3>
      <div class="grid grid-cols-1 grid-cols-2 gap-4">  
        <div class="p-4">           
          <h4 class="font-bold mb-2">
            <span class="bg-blue-600 text-white rounded-full   inline-flex items-center justify-center mr-2">5</span>
          </h4>
          <p class="mb-2">Lucia ha un barattolo con 30 caramelle di tre gusti diversi:</p>
          <p class="mb-2">12 caramelle sono alla fragola, 3 caramelle sono alla menta, le altre sono al limone.</p>
          <p class="mb-2">Quante sono le caramelle al limone?</p>
          <p>Quale percentuale dell'intero barattolo rappresentano le caramelle al limone?</p>
        </div>
        <div class="p-4">           
          <h4 class="font-bold mb-2">
            <span class="bg-blue-600 text-white rounded-full   inline-flex items-center justify-center mr-2">7</span>
          </h4>
          <p class="mb-2">Per i saldi di fine stagione, in un negozio di abbigliamento viene applicato uno sconto del 25% su tutta la merce:</p>
          <p class="mb-2">Pantaloni: € 120 • Gonne: € 95</p>
          <p class="mb-2">Camicie: € 80 • Maglioni: € 180</p>
          <p class="mb-2">Elena compra un paio di pantaloni, due camicie e un maglione.</p>
          <p>Quanto spende? Quanto risparmia?</p>
        </div>
        <div class="p-4 col-span-2">           
          <h4 class="font-bold mb-2">
            <span class="bg-blue-600 text-white rounded-full   inline-flex items-center justify-center mr-2">6</span>
          </h4>
          <p class="mb-2">In una scatola di 35 cioccolatini, 7 cioccolatini sono al caffè.</p>
          <p>Quale frazione rappresenta il numero dei cioccolatini al caffè rispetto al totale dei cioccolatini della scatola? Quale percentuale dell'intera scatola rappresentano i cioccolatini al caffè?</p>
        </div>
      </div>
    </div>
  </div>
  <%= render 'shared/exercise_controls', color: 'purple' %>
</div>
