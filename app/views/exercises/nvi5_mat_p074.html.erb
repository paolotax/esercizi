<div class="max-w-6xl mx-auto p-3 md:p-6"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">
  
  <!-- Header -->
  <%= render 'shared/page_header', pagina: @pagina %>
  <!-- Introduzione -->
  <div class="mb-8 p-4 p-6">     
    <p>Per risolvere un problema non basta eseguire un'operazione, bisogna anche <strong>riflettere sui risultati trovati e chiedersi se sono verosimili</strong>.</p>
  </div>
  <!-- Problema taxi -->
  <div class="mb-8 p-4 p-6">     
    <h2 class=" font-bold text-cyan-700 mb-4">Viaggio in taxi</h2>
    <div class="flex flex-col flex-row gap-6 mb-6">  
      <div class="flex-1">  
        <div class="p-4 mb-4">           
          <p>Un gruppo di 53 turisti, al termine del soggiorno in hotel, deve raggiungere la stazione. Il trasporto viene organizzato in taxi da 6 posti. Quanti taxi è necessario prenotare?</p>
        </div>
        <p class="font-bold mb-3">• Osserva le soluzioni proposte da 3 bambini.</p>
        <div class="space-y-3 mb-4">  
          <div class="p-3">             
            <p class="font-bold mb-1">Enrico <span class="text-blue-600">→ 53 − 6 = 47</span></p>
            <p>È necessario prenotare 47 taxi.</p>
          </div>
          <div class="p-3">             
            <p class="font-bold mb-1">Giacomo <span class="text-blue-600">→ 53 × 6 = 318</span></p>
            <p>È necessario prenotare 318 taxi.</p>
          </div>
          <div class="p-3">             
            <p class="font-bold mb-1">Laura <span class="text-blue-600">→ 53 : 6 = 8 resto 5</span></p>
            <p>È necessario prenotare 9 taxi: 8 da 6 posti pieni e 1 per le 5 persone che restano.</p>
          </div>
        </div>
        <div>           
          <p class="mb-2">Chi ha risposto correttamente?
            <input type="text" class=" px-3 py-2 border-2 border-purple-300  focus:border-purple-500 focus:outline-none ml-2" data-correct-answer="Laura">
          </p>
        </div>
      </div>
    </div>
    <div class="p-4">       
      <p class="mb-3">A volte può capitare di giudicare non accettabile il risultato di un problema. Allora che cosa fai? Rivedi i calcoli, cerchi l'errore e correggi. Altre volte non trovi errori e pensi: questo risultato è impossibile!</p>
    </div>
  </div>
  <!-- Osserva le situazioni -->
  <div class="mb-8 p-4 p-6">     
    <h2 class=" font-bold text-blue-600 mb-4">• Osserva le situazioni rappresentate e prova a rispondere.</h2>
    <div class="grid grid-cols-1 grid-cols-2 gap-6 mb-6">       <!-- Problema gelati -->
      <div class="space-y-4" data-controller="word-choice">  
        <div class="flex gap-3">           <%= image_tag "nvi5_mat/p074/p074_01.jpg", alt: "Taxi" %>
          <%# <div class="flex-1 bg-cyan-50 border-2 border-cyan-300  p-3">
            <p>1 CONFEZIONE 5 EURO<br>3 CONFEZIONI 18 EURO</p>
          </div> %>
        </div>
        <div class="space-y-2">  
          <div>             <span>– Quanto paghi ogni confezione se ne acquisti tre?</span>
            <input type="text" class=" px-2 py-1 border-2 border-purple-300  focus:border-purple-500 focus:outline-none ml-2" data-correct-answer="6">
          </div>
          <div class="flex items-center gap-3">             <span>– La proposta è conveniente?</span>
            <button class="px-4 py-1 border-2 border-blue-300  hover:bg-blue-100 cursor-pointer" data-word-choice-target="word" data-group="gelati-conveniente" data-action="click->word-choice#select">Sì</button>
            <button class="px-4 py-1 border-2 border-blue-300  hover:bg-blue-100 cursor-pointer" data-word-choice-target="word" data-group="gelati-conveniente" data-action="click->word-choice#select" data-correct="true">No</button>
          </div>
          <div class="flex items-center gap-3">             <span>– Ci sono informazioni impossibili o non accettabili?</span>
            <button class="px-4 py-1 border-2 border-blue-300  hover:bg-blue-100 cursor-pointer" data-word-choice-target="word" data-group="gelati-impossibili" data-action="click->word-choice#select" data-correct="true">Sì</button>
            <button class="px-4 py-1 border-2 border-blue-300  hover:bg-blue-100 cursor-pointer" data-word-choice-target="word" data-group="gelati-impossibili" data-action="click->word-choice#select">No</button>
          </div>
        </div>
        <div class="p-3">           
          <p>In questa situazione c'è un dato contraddittorio: comprando 3 confezioni, ognuna costa più di 5 euro, quindi non è vero che "paghi 2 prendi 3".</p>
        </div>
      </div>
      <!-- Problema treni -->
      <div class="space-y-4" data-controller="word-choice">         
        <table class="full border-2 border-blue-400  overflow-hidden mb-4">
          <thead>
            <tr class="bg-blue-200">
              <th colspan="2" class="border border-blue-400 px-3 py-2 text-center font-bold ">AI TRENI</th>
            </tr>
            <tr class="bg-blue-100">
              <th class="border border-blue-400 px-3 py-2 text-center font-bold ">Partenza ore</th>
              <th class="border border-blue-400 px-3 py-2 text-center font-bold ">Arrivo ore</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="border border-blue-400 px-3 py-2 text-center ">Firenze 10:05</td>
              <td class="border border-blue-400 px-3 py-2 text-center ">Palermo 10:35</td>
            </tr>
            <tr>
              <td class="border border-blue-400 px-3 py-2 text-center ">Firenze 10:20</td>
              <td class="border border-blue-400 px-3 py-2 text-center ">Torino 14:00</td>
            </tr>
            <tr>
              <td class="border border-blue-400 px-3 py-2 text-center ">Firenze 10:40</td>
              <td class="border border-blue-400 px-3 py-2 text-center ">Milano 13:25</td>
            </tr>
          </tbody>
        </table>
        <div class="space-y-2">  
          <div>             <span>– Quanto durano i tre viaggi?</span>
          </div>
          <div>             <span class="ml-4">FI-PA</span>
            <input type="text" class=" px-2 py-1 border-2 border-purple-300  focus:border-purple-500 focus:outline-none ml-2" data-correct-answer="30 minuti">
          </div>
          <div>             <span class="ml-4">FI-MI</span>
            <input type="text" class=" px-2 py-1 border-2 border-purple-300  focus:border-purple-500 focus:outline-none ml-2" data-correct-answer="2 ore e 45 minuti">
          </div>
          <div>             <span class="ml-4">FI-TO</span>
            <input type="text" class=" px-2 py-1 border-2 border-purple-300  focus:border-purple-500 focus:outline-none ml-2" data-correct-answer="3 ore e 40 minuti">
          </div>
          <div class="flex items-center gap-3">             <span>– Sono tutti tempi possibili?</span>
            <button class="px-4 py-1 border-2 border-blue-300  hover:bg-blue-100 cursor-pointer" data-word-choice-target="word" data-group="treni-possibili" data-action="click->word-choice#select">Sì</button>
            <button class="px-4 py-1 border-2 border-blue-300  hover:bg-blue-100 cursor-pointer" data-word-choice-target="word" data-group="treni-possibili" data-action="click->word-choice#select" data-correct="true">No</button>
            <span>Perché?</span>
          </div>
          <div class="flex items-center gap-3">             <span>– Ci sono informazioni impossibili o non accettabili?</span>
            <button class="px-4 py-1 border-2 border-blue-300  hover:bg-blue-100 cursor-pointer" data-word-choice-target="word" data-group="treni-impossibili" data-action="click->word-choice#select" data-correct="true">Sì</button>
            <button class="px-4 py-1 border-2 border-blue-300  hover:bg-blue-100 cursor-pointer" data-word-choice-target="word" data-group="treni-impossibili" data-action="click->word-choice#select">No</button>
          </div>
        </div>
        <div class="p-3">           
          <p>In questa situazione c'è un'informazione impossibile perché anche il treno più veloce non può impiegare 30 minuti per andare da Firenze a Palermo!</p>
        </div>
      </div>
    </div>
  </div>
  <%= render 'shared/exercise_controls', color: 'purple' %>
</div>
