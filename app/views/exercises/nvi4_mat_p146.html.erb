<div class="max-w-6xl mx-auto bg-white dark:bg-gray-900 p-3 md:p-6 transition-colors duration-300"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">

    <!-- Introduzione -->
    <div class="text-gray-700 dark:text-gray-200 space-y-4">
      <p>È sera quando le famiglie Bianchi e Rossi, che stanno trascorrendo una vacanza insieme in montagna, rientrano alla piccola pensione "Quiete" dopo una lunga escursione.</p>
      <p>Si precipitano all'ascensore perché nessuno, dopo quella lunga camminata, se la sente di salire a piedi. Sono stanchissimi e non vedono l'ora di farsi una doccia e un riposino prima di cena.</p>
    </div>

    <!-- Cartello ascensore -->
    <div class="flex flex-col md:flex-row gap-6">
      <div class="flex-1 space-y-4">
        <p class="text-gray-700 dark:text-gray-200">Nell'ascensore è attaccato questo cartello:</p>

        <div class="p-4 bg-yellow-100 dark:bg-yellow-900/40 border-2 border-yellow-500 dark:border-yellow-600 rounded-lg text-center">
          <p class="font-bold text-gray-800 dark:text-gray-100">Portata massima 250 Kg.</p>
          <p class="text-gray-700 dark:text-gray-200 mt-2">I minori di anni 12 devono essere accompagnati da un adulto.</p>
        </div>

        <p class="text-gray-700 dark:text-gray-200">I pesi e l'età dei componenti delle due famiglie sono:</p>

        <!-- Tabella famiglie -->
        <div class="overflow-x-auto">
          <table class="w-full border-2 border-cyan-400 dark:border-cyan-600 text-center text-gray-700 dark:text-gray-200">
            <thead>
              <tr class="bg-cyan-100 dark:bg-cyan-900/40">
                <th class="border-2 border-cyan-400 dark:border-cyan-600 p-2">Famiglia</th>
                <th class="border-2 border-cyan-400 dark:border-cyan-600 p-2">Componenti</th>
                <th class="border-2 border-cyan-400 dark:border-cyan-600 p-2">Peso in kg</th>
                <th class="border-2 border-cyan-400 dark:border-cyan-600 p-2">Età</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="border-2 border-cyan-400 dark:border-cyan-600 p-2 font-bold" rowspan="4">Bianchi</td>
                <td class="border-2 border-cyan-400 dark:border-cyan-600 p-2">Nicola</td>
                <td class="border-2 border-cyan-400 dark:border-cyan-600 p-2">96</td>
                <td class="border-2 border-cyan-400 dark:border-cyan-600 p-2">42</td>
              </tr>
              <tr>
                <td class="border-2 border-cyan-400 dark:border-cyan-600 p-2">Lorenza</td>
                <td class="border-2 border-cyan-400 dark:border-cyan-600 p-2">65</td>
                <td class="border-2 border-cyan-400 dark:border-cyan-600 p-2">39</td>
              </tr>
              <tr>
                <td class="border-2 border-cyan-400 dark:border-cyan-600 p-2">Andrea</td>
                <td class="border-2 border-cyan-400 dark:border-cyan-600 p-2">60</td>
                <td class="border-2 border-cyan-400 dark:border-cyan-600 p-2">15</td>
              </tr>
              <tr>
                <td class="border-2 border-cyan-400 dark:border-cyan-600 p-2">Alice</td>
                <td class="border-2 border-cyan-400 dark:border-cyan-600 p-2">50</td>
                <td class="border-2 border-cyan-400 dark:border-cyan-600 p-2">18</td>
              </tr>
              <tr>
                <td class="border-2 border-cyan-400 dark:border-cyan-600 p-2 font-bold" rowspan="4">Rossi</td>
                <td class="border-2 border-cyan-400 dark:border-cyan-600 p-2">Luca</td>
                <td class="border-2 border-cyan-400 dark:border-cyan-600 p-2">85</td>
                <td class="border-2 border-cyan-400 dark:border-cyan-600 p-2">45</td>
              </tr>
              <tr>
                <td class="border-2 border-cyan-400 dark:border-cyan-600 p-2">Francesca</td>
                <td class="border-2 border-cyan-400 dark:border-cyan-600 p-2">68</td>
                <td class="border-2 border-cyan-400 dark:border-cyan-600 p-2">40</td>
              </tr>
              <tr>
                <td class="border-2 border-cyan-400 dark:border-cyan-600 p-2">Kevin</td>
                <td class="border-2 border-cyan-400 dark:border-cyan-600 p-2">13</td>
                <td class="border-2 border-cyan-400 dark:border-cyan-600 p-2">1</td>
              </tr>
              <tr>
                <td class="border-2 border-cyan-400 dark:border-cyan-600 p-2">Eugenio</td>
                <td class="border-2 border-cyan-400 dark:border-cyan-600 p-2">32</td>
                <td class="border-2 border-cyan-400 dark:border-cyan-600 p-2">8</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <div class="shrink-0 flex items-start justify-center">
        <%= image_tag "nvi4_mat/p146/output-1715932804146_660_544_338_285.png", class: "h-auto dark:bg-white dark:rounded-lg dark:p-2", alt: "Famiglie all'ascensore" %>
      </div>
    </div>

    <!-- Testo problema -->
    <div class="text-gray-700 dark:text-gray-200 space-y-4">
      <p>Per non avere problemi con il peso decidono che la prima volta saliranno Nicola, Lorenza, Andrea.</p>
      <p>La seconda volta saliranno Alice e Luca.</p>
      <p>Poi nell'ultimo viaggio Francesca, Kevin ed Eugenio.</p>
      <p>Mentre sono tutti insieme ad aspettare l'ascensore, che è lentissimo, Eugenio brontola: "Secondo me si potevano fare 2 soli viaggi: così devo aspettare un sacco…". Luca, suo padre, gli risponde: "Se ti riesce trovare un'altra soluzione in fretta, va bene".</p>
    </div>

    <!-- Container ESERCIZI -->
    <div class="p-4 md:p-6 bg-orange-100 dark:bg-orange-900/30 rounded-2xl space-y-6">

      <div>
        <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
          Quale soluzione può trovare Eugenio?
        </p>
        <div class="space-y-4 text-gray-700 dark:text-gray-200">
          <div class="space-y-2">
            <p class="font-semibold">Primo viaggio:</p>
            <textarea class="w-full p-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 dark:text-white resize-none" rows="2" placeholder="Chi sale nel primo viaggio?"></textarea>
          </div>
          <div class="space-y-2">
            <p class="font-semibold">Secondo viaggio:</p>
            <textarea class="w-full p-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 dark:text-white resize-none" rows="2" placeholder="Chi sale nel secondo viaggio?"></textarea>
          </div>
          <div class="space-y-2">
            <p class="font-semibold">Spiega perché la tua soluzione rispetta le regole:</p>
            <textarea class="w-full p-3 border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 dark:text-white resize-none" rows="3" placeholder="Verifica pesi e regole dell'ascensore..."></textarea>
          </div>
        </div>
      </div>

    </div>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
