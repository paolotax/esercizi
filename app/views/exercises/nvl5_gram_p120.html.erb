<div class="max-w-6xl mx-auto bg-white dark:bg-gray-900 text-black dark:text-white p-3 md:p-6 transition-colors duration-300"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <!-- Introduzione -->
  <div class="bg-<%= @pagina.base_color %>-50 dark:bg-<%= @pagina.base_color %>-900/30 p-4 md:p-6 pb-8 rounded-lg">
    <p class="text-gray-700 dark:text-gray-200">
      La grammatica valenziale ti propone un modo particolare di analizzare la frase: si parte dal <strong>verbo</strong>
      e dagli <strong>argomenti indispensabili</strong>, cioè i pezzi che il verbo attira a sé per completare il proprio
      significato. Il verbo e gli argomenti indispensabili formano il nucleo della frase.
    </p>
  </div>

  <!-- Osserva -->
  <div class="bg-white dark:bg-gray-800 p-4 md:p-6 pb-8">
    <h3 class="font-bold text-<%= @pagina.base_color %>-700 dark:text-<%= @pagina.base_color %>-300 mb-6">
      <span class="text-<%= @pagina.base_color %>-500 dark:text-<%= @pagina.base_color %>-400">•</span> Osserva.
    </h3>

    <!-- Esempio 1: Grandina -->
    <div class="bg-<%= @pagina.base_color %>-50 dark:bg-<%= @pagina.base_color %>-900/30 rounded-lg p-4 mb-4">
      <p class="text-gray-700 dark:text-gray-200 font-semibold mb-4">
        <span class="text-<%= @pagina.base_color %>-500 dark:text-<%= @pagina.base_color %>-400">•</span> <span class="underline">Grandina</span>.
      </p>
      <div class="flex items-center justify-center mb-4">
        <div class="border border-<%= @pagina.base_color %>-400 dark:border-<%= @pagina.base_color %>-600 rounded-lg px-6 py-3 bg-<%= @pagina.base_color %>-100 dark:bg-<%= @pagina.base_color %>-900/40">
          <span class="font-bold text-<%= @pagina.base_color %>-700 dark:text-<%= @pagina.base_color %>-300 underline">Grandina</span>
        </div>
      </div>
      <div class="bg-blue-50 dark:bg-blue-900/30 border-l-4 border-blue-400 dark:border-blue-600 p-4 rounded">
        <p class="text-gray-700 dark:text-gray-200">
          Il nucleo della frase è il <span class="underline font-bold text-blue-600 dark:text-blue-400">verbo</span>.<br>
          Non è presente nemmeno l'argomento soggetto.
        </p>
      </div>
    </div>

    <!-- Esempio 2: Gaia ride -->
    <div class="bg-<%= @pagina.base_color %>-50 dark:bg-<%= @pagina.base_color %>-900/30 rounded-lg p-4 mb-4">
      <p class="text-gray-700 dark:text-gray-200 font-semibold mb-4">
        <span class="text-<%= @pagina.base_color %>-500 dark:text-<%= @pagina.base_color %>-400">•</span> <em class="underline">Gaia</em> <span class="underline">ride</span>.
      </p>
      <div class="flex items-center justify-center gap-4 mb-4">
        <div class="border border-red-400 dark:border-red-600 rounded-lg px-6 py-3 bg-red-50 dark:bg-red-900/30">
          <span class="font-bold text-red-700 dark:text-red-400 underline italic">Gaia</span>
        </div>
        <span class="dark:text-gray-400">—</span>
        <div class="border border-blue-400 dark:border-blue-600 rounded-lg px-6 py-3 bg-blue-50 dark:bg-blue-900/30">
          <span class="font-bold text-blue-700 dark:text-blue-400 underline">ride</span>
        </div>
      </div>
      <div class="bg-blue-50 dark:bg-blue-900/30 border-l-4 border-blue-400 dark:border-blue-600 p-4 rounded">
        <p class="text-gray-700 dark:text-gray-200">
          Il nucleo della frase sono il <span class="underline font-bold text-blue-600 dark:text-blue-400">verbo</span><br>
          + l'<em class="underline font-bold text-red-600 dark:text-red-400">argomento soggetto</em>.
        </p>
      </div>
    </div>

    <!-- Esempio 3: Kevin leggerà un fumetto -->
    <div class="bg-<%= @pagina.base_color %>-50 dark:bg-<%= @pagina.base_color %>-900/30 rounded-lg p-4 mb-4">
      <p class="text-gray-700 dark:text-gray-200 font-semibold mb-4">
        <span class="text-<%= @pagina.base_color %>-500 dark:text-<%= @pagina.base_color %>-400">•</span> <em class="underline">Kevin</em> <span class="underline">leggerà</span> <em class="underline">un fumetto</em>.
      </p>
      <div class="flex items-center justify-center gap-4 mb-4 flex-wrap">
        <div class="border border-red-400 dark:border-red-600 rounded-lg px-6 py-3 bg-red-50 dark:bg-red-900/30">
          <span class="font-bold text-red-700 dark:text-red-400 underline italic">Kevin</span>
        </div>
        <span class="dark:text-gray-400">—</span>
        <div class="border border-blue-400 dark:border-blue-600 rounded-lg px-6 py-3 bg-blue-50 dark:bg-blue-900/30">
          <span class="font-bold text-blue-700 dark:text-blue-400 underline">leggerà</span>
        </div>
        <span class="dark:text-gray-400">—</span>
        <div class="border border-pink-400 dark:border-pink-600 rounded-lg px-6 py-3 bg-pink-50 dark:bg-pink-900/30">
          <span class="font-bold text-pink-700 dark:text-pink-400 underline italic">un fumetto</span>
        </div>
      </div>
      <div class="bg-blue-50 dark:bg-blue-900/30 border-l-4 border-blue-400 dark:border-blue-600 p-4 rounded">
        <p class="text-gray-700 dark:text-gray-200">
          Il nucleo della frase sono il <span class="underline font-bold text-blue-600 dark:text-blue-400">verbo</span><br>
          + l'<em class="underline font-bold text-red-600 dark:text-red-400">argomento soggetto</em><br>
          + l'<em class="underline font-bold text-pink-600 dark:text-pink-400">argomento oggetto diretto</em>
        </p>
      </div>
    </div>

    <!-- Esempio 4: Daniel è andato a casa -->
    <div class="bg-<%= @pagina.base_color %>-50 dark:bg-<%= @pagina.base_color %>-900/30 rounded-lg p-4 mb-4">
      <p class="text-gray-700 dark:text-gray-200 font-semibold mb-4">
        <span class="text-<%= @pagina.base_color %>-500 dark:text-<%= @pagina.base_color %>-400">•</span> <em class="underline">Daniel</em> <span class="underline">è andato</span> <span class="underline">a casa</span>.
      </p>
      <div class="flex items-center justify-center gap-4 mb-4 flex-wrap">
        <div class="border border-red-400 dark:border-red-600 rounded-lg px-6 py-3 bg-red-50 dark:bg-red-900/30">
          <span class="font-bold text-red-700 dark:text-red-400 underline italic">Daniel</span>
        </div>
        <span class="dark:text-gray-400">—</span>
        <div class="border border-blue-400 dark:border-blue-600 rounded-lg px-6 py-3 bg-blue-50 dark:bg-blue-900/30">
          <span class="font-bold text-blue-700 dark:text-blue-400 underline">è andato</span>
        </div>
        <span class="dark:text-gray-400">—</span>
        <div class="border border-green-400 dark:border-green-600 rounded-lg px-6 py-3 bg-green-50 dark:bg-green-900/30">
          <span class="font-bold text-green-700 dark:text-green-400 underline">a casa</span>
        </div>
      </div>
      <div class="bg-blue-50 dark:bg-blue-900/30 border-l-4 border-blue-400 dark:border-blue-600 p-4 rounded">
        <p class="text-gray-700 dark:text-gray-200">
          Il nucleo della frase sono il <span class="underline font-bold text-blue-600 dark:text-blue-400">verbo</span><br>
          + l'<em class="underline font-bold text-red-600 dark:text-red-400">argomento soggetto</em><br>
          + l'<span class="underline font-bold text-green-600 dark:text-green-400">argomento oggetto indiretto</span>
        </p>
      </div>
    </div>

    <!-- Esempio 5: Lara spedisce un pacco a Simone -->
    <div class="bg-<%= @pagina.base_color %>-50 dark:bg-<%= @pagina.base_color %>-900/30 rounded-lg p-4">
      <p class="text-gray-700 dark:text-gray-200 font-semibold mb-4">
        <span class="text-<%= @pagina.base_color %>-500 dark:text-<%= @pagina.base_color %>-400">•</span> <em class="underline">Lara</em> <span class="underline">spedisce</span> <em class="underline">un pacco</em> <span class="underline">a Simone</span>.
      </p>
      <div class="flex items-center justify-center gap-3 mb-4 flex-wrap">
        <div class="border border-red-400 dark:border-red-600 rounded-lg px-4 py-2 bg-red-50 dark:bg-red-900/30">
          <span class="font-bold text-red-700 dark:text-red-400 underline italic">Lara</span>
        </div>
        <span class="dark:text-gray-400">—</span>
        <div class="border border-blue-400 dark:border-blue-600 rounded-lg px-4 py-2 bg-blue-50 dark:bg-blue-900/30">
          <span class="font-bold text-blue-700 dark:text-blue-400 underline">spedisce</span>
        </div>
        <span class="dark:text-gray-400">—</span>
        <div class="border border-pink-400 dark:border-pink-600 rounded-lg px-4 py-2 bg-pink-50 dark:bg-pink-900/30">
          <span class="font-bold text-pink-700 dark:text-pink-400 underline italic">un pacco</span>
        </div>
        <span class="dark:text-gray-400">—</span>
        <div class="border border-green-400 dark:border-green-600 rounded-lg px-4 py-2 bg-green-50 dark:bg-green-900/30">
          <span class="font-bold text-green-700 dark:text-green-400 underline">a Simone</span>
        </div>
      </div>
      <div class="bg-blue-50 dark:bg-blue-900/30 border-l-4 border-blue-400 dark:border-blue-600 p-4 rounded">
        <p class="text-gray-700 dark:text-gray-200">
          Il nucleo della frase sono il <span class="underline font-bold text-blue-600 dark:text-blue-400">verbo</span><br>
          + l'<em class="underline font-bold text-red-600 dark:text-red-400">argomento soggetto</em><br>
          + l'<em class="underline font-bold text-pink-600 dark:text-pink-400">argomento oggetto diretto</em><br>
          + l'<span class="underline font-bold text-green-600 dark:text-green-400">argomento oggetto indiretto</span>
        </p>
      </div>
    </div>
  </div>

  <%= render 'shared/exercise_controls' %>
</div>
