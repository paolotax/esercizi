<div class="max-w-6xl mx-auto bg-white dark:bg-gray-900 p-3 md:p-6 transition-colors duration-300"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">

    <!-- Esercizio 1 -->
    <div class="space-y-4">
      <p class="font-bold text-gray-700 dark:text-gray-200">
        <%= numero_esercizio_badge(1) %>
        Esegui le operazioni in colonna.
      </p>

      <%= image_tag "nvi4_mat/p266/p266_01.jpg", class: "max-w-full h-auto mx-auto dark:bg-white dark:rounded-lg dark:p-2", alt: "Operazioni in colonna" %>
    </div>

    <!-- Esercizio 2 -->
    <div class="space-y-4">
      <p class="font-bold text-gray-700 dark:text-gray-200">
        <%= numero_esercizio_badge(2) %>
        Usa le proprietà dell'addizione in modo tale da arrivare al risultato in modo veloce.
      </p>

      <div class="space-y-3 text-gray-700 dark:text-gray-200">
        <div class="flex items-center gap-2 flex-wrap">
          <span>58 + 130 + 72 =</span>
          <input type="text" class="flex-1 min-w-0 border-b-2 border-dotted border-gray-400 dark:border-gray-500 font-bold bg-transparent dark:text-white" data-correct-answer="260" placeholder="...">
        </div>
        <div class="flex items-center gap-2 flex-wrap">
          <span>95 + 248 + 125 =</span>
          <input type="text" class="flex-1 min-w-0 border-b-2 border-dotted border-gray-400 dark:border-gray-500 font-bold bg-transparent dark:text-white" data-correct-answer="468" placeholder="...">
        </div>
        <div class="flex items-center gap-2 flex-wrap">
          <span>250 + 77 + 23 =</span>
          <input type="text" class="flex-1 min-w-0 border-b-2 border-dotted border-gray-400 dark:border-gray-500 font-bold bg-transparent dark:text-white" data-correct-answer="350" placeholder="...">
        </div>
        <div class="space-y-2 mt-4">
          <p class="text-gray-700 dark:text-gray-200">Spiega come hai proceduto, almeno in due dei tre casi:</p>
          <input type="text" class="w-full border-b-2 border-dotted border-gray-400 dark:border-gray-500 font-bold bg-transparent dark:text-white" placeholder="...">
          <input type="text" class="w-full border-b-2 border-dotted border-gray-400 dark:border-gray-500 font-bold bg-transparent dark:text-white" placeholder="...">
          <input type="text" class="w-full border-b-2 border-dotted border-gray-400 dark:border-gray-500 font-bold bg-transparent dark:text-white" placeholder="...">
        </div>
      </div>
    </div>

    <!-- Esercizio 3 -->
    <div class="space-y-4">
      <p class="font-bold text-gray-700 dark:text-gray-200">
        <%= numero_esercizio_badge(3) %>
        Applica la proprietà invariantiva per calcolare velocemente.
      </p>

      <div class="space-y-3 text-gray-700 dark:text-gray-200">
        <div class="flex items-center gap-2 flex-wrap">
          <span>146 − 86 =</span>
          <input type="text" class="flex-1 min-w-0 border-b-2 border-dotted border-gray-400 dark:border-gray-500 font-bold bg-transparent dark:text-white" data-correct-answer="60" placeholder="...">
        </div>
        <div class="flex items-center gap-2 flex-wrap">
          <span>372 − 37 =</span>
          <input type="text" class="flex-1 min-w-0 border-b-2 border-dotted border-gray-400 dark:border-gray-500 font-bold bg-transparent dark:text-white" data-correct-answer="335" placeholder="...">
        </div>
        <div class="flex items-center gap-2 flex-wrap">
          <span>287 − 137 =</span>
          <input type="text" class="flex-1 min-w-0 border-b-2 border-dotted border-gray-400 dark:border-gray-500 font-bold bg-transparent dark:text-white" data-correct-answer="150" placeholder="...">
        </div>
        <div class="space-y-2 mt-4">
          <p class="text-gray-700 dark:text-gray-200">Spiega come hai proceduto, almeno in due dei tre casi:</p>
          <input type="text" class="w-full border-b-2 border-dotted border-gray-400 dark:border-gray-500 font-bold bg-transparent dark:text-white" placeholder="...">
          <input type="text" class="w-full border-b-2 border-dotted border-gray-400 dark:border-gray-500 font-bold bg-transparent dark:text-white" placeholder="...">
          <input type="text" class="w-full border-b-2 border-dotted border-gray-400 dark:border-gray-500 font-bold bg-transparent dark:text-white" placeholder="...">
        </div>
      </div>
    </div>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
