<div class="max-w-6xl mx-auto p-6 bg-white rounded-lg shadow-lg" data-controller="exercise-checker">
  <!-- Header -->
  <div class="flex items-center justify-between mb-8 border-b-4 border-purple-500 pb-4">
    <div class="flex items-center gap-4">
      <div class="bg-purple-500 text-white rounded-full w-12 h-12 flex items-center justify-center">
        <span class="text-2xl font-bold">17</span>
      </div>
      <div>
        <div class="text-sm text-purple-600 font-semibold">NUMERI</div>
        <h1 class="text-3xl font-bold text-pink-600">LA SCRITTURA POLINOMIALE DI UN NUMERO</h1>
      </div>
    </div>
  </div>

  <div class="space-y-8">

    <!-- Teoria: Esempio con 347 502 -->
    <div class="bg-gradient-to-br from-pink-50 to-pink-100 rounded-lg p-6 border-l-4 border-pink-500">
      <h3 class="font-bold text-pink-700 mb-4">Puoi scrivere i numeri anche usando le potenze del 10. Osserva.</h3>

      <div class="bg-white rounded-lg p-6 mb-4">
        <p class="text-gray-800 mb-4">Il numero <span class="text-2xl font-bold text-blue-600">347 502</span> si puÃ² scrivere:</p>

        <div class="space-y-4">
          <div class="flex items-center gap-3">
            <div class="w-64 text-pink-700 font-semibold">â€¢ come somma di addendi</div>
            <div class="text-gray-600">â†’</div>
            <div class="text-lg font-mono text-blue-700">300 000 + 40 000 + 7 000 + 500 + 2</div>
          </div>

          <div class="flex items-center gap-3">
            <div class="w-64 text-pink-700 font-semibold">â€¢ come somma di prodotti</div>
            <div class="text-gray-600">â†’</div>
            <div class="text-lg font-mono text-blue-700">3 Ã— 100 000 + 4 Ã— 10 000 + 7 Ã— 1 000 + 5 Ã— 100 + 2 Ã— 1</div>
          </div>

          <div class="flex items-center gap-3">
            <div class="w-64 text-pink-700 font-semibold">â€¢ come polinomio numerico</div>
            <div class="text-gray-600">â†’</div>
            <div class="text-lg font-mono text-blue-700">3 Ã— 10<sup>5</sup> + 4 Ã— 10<sup>4</sup> + 7 Ã— 10<sup>3</sup> + 5 Ã— 10<sup>2</sup> + 2 Ã— 10<sup>0</sup></div>
          </div>
        </div>
      </div>
    </div>

    <!-- Prova tu: 25 149 -->
    <div class="bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-6">
      <h3 class="font-bold text-purple-700 mb-4">Prova tu a scrivere il numero 25 149:</h3>

      <div class="space-y-4">
        <div class="bg-white rounded-lg p-4">
          <div class="flex flex-col gap-2">
            <label class="text-pink-700 font-semibold">â€¢ come somma di addendi â†’</label>
            <input type="text"
                   data-correct-answer="20000+5000+100+40+9"
                   class="w-full px-4 py-2 border-2 border-pink-300 rounded focus:border-pink-500 focus:outline-none font-mono"
                   placeholder="es: 20000+5000+100+40+9">
          </div>
        </div>

        <div class="bg-white rounded-lg p-4">
          <div class="flex flex-col gap-2">
            <label class="text-pink-700 font-semibold">â€¢ come somma di prodotti â†’</label>
            <input type="text"
                   data-correct-answer="2Ã—10000+5Ã—1000+1Ã—100+4Ã—10+9Ã—1"
                   class="w-full px-4 py-2 border-2 border-pink-300 rounded focus:border-pink-500 focus:outline-none font-mono"
                   placeholder="es: 2Ã—10000+5Ã—1000+1Ã—100+4Ã—10+9Ã—1">
          </div>
        </div>

        <div class="bg-white rounded-lg p-4">
          <div class="flex flex-col gap-2">
            <label class="text-pink-700 font-semibold">â€¢ come polinomio numerico â†’</label>
            <input type="text"
                   data-correct-answer="2Ã—10^4+5Ã—10^3+1Ã—10^2+4Ã—10^1+9Ã—10^0"
                   class="w-full px-4 py-2 border-2 border-pink-300 rounded focus:border-pink-500 focus:outline-none font-mono"
                   placeholder="es: 2Ã—10^4+5Ã—10^3+1Ã—10^2+4Ã—10^1+9Ã—10^0">
            <p class="text-sm text-gray-500">Usa ^ per l'esponente (es: 10^4)</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Sezione ESERCIZI -->
    <div class="bg-gradient-to-r from-pink-500 to-pink-600 text-white rounded-t-lg px-6 py-3 mt-8">
      <h2 class="text-2xl font-bold">ESERCIZI</h2>
    </div>

    <!-- Exercise 1: Scrivi il numero corrispondente -->
    <div class="bg-white rounded-lg shadow-lg p-8 border-l-4 border-blue-500">
      <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-3">
        <span class="bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold">1</span>
        <span>Scrivi il numero corrispondente come nell'esempio.</span>
      </h3>

      <div class="space-y-4">
        <!-- Esempio -->
        <div class="bg-blue-50 rounded-lg p-4">
          <div class="flex items-center gap-3">
            <span class="text-lg font-mono text-gray-700">8 Ã— 10<sup>4</sup> + 2 Ã— 10<sup>2</sup> =</span>
            <span class="text-lg font-bold text-blue-700">800 200</span>
          </div>
        </div>

        <!-- Esercizio 1 -->
        <div class="bg-blue-50 rounded-lg p-4">
          <div class="flex items-center gap-3">
            <span class="text-lg font-mono text-gray-700">3 Ã— 10<sup>4</sup> + 3 Ã— 10<sup>3</sup> + 3 =</span>
            <input type="text"
                   data-correct-answer="33003"
                   class="w-32 px-3 py-2 border-2 border-blue-300 rounded focus:border-blue-500 focus:outline-none text-center"
                   placeholder="...">
          </div>
        </div>

        <!-- Esercizio 2 -->
        <div class="bg-blue-50 rounded-lg p-4">
          <div class="flex items-center gap-3">
            <span class="text-lg font-mono text-gray-700">5 Ã— 10<sup>8</sup> + 5 Ã— 10<sup>4</sup> + 1 Ã— 10<sup>1</sup> =</span>
            <input type="text"
                   data-correct-answer="500050010"
                   class="w-32 px-3 py-2 border-2 border-blue-300 rounded focus:border-blue-500 focus:outline-none text-center"
                   placeholder="...">
          </div>
        </div>

        <!-- Esercizio 3 -->
        <div class="bg-blue-50 rounded-lg p-4">
          <div class="flex items-center gap-3">
            <span class="text-lg font-mono text-gray-700">6 Ã— 10<sup>5</sup> + 7 Ã— 10<sup>4</sup> + 4 Ã— 10<sup>3</sup> + 5 Ã— 10<sup>2</sup> =</span>
            <input type="text"
                   data-correct-answer="674500"
                   class="w-32 px-3 py-2 border-2 border-blue-300 rounded focus:border-blue-500 focus:outline-none text-center"
                   placeholder="...">
          </div>
        </div>

        <!-- Esercizio 4 -->
        <div class="bg-blue-50 rounded-lg p-4">
          <div class="flex items-center gap-3">
            <span class="text-lg font-mono text-gray-700">9 Ã— 10<sup>5</sup> + 8 Ã— 10<sup>1</sup> + 6 Ã— 10<sup>0</sup> =</span>
            <input type="text"
                   data-correct-answer="900086"
                   class="w-32 px-3 py-2 border-2 border-blue-300 rounded focus:border-blue-500 focus:outline-none text-center"
                   placeholder="...">
          </div>
        </div>
      </div>
    </div>

    <!-- Exercise 2: Sul quaderno -->
    <div class="bg-white rounded-lg shadow-lg p-8 border-l-4 border-green-500">
      <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center gap-3">
        <span class="bg-green-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold">2</span>
        <span>Scrivi sul quaderno i seguenti numeri come polinomi numerici come nell'esempio.</span>
      </h3>

      <div class="bg-green-50 rounded-lg p-6">
        <p class="text-gray-800 mb-4 font-semibold">Esempio:</p>
        <div class="bg-white rounded-lg p-4 mb-4">
          <p class="text-lg font-mono text-green-700">2 345 â†’ 2 Ã— 10<sup>3</sup> + 3 Ã— 10<sup>2</sup> + 4 Ã— 10<sup>1</sup> + 5 Ã— 10<sup>0</sup></p>
        </div>

        <p class="text-gray-800 font-semibold mb-2">Numeri da scrivere:</p>
        <div class="flex flex-wrap gap-3">
          <span class="bg-white px-4 py-2 rounded-lg font-bold text-gray-700">45 567</span>
          <span class="text-gray-400">â€¢</span>
          <span class="bg-white px-4 py-2 rounded-lg font-bold text-gray-700">143 568 960</span>
          <span class="text-gray-400">â€¢</span>
          <span class="bg-white px-4 py-2 rounded-lg font-bold text-gray-700">265 200</span>
          <span class="text-gray-400">â€¢</span>
          <span class="bg-white px-4 py-2 rounded-lg font-bold text-gray-700">300 547</span>
          <span class="text-gray-400">â€¢</span>
          <span class="bg-white px-4 py-2 rounded-lg font-bold text-gray-700">600 000 000</span>
          <span class="text-gray-400">â€¢</span>
          <span class="bg-white px-4 py-2 rounded-lg font-bold text-gray-700">986 004</span>
          <span class="text-gray-400">â€¢</span>
          <span class="bg-white px-4 py-2 rounded-lg font-bold text-gray-700">3 001</span>
        </div>
      </div>
    </div>

    <!-- AllenaMente -->
    <div class="bg-gradient-to-br from-cyan-50 to-cyan-100 rounded-lg p-6 border-l-4 border-cyan-500">
      <div class="flex items-center gap-2 mb-6">
        <div class="bg-blue-500 text-white px-4 py-2 rounded-lg font-bold">AllenaMente</div>
      </div>

      <div class="bg-white rounded-lg p-6 mb-6">
        <h3 class="font-bold text-cyan-700 mb-4">Completa la tabella e poi rispondi.</h3>

        <div class="overflow-x-auto mb-6">
          <table class="w-full border-2 border-gray-300">
            <thead>
              <tr class="bg-pink-500 text-white">
                <th class="border-2 border-white p-3 font-bold"></th>
                <th class="border-2 border-white p-3 font-bold">4</th>
                <th class="border-2 border-white p-3 font-bold">4</th>
                <th class="border-2 border-white p-3 font-bold">4</th>
                <th class="border-2 border-white p-3 font-bold">4</th>
                <th class="border-2 border-white p-3 font-bold">4</th>
              </tr>
            </thead>
            <tbody>
              <tr class="bg-pink-100">
                <td class="border-2 border-pink-300 p-3 font-bold text-pink-700">esponente</td>
                <td class="border-2 border-pink-300 p-3 text-center font-bold">1</td>
                <td class="border-2 border-pink-300 p-3 text-center font-bold">2</td>
                <td class="border-2 border-pink-300 p-3 text-center font-bold">3</td>
                <td class="border-2 border-pink-300 p-3 text-center font-bold">4</td>
                <td class="border-2 border-pink-300 p-3 text-center font-bold">5</td>
              </tr>
              <tr class="bg-blue-50">
                <td class="border-2 border-blue-300 p-3 font-bold text-blue-700">potenza</td>
                <td class="border-2 border-blue-300 p-3 text-center">4<sup>1</sup></td>
                <td class="border-2 border-blue-300 p-3 text-center">4<sup>2</sup></td>
                <td class="border-2 border-blue-300 p-3 text-center">
                  <input type="text"
                         data-correct-answer="4^3"
                         class="w-20 px-2 py-1 border-2 border-blue-300 rounded focus:border-blue-500 focus:outline-none text-center"
                         placeholder="...">
                </td>
                <td class="border-2 border-blue-300 p-3 text-center">4<sup>4</sup></td>
                <td class="border-2 border-blue-300 p-3 text-center">
                  <input type="text"
                         data-correct-answer="4^5"
                         class="w-20 px-2 py-1 border-2 border-blue-300 rounded focus:border-blue-500 focus:outline-none text-center"
                         placeholder="...">
                </td>
              </tr>
              <tr class="bg-green-50">
                <td class="border-2 border-green-300 p-3 font-bold text-green-700">risultato</td>
                <td class="border-2 border-green-300 p-3 text-center font-bold">4</td>
                <td class="border-2 border-green-300 p-3 text-center">
                  <input type="text"
                         data-correct-answer="16"
                         class="w-20 px-2 py-1 border-2 border-green-300 rounded focus:border-green-500 focus:outline-none text-center"
                         placeholder="...">
                </td>
                <td class="border-2 border-green-300 p-3 text-center">
                  <input type="text"
                         data-correct-answer="64"
                         class="w-20 px-2 py-1 border-2 border-green-300 rounded focus:border-green-500 focus:outline-none text-center"
                         placeholder="...">
                </td>
                <td class="border-2 border-green-300 p-3 text-center font-bold">256</td>
                <td class="border-2 border-green-300 p-3 text-center font-bold">1024</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="bg-cyan-50 rounded-lg p-4 space-y-4">
          <p class="text-gray-800">Osserva la cifra delle unitÃ  nella riga dei risultati e immagina di continuare.</p>

          <div class="flex items-center gap-3">
            <span class="text-gray-700">â€¢ Quale sarÃ  la cifra delle unitÃ  nel risultato di 4<sup>6</sup>?</span>
            <input type="text"
                   data-correct-answer="6"
                   class="w-16 px-3 py-2 border-2 border-cyan-300 rounded focus:border-cyan-500 focus:outline-none text-center">
          </div>

          <div class="flex items-center gap-3">
            <span class="text-gray-700">â€¢ E quella del risultato di 4<sup>9</sup>?</span>
            <input type="text"
                   data-correct-answer="4"
                   class="w-16 px-3 py-2 border-2 border-cyan-300 rounded focus:border-cyan-500 focus:outline-none text-center">
          </div>

          <div class="bg-blue-50 rounded-lg p-4 mt-4">
            <p class="text-gray-800">
              Calcola con la calcolatrice (a pagina 23 puoi imparare come usarla) le potenze di 2 fino a 2<sup>8</sup>.
              Osserva la cifra delle unitÃ . Quale sarÃ  la cifra delle unitÃ  nel risultato di 2<sup>10</sup>?
              E quella del risultato di 2<sup>11</sup>?
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- Riferimento quaderno -->
    <div class="bg-purple-50 rounded-lg p-4 border-l-4 border-purple-400">
      <p class="text-gray-700">
        <span class="font-bold">ðŸ“˜ Quaderno esercizi pp. 181, 183</span>
      </p>
    </div>

    <!-- Exercise Controls -->
    <%= render 'shared/exercise_controls', color: 'purple', current_page: 'nvi5_mat_p017' %>

  </div>
</div>
