<div class="max-w-6xl mx-auto bg-white dark:bg-gray-900 text-black dark:text-white p-3 md:p-6 transition-colors duration-300"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">

  <!-- Info Box -->
  <div class="bg-yellow-100 dark:bg-yellow-900/30 rounded-lg p-4 md:p-6 grid grid-cols-1 md:grid-cols-2 gap-6 text-base md:text-lg leading-relaxed">
    <div class="space-y-3">
      <ul class="space-y-2">
        <li class="flex items-start">
          <span class="text-cyan-700 dark:text-cyan-400 font-bold text-2xl mr-2">•</span>
          <span class="text-gray-800 dark:text-gray-200">Il <strong class="text-cyan-700 dark:text-cyan-400">punto</strong> <strong class="text-cyan-700 dark:text-cyan-400">(.)</strong> si usa per concludere una frase. È seguito dalla lettera maiuscola.</span>
        </li>
        <li class="flex items-start">
          <span class="text-cyan-700 dark:text-cyan-400 font-bold text-2xl mr-2">•</span>
          <span class="text-gray-800 dark:text-gray-200">Il <strong class="text-cyan-700 dark:text-cyan-400">punto interrogativo</strong> <strong class="text-cyan-700 dark:text-cyan-400">(?)</strong> si usa per concludere una domanda. È seguito dalla lettera maiuscola.</span>
        </li>
        <li class="flex items-start">
          <span class="text-cyan-700 dark:text-cyan-400 font-bold text-2xl mr-2">•</span>
          <span class="text-gray-800 dark:text-gray-200">Il <strong class="text-cyan-700 dark:text-cyan-400">punto esclamativo</strong> <strong class="text-cyan-700 dark:text-cyan-400">(!)</strong> si usa per concludere un'esclamazione. È seguito dalla lettera maiuscola.</span>
        </li>
        <li class="flex items-start">
          <span class="text-cyan-700 dark:text-cyan-400 font-bold text-2xl mr-2">•</span>
          <span class="text-gray-800 dark:text-gray-200">La <strong class="text-cyan-700 dark:text-cyan-400">virgola</strong> <strong class="text-cyan-700 dark:text-cyan-400">(,)</strong> si usa per separare parole e frasi, negli elenchi e negli incisi.</span>
        </li>
      </ul>
    </div>
    <div class="space-y-3">
      <ul class="space-y-2">
        <li class="flex items-start">
          <span class="text-cyan-700 dark:text-cyan-400 font-bold text-2xl mr-2">•</span>
          <span class="text-gray-800 dark:text-gray-200">Il <strong class="text-cyan-700 dark:text-cyan-400">punto e virgola</strong> <strong class="text-cyan-700 dark:text-cyan-400">(;)</strong> si usa per separare le frasi.</span>
        </li>
        <li class="flex items-start">
          <span class="text-cyan-700 dark:text-cyan-400 font-bold text-2xl mr-2">•</span>
          <span class="text-gray-800 dark:text-gray-200">I <strong class="text-cyan-700 dark:text-cyan-400">due punti</strong> <strong class="text-cyan-700 dark:text-cyan-400">(:)</strong> si usano per introdurre un elenco, una spiegazione, il discorso diretto.</span>
        </li>
        <li class="flex items-start">
          <span class="text-cyan-700 dark:text-cyan-400 font-bold text-2xl mr-2">•</span>
          <span class="text-gray-800 dark:text-gray-200">I <strong class="text-cyan-700 dark:text-cyan-400">punti di sospensione</strong> <strong class="text-cyan-700 dark:text-cyan-400">(...)</strong> indicano un discorso lasciato in sospeso, un elenco che potrebbe continuare.</span>
        </li>
        <li class="flex items-start">
          <span class="text-cyan-700 dark:text-cyan-400 font-bold text-2xl mr-2">•</span>
          <span class="text-gray-800 dark:text-gray-200">Le <strong class="text-cyan-700 dark:text-cyan-400">virgolette</strong> <strong class="text-cyan-700 dark:text-cyan-400">(" ")</strong> e la <strong class="text-cyan-700 dark:text-cyan-400">lineetta</strong> <strong class="text-cyan-700 dark:text-cyan-400">(–)</strong> si usano nel discorso diretto.</span>
        </li>
      </ul>
    </div>
  </div>

  <!-- Exercise 1 -->
  <div class="bg-white dark:bg-gray-800 rounded-lg p-4 md:p-6 border-4 border-yellow-400 dark:border-yellow-600">
    <h2 class="text-lg md:text-xl font-bold text-gray-800 dark:text-gray-200 mb-4 flex flex-wrap items-center gap-2">
      <span class="bg-blue-800 text-white rounded-full w-8 h-8 md:w-10 md:h-10 inline-flex items-center justify-center">1</span>
      <span class="bg-yellow-400 dark:bg-yellow-600 text-blue-800 dark:text-blue-200 px-2 py-1 rounded text-sm md:text-base font-bold">IMPARARE TUTTI</span>
      <span>Scrivi le frasi sul quaderno e cambia il posto del <span class="font-bold text-cyan-700 dark:text-cyan-400">punto</span> per modificare il significato della frase. Osserva l'esempio.</span>
    </h2>

    <div class="space-y-4 text-base md:text-lg">
      <!-- Esempio -->
      <div class="rounded-lg p-4 bg-gray-50 dark:bg-gray-700">
        <p class="text-gray-800 dark:text-gray-200 mb-1">
          <span class="text-cyan-700 dark:text-cyan-400 font-bold text-2xl mr-2">•</span> Emma raccoglie i fiori nel prato. Suo fratello gioca a pallone.
        </p>
        <p class="text-blue-600 dark:text-blue-400 font-bold">Emma raccoglie i fiori. Nel prato suo fratello gioca a pallone.</p>
      </div>

      <!-- Frasi da trasformare -->
      <div class="rounded-lg p-4" data-controller="fill-blanks">
        <p class="text-gray-800 dark:text-gray-200 mb-3">
          <span class="text-cyan-700 dark:text-cyan-400 font-bold text-2xl mr-2">•</span> Sono andato a giocare al parco. Ho incontrato mio cugino Iacopo.
        </p>
        <textarea class="w-full border-2 border-dotted border-gray-400 dark:border-gray-500 bg-transparent dark:text-white rounded-lg p-3 focus:outline-none text-base md:text-lg"
                  rows="2"
                  data-fill-blanks-target="input"
                  data-correct-answer="Sono andato a giocare. Al parco ho incontrato mio cugino Iacopo."
                  placeholder="Riscrivi la frase cambiando il posto del punto..."></textarea>
      </div>

      <div class="rounded-lg p-4" data-controller="fill-blanks">
        <p class="text-gray-800 dark:text-gray-200 mb-3">
          <span class="text-cyan-700 dark:text-cyan-400 font-bold text-2xl mr-2">•</span> Mattia ascolta la musica. In salotto la mamma lavora al computer.
        </p>
        <textarea class="w-full border-2 border-dotted border-gray-400 dark:border-gray-500 bg-transparent dark:text-white rounded-lg p-3 focus:outline-none text-base md:text-lg"
                  rows="2"
                  data-fill-blanks-target="input"
                  data-correct-answer="Mattia ascolta la musica in salotto. La mamma lavora al computer."
                  placeholder="Riscrivi la frase cambiando il posto del punto..."></textarea>
      </div>
    </div>
  </div>

  <!-- Exercise 2 -->
  <div class="bg-white dark:bg-gray-800 rounded-lg p-4 md:p-6">
    <h2 class="text-lg md:text-xl font-bold text-gray-800 dark:text-gray-200 mb-4">
      <span class="bg-pink-600 text-white rounded-full w-8 h-8 md:w-10 md:h-10 inline-flex items-center justify-center mr-2">2</span>
      Inserisci il <span class="font-bold text-cyan-700 dark:text-cyan-400">punto</span>, la <span class="font-bold text-cyan-700 dark:text-cyan-400">virgola</span> o il <span class="font-bold text-cyan-700 dark:text-cyan-400">punto e virgola</span>.
    </h2>

    <% options = [
      { label: "— Scegli —", value: "" },
      { label: "Punto (.)", value: ".", symbol: "." },
      { label: "Virgola (,)", value: ",", symbol: "," },
      { label: "Punto e virgola (;)", value: ";", symbol: ";" }
    ] %>

    <div class="space-y-4 text-base md:text-lg text-gray-800 dark:text-gray-200">
      <div class="rounded-lg p-4">
        <p class="leading-relaxed">
          <span class="text-cyan-700 dark:text-cyan-400 font-bold text-2xl mr-2">•</span> Stamattina ha piovuto molto forte
          <select class="mx-1 border-2 border-pink-300 dark:border-pink-600 bg-white dark:bg-gray-700 dark:text-white rounded px-2 py-1 focus:outline-none focus:border-pink-600"
                  data-correct-answer=",">
            <% options.each do |opt| %>
              <option value="<%= opt[:value] %>"><%= opt[:label] %></option>
            <% end %>
          </select>
          così abbiamo dovuto giocare in casa
          <select class="mx-1 border-2 border-pink-300 dark:border-pink-600 bg-white dark:bg-gray-700 dark:text-white rounded px-2 py-1 focus:outline-none focus:border-pink-600"
                  data-correct-answer=";">
            <% options.each do |opt| %>
              <option value="<%= opt[:value] %>"><%= opt[:label] %></option>
            <% end %>
          </select>
          fortunatamente nel pomeriggio è uscito il sole
          <select class="mx-1 border-2 border-pink-300 dark:border-pink-600 bg-white dark:bg-gray-700 dark:text-white rounded px-2 py-1 focus:outline-none focus:border-pink-600"
                  data-correct-answer=".">
            <% options.each do |opt| %>
              <option value="<%= opt[:value] %>"><%= opt[:label] %></option>
            <% end %>
          </select>
        </p>
      </div>

      <div class="rounded-lg p-4">
        <p class="leading-relaxed">
          <span class="text-cyan-700 dark:text-cyan-400 font-bold text-2xl mr-2">•</span> Io e Silvia abbiamo trascorso un bel pomeriggio in piscina
          <select class="mx-1 border-2 border-pink-300 dark:border-pink-600 bg-white dark:bg-gray-700 dark:text-white rounded px-2 py-1 focus:outline-none focus:border-pink-600"
                  data-correct-answer=";">
            <% options.each do |opt| %>
              <option value="<%= opt[:value] %>"><%= opt[:label] %></option>
            <% end %>
          </select>
          di sera abbiamo ordinato una pizza e ci siamo guardate un film dell'orrore
          <select class="mx-1 border-2 border-pink-300 dark:border-pink-600 bg-white dark:bg-gray-700 dark:text-white rounded px-2 py-1 focus:outline-none focus:border-pink-600"
                  data-correct-answer=",">
            <% options.each do |opt| %>
              <option value="<%= opt[:value] %>"><%= opt[:label] %></option>
            <% end %>
          </select>
          anche se ci faceva paura
          <select class="mx-1 border-2 border-pink-300 dark:border-pink-600 bg-white dark:bg-gray-700 dark:text-white rounded px-2 py-1 focus:outline-none focus:border-pink-600"
                  data-correct-answer=".">
            <% options.each do |opt| %>
              <option value="<%= opt[:value] %>"><%= opt[:label] %></option>
            <% end %>
          </select>
        </p>
      </div>
    </div>
  </div>

  <!-- Exercise 3 -->
  <div class="bg-white dark:bg-gray-800 rounded-lg p-4 md:p-6">
    <h2 class="text-lg md:text-xl font-bold text-gray-800 dark:text-gray-200 mb-4">
      <span class="bg-pink-600 text-white rounded-full w-8 h-8 md:w-10 md:h-10 inline-flex items-center justify-center mr-2">3</span>
      Riscrivi il testo sul quaderno inserendo la <span class="font-bold text-cyan-700 dark:text-cyan-400">punteggiatura</span> adatta e le <span class="font-bold text-cyan-700 dark:text-cyan-400">maiuscole</span> necessarie.
    </h2>

    <p class="text-gray-800 dark:text-gray-200 mb-4 text-base md:text-lg">
      Emilia è una bambina simpatica ha un pupazzo di nome Willy che la accompagna dappertutto la mattina Emilia mette Willy nello zaino tra i quaderni Willy resta tutta la mattina lì dentro alla fine delle lezioni Emilia lo tira fuori e gli dice Che bello rivederti Willy! Spero che tu non ti sia annoiato troppo
    </p>
    <div data-controller="fill-blanks">
      <textarea class="w-full border-2 border-dotted border-gray-400 dark:border-gray-500 bg-transparent dark:text-white rounded-lg p-3 focus:outline-none text-base md:text-lg"
                rows="6"
                data-fill-blanks-target="input"
                data-correct-answer="Emilia è una bambina simpatica. Ha un pupazzo di nome Willy che la accompagna dappertutto. La mattina Emilia mette Willy nello zaino tra i quaderni. Willy resta tutta la mattina lì dentro. Alla fine delle lezioni Emilia lo tira fuori e gli dice: - Che bello rivederti, Willy! - Spero che tu non ti sia annoiato troppo."
                placeholder="Riscrivi qui il testo con la punteggiatura corretta..."></textarea>
    </div>
  </div>

  <!-- Exercise Controls -->
  <%= render 'shared/exercise_controls' %>
  </div><!-- chiude space-y-6 -->
</div>

