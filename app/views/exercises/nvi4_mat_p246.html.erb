<div class="max-w-6xl mx-auto bg-white dark:bg-gray-900 p-3 md:p-6 transition-colors duration-300"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">

    <!-- Box regola -->
    <div class="p-4 bg-custom-blue dark:bg-cyan-900 rounded-2xl">
      <p class="text-gray-700 dark:text-gray-200">
        La <span class="font-bold">superficie</span> è la parte di piano occupata da una figura.<br>
        L'<span class="font-bold">area</span> (<span class="font-bold">A</span>) è la misura della superficie.
      </p>
    </div>

    <!-- Esercizio 1 IMPARARE TUTTI -->
    <div class="p-5 bg-white dark:bg-gray-800 rounded-2xl border-3 border-yellow-400 dark:border-yellow-500 space-y-4">
      <p class="font-bold text-gray-700 dark:text-gray-200">
        <%= imparare_tutti_badge(1) %>
        Calcola l'<span class="text-cyan-600 dark:text-cyan-400">area</span> di ogni figura usando l'unità di misura data.
        Poi rispondi alle domande.
      </p>

      <!-- Immagine figure -->
      <div class="flex justify-center">
        <%= image_tag "nvi4_mat/p246/p246_01.jpg", class: "max-w-full h-auto dark:bg-white dark:rounded-lg dark:p-2", alt: "Figure con aree da calcolare" %>
      </div>

      <!-- Domande Sì/No -->
      <div class="space-y-3">
        <div class="flex items-center justify-between gap-4 flex-wrap">
          <span class="text-gray-700 dark:text-gray-200"><span class="text-cyan-500">•</span> Ci sono figure equiestese, cioè che hanno uguale area? Se sì, cerchiale con lo stesso colore.</span>
          <div class="flex gap-2">
            <label class="relative flex items-center justify-center w-10 h-8 bg-white dark:bg-gray-700 border-2 border-cyan-500 dark:border-cyan-600 rounded cursor-pointer hover:bg-cyan-100 dark:hover:bg-cyan-900 has-checked:bg-cyan-300 dark:has-checked:bg-cyan-700">
              <input type="radio" name="vf1" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="true">
              <span class="text-gray-700 dark:text-gray-200">SÌ</span>
            </label>
            <label class="relative flex items-center justify-center w-10 h-8 bg-white dark:bg-gray-700 border-2 border-cyan-500 dark:border-cyan-600 rounded cursor-pointer hover:bg-cyan-100 dark:hover:bg-cyan-900 has-checked:bg-cyan-300 dark:has-checked:bg-cyan-700">
              <input type="radio" name="vf1" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
              <span class="text-gray-700 dark:text-gray-200">NO</span>
            </label>
          </div>
        </div>

        <div class="flex items-center justify-between gap-4 flex-wrap">
          <span class="text-gray-700 dark:text-gray-200"><span class="text-cyan-500">•</span> Queste figure hanno la stessa forma e i lati di uguale lunghezza?</span>
          <div class="flex gap-2">
            <label class="relative flex items-center justify-center w-10 h-8 bg-white dark:bg-gray-700 border-2 border-cyan-500 dark:border-cyan-600 rounded cursor-pointer hover:bg-cyan-100 dark:hover:bg-cyan-900 has-checked:bg-cyan-300 dark:has-checked:bg-cyan-700">
              <input type="radio" name="vf2" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="false">
              <span class="text-gray-700 dark:text-gray-200">SÌ</span>
            </label>
            <label class="relative flex items-center justify-center w-10 h-8 bg-white dark:bg-gray-700 border-2 border-cyan-500 dark:border-cyan-600 rounded cursor-pointer hover:bg-cyan-100 dark:hover:bg-cyan-900 has-checked:bg-cyan-300 dark:has-checked:bg-cyan-700">
              <input type="radio" name="vf2" class="absolute inset-0 opacity-0 cursor-pointer" data-correct-answer="true">
              <span class="text-gray-700 dark:text-gray-200">NO</span>
            </label>
          </div>
        </div>
      </div>
    </div>

    <!-- Esercizio 2 -->
    <div class="space-y-4">
      <p class="font-bold text-gray-700 dark:text-gray-200">
        <%= numero_esercizio_badge(2) %>
        Calcola l'area di ogni figura usando l'unità di misura data.
        Poi ordina le figure dalla meno estesa alla più estesa.
      </p>

      <!-- Immagine figure -->
      <div class="flex justify-center">
        <%= image_tag "nvi4_mat/p246/p246_02.jpg", class: "max-w-full h-auto dark:bg-white dark:rounded-lg dark:p-2", alt: "Figure da ordinare per area" %>
      </div>

      <!-- Input ordine -->
      <div class="flex items-center gap-2 justify-center">
        <span class="text-gray-700 dark:text-gray-200 font-bold">Ordine:</span>
        <input type="text" data-correct-answer="E, F, A, B, C, D" class="w-64 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white" placeholder="...">
      </div>
    </div>

    <!-- Esercizio 3 -->
    <div class="space-y-4">
      <p class="font-bold text-gray-700 dark:text-gray-200">
        <%= numero_esercizio_badge(3) %>
        Misura l'area delle figure utilizzando le unità di misura date.
      </p>

      <!-- Immagine figure -->
      <div class="flex justify-center">
        <%= image_tag "nvi4_mat/p246/p246_03.jpg", class: "max-w-full h-auto dark:bg-white dark:rounded-lg dark:p-2", alt: "Figure con diverse unità di misura" %>
      </div>
    </div>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
