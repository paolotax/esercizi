<div class="max-w-6xl mx-auto bg-white p-3 md:p-6"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">
    <!-- Box teoria: elementi della rotazione -->
    <div class="p-4 bg-custom-blue-light rounded-lg">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 items-center">
        <div>
          <p class="text-gray-700 mb-2">Gli elementi della <span class="font-bold text-cyan-600">rotazione</span> sono:</p>
          <ul class="list-disc pl-6 space-y-1 text-gray-700 marker:text-cyan-500">
            <li>il <span class="font-bold text-cyan-600">centro di rotazione</span> (O);</li>
            <li>il <span class="font-bold text-cyan-600">senso</span> (orario o antiorario);</li>
            <li>l'<span class="font-bold text-cyan-600">ampiezza</span> dell'angolo di rotazione.</li>
          </ul>
        </div>
        <div class="flex justify-center">
          <%= image_tag "nvi5_mat/p231/p231_01.jpg", alt: "Esempio di rotazione", class: "max-w-[200px]" %>
        </div>
      </div>
    </div>

    <!-- Esercizio 1: IMPARARE TUTTI -->
    <div class="p-4 bg-white rounded-2xl border-3 border-yellow-400">
      <p class="font-bold text-gray-700 mb-4">
        <%= imparare_tutti_badge(1) %>
        Osserva il disegno e completa.
      </p>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 items-center">
        <div class="space-y-3">
          <div class="flex flex-wrap items-center gap-2">
            <span class="text-gray-700">La rotazione è avvenuta in senso</span>
            <input type="text" data-correct-answer="orario" class="w-28 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
          </div>
          <p class="text-gray-700">e l'ampiezza di rotazione è di 180°.</p>
        </div>
        <div class="flex justify-center">
          <%= image_tag "nvi5_mat/p231/output-1715938802231_700_470_217_174.png", alt: "Figura ruotata", class: "max-w-[200px]" %>
        </div>
      </div>
    </div>

    <!-- Esercizio 2 -->
    <div>
      <p class="font-bold text-gray-700 mb-4">
        <%= numero_esercizio_badge(2) %>
        Ruota le figure di 90° (<%= render 'shared/frazione', num: 1, den: 4 %> di giro) in senso orario.
      </p>

      <div class="p-4 bg-gray-50 rounded-lg">
        <%= image_tag "nvi5_mat/p231/p231_03.jpg", alt: "Figure da ruotare", class: "w-full max-w-2xl mx-auto" %>
        <p class="text-gray-600 italic mt-2 text-center">Disegna le figure ruotate di 90° in senso orario</p>
      </div>
    </div>

    <!-- Esercizio 3 -->
    <div>
      <p class="font-bold text-gray-700 mb-4">
        <%= numero_esercizio_badge(3) %>
        Disegna la rotazione di ciascuna figura in base alle indicazioni.
      </p>

      <div class="p-4 bg-gray-50 rounded-lg">
        <%= image_tag "nvi5_mat/p231/p231_04.jpg", alt: "Esercizi di rotazione", class: "w-full max-w-2xl mx-auto" %>
        <p class="text-gray-600 italic mt-2 text-center">Disegna la rotazione secondo le indicazioni (270° senso orario, 180° senso antiorario)</p>
      </div>
    </div>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
