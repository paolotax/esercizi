<div class="max-w-6xl mx-auto bg-white p-3 md:p-6"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">
    <!-- Box formule -->
    <div class="p-4 bg-custom-blue-light rounded-2xl">
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 4xl:grid-cols-4 gap-4">
        <div class="p-2 bg-white rounded border border-cyan-300">
          <p class="font-bold text-cyan-600">Quadrato</p>
          <p class="text-gray-700">P = ℓ × 4</p>
          <p class="text-gray-700">A = ℓ × ℓ</p>
        </div>
        <div class="p-2 bg-white rounded border border-cyan-300">
          <p class="font-bold text-cyan-600">Rettangolo</p>
          <p class="text-gray-700">P = (b + h) × 2</p>
          <p class="text-gray-700">A = b × h</p>
        </div>
        <div class="p-2 bg-white rounded border border-cyan-300">
          <p class="font-bold text-cyan-600">Parallelogramma</p>
          <p class="text-gray-700">P = (b + ℓ) × 2</p>
          <p class="text-gray-700">A = b × h</p>
        </div>
        <div class="p-2 bg-white rounded border border-cyan-300">
          <p class="font-bold text-cyan-600">Trapezio</p>
          <p class="text-gray-700">P = B + b + ℓ<sub>1</sub> + ℓ<sub>2</sub></p>
          <p class="text-gray-700">A = [(B + b) × h] : 2</p>
        </div>
        <div class="p-2 bg-white rounded border border-cyan-300">
          <p class="font-bold text-cyan-600">Rombo</p>
          <p class="text-gray-700">P = ℓ × 4</p>
          <p class="text-gray-700">A = (D × d) : 2</p>
        </div>
        <div class="p-2 bg-white rounded border border-cyan-300">
          <p class="font-bold text-cyan-600">Triangolo</p>
          <p class="text-gray-700">P = ℓ<sub>1</sub> + ℓ<sub>2</sub> + ℓ<sub>3</sub></p>
          <p class="text-gray-700">A = (b × h) : 2</p>
        </div>
        <div class="p-2 bg-white rounded border border-cyan-300">
          <p class="font-bold text-cyan-600">Poligoni regolari</p>
          <p class="text-gray-700">P = ℓ × n. lati</p>
          <p class="text-gray-700">A = (P × a) : 2</p>
        </div>
        <div class="p-2 bg-white rounded border border-cyan-300">
          <p class="font-bold text-cyan-600">Cerchio</p>
          <p class="text-gray-700">C = d × 3,14 oppure r × 6,28</p>
          <p class="text-gray-700">A = (C × r) : 2 oppure r² × 3,14</p>
        </div>
      </div>
    </div>

    <!-- Esercizio 1 -->
    <div>
      <p class="font-bold text-gray-700 mb-4">
        <%= numero_esercizio_badge(1) %>
        Completa le tabelle. Esegui i calcoli sul quaderno.
      </p>

      <!-- Tabelle Quadrato e Cerchio separate -->
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
        <!-- Tabella Quadrato -->
        <div class="overflow-x-auto">
          <table class="w-full border-collapse border border-cyan-400">
            <thead>
              <tr>
                <th colspan="3" class="p-2 border border-cyan-400 bg-custom-blue-light text-center text-gray-800">Quadrato</th>
              </tr>
              <tr>
                <th class="p-2 border border-cyan-400 bg-white text-center text-gray-800">Lato</th>
                <th class="p-2 border border-cyan-400 bg-white text-center text-gray-800">Perimetro</th>
                <th class="p-2 border border-cyan-400 bg-white text-center text-gray-800">Area</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="p-2 border border-cyan-400 text-center bg-white">75 m</td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <input type="text" data-correct-answer="300" class="w-14 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> m
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <input type="text" data-correct-answer="5625" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> m²
                </td>
              </tr>
              <tr>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <input type="text" data-correct-answer="16" class="w-12 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> m
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">64 m</td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <input type="text" data-correct-answer="256" class="w-14 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> m²
                </td>
              </tr>
              <tr>
                <td class="p-2 border border-cyan-400 text-center bg-white">82 m</td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <input type="text" data-correct-answer="328" class="w-14 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> m
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <input type="text" data-correct-answer="6724" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> m²
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Tabella Cerchio -->
        <div class="overflow-x-auto">
          <table class="w-full border-collapse border border-cyan-400">
            <thead>
              <tr>
                <th colspan="4" class="p-2 border border-cyan-400 bg-custom-blue-light text-center text-gray-800">Cerchio</th>
              </tr>
              <tr>
                <th class="p-2 border border-cyan-400 bg-white text-center text-gray-800">Raggio</th>
                <th class="p-2 border border-cyan-400 bg-white text-center text-gray-800">Diametro</th>
                <th class="p-2 border border-cyan-400 bg-white text-center text-gray-800">Circonferenza</th>
                <th class="p-2 border border-cyan-400 bg-white text-center text-gray-800">Area</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="p-2 border border-cyan-400 text-center bg-white">2,8 cm</td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <input type="text" data-correct-answer="5,6" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> cm
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <input type="text" data-correct-answer="17,584" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> cm
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <input type="text" data-correct-answer="24,6176" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> cm²
                </td>
              </tr>
              <tr>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <input type="text" data-correct-answer="19" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> dm
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">38 dm</td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <input type="text" data-correct-answer="119,32" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> dm
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <input type="text" data-correct-answer="1133,54" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> dm²
                </td>
              </tr>
              <tr>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <input type="text" data-correct-answer="5,2" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> dam
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <input type="text" data-correct-answer="10,4" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> dam
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">32,656 dam</td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <input type="text" data-correct-answer="84,9056" class="w-20 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> dam²
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Tabelle Pentagono e Esagono separate -->
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <!-- Tabella Pentagono -->
        <div class="overflow-x-auto">
          <table class="w-full border-collapse border border-cyan-400">
            <thead>
              <tr>
                <th colspan="4" class="p-2 border border-cyan-400 bg-custom-blue-light text-center text-gray-800">Pentagono</th>
              </tr>
              <tr>
                <th class="p-2 border border-cyan-400 bg-white text-center text-gray-800">Lato</th>
                <th class="p-2 border border-cyan-400 bg-white text-center text-gray-800">Apotema</th>
                <th class="p-2 border border-cyan-400 bg-white text-center text-gray-800">Perimetro</th>
                <th class="p-2 border border-cyan-400 bg-white text-center text-gray-800">Area</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <input type="text" data-correct-answer="13" class="w-12 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> dm
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <input type="text" data-correct-answer="8,944" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> dm
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">65 dm</td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <input type="text" data-correct-answer="290,68" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> dm²
                </td>
              </tr>
              <tr>
                <td class="p-2 border border-cyan-400 text-center bg-white">61 m</td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <input type="text" data-correct-answer="41,968" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> m
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <input type="text" data-correct-answer="305" class="w-12 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> m
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <input type="text" data-correct-answer="6400,12" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> m²
                </td>
              </tr>
              <tr>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <input type="text" data-correct-answer="30" class="w-12 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> cm
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">20,64 cm</td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <input type="text" data-correct-answer="150" class="w-12 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> cm
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <input type="text" data-correct-answer="1548" class="w-14 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> cm²
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Tabella Esagono -->
        <div class="overflow-x-auto">
          <table class="w-full border-collapse border border-cyan-400">
            <thead>
              <tr>
                <th colspan="4" class="p-2 border border-cyan-400 bg-custom-blue-light text-center text-gray-800">Esagono</th>
              </tr>
              <tr>
                <th class="p-2 border border-cyan-400 bg-white text-center text-gray-800">Lato</th>
                <th class="p-2 border border-cyan-400 bg-white text-center text-gray-800">Apotema</th>
                <th class="p-2 border border-cyan-400 bg-white text-center text-gray-800">Perimetro</th>
                <th class="p-2 border border-cyan-400 bg-white text-center text-gray-800">Area</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="p-2 border border-cyan-400 text-center bg-white">45 cm</td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <input type="text" data-correct-answer="38,97" class="w-14 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> cm
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <input type="text" data-correct-answer="270" class="w-12 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> cm
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <input type="text" data-correct-answer="5260,95" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> cm²
                </td>
              </tr>
              <tr>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <input type="text" data-correct-answer="10" class="w-10 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> cm
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <input type="text" data-correct-answer="8,66" class="w-12 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> cm
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">60 cm</td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <input type="text" data-correct-answer="259,8" class="w-14 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> cm²
                </td>
              </tr>
              <tr>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <input type="text" data-correct-answer="12,7" class="w-12 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> dm
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">11 dm</td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <input type="text" data-correct-answer="76,2" class="w-12 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> dm
                </td>
                <td class="p-2 border border-cyan-400 text-center bg-white">
                  <input type="text" data-correct-answer="419,1" class="w-14 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent"> dm²
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Esercizio 2 -->
    <div>
      <p class="font-bold text-gray-700 mb-4">
        <%= numero_esercizio_badge(2) %>
        Risolvi sul quaderno.
      </p>

      <div class="grid grid-cols-1 md:grid-cols-2 md:divide-x-2 divide-<%= @pagina.base_color %>-300">
        <!-- Colonna 1: a. e b. -->
        <div class="space-y-6 p-4">
          <div class="space-y-2">
            <p class="text-gray-700"><span class="font-bold text-cyan-600">a.</span> Un trapezio rettangolo ha il lato obliquo di 16,6 dm, la somma delle basi di 23 dm e l'altezza di 1 m. Calcola il perimetro e l'area.</p>
            <div class="flex flex-col items-end gap-1">
              <div class="flex items-center gap-2">
                <span class="text-gray-700">P =</span>
                <input type="text" data-correct-answer="49,6" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                <span class="text-gray-700">dm</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="text-gray-700">A =</span>
                <input type="text" data-correct-answer="115" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                <span class="text-gray-700">dm²</span>
              </div>
            </div>
          </div>
          <div class="space-y-2">
            <p class="text-gray-700"><span class="font-bold text-cyan-600">b.</span> In un triangolo scaleno la base misura 6,2 cm, l'altezza 2,2 cm e i due lati 2,5 cm e 4,6 cm. Calcola il perimetro e l'area.</p>
            <div class="flex flex-col items-end gap-1">
              <div class="flex items-center gap-2">
                <span class="text-gray-700">P =</span>
                <input type="text" data-correct-answer="13,3" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                <span class="text-gray-700">cm</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="text-gray-700">A =</span>
                <input type="text" data-correct-answer="6,82" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                <span class="text-gray-700">cm²</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Colonna 2: c. e d. -->
        <div class="space-y-6 p-4">
          <div class="space-y-2">
            <p class="text-gray-700"><span class="font-bold text-cyan-600">c.</span> Calcola il perimetro e l'area di un rombo che ha il lato di 10,82 m, la diagonale minore di 12 m e quella maggiore di 18 m.</p>
            <div class="flex flex-col items-end gap-1">
              <div class="flex items-center gap-2">
                <span class="text-gray-700">P =</span>
                <input type="text" data-correct-answer="43,28" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                <span class="text-gray-700">m</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="text-gray-700">A =</span>
                <input type="text" data-correct-answer="108" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
                <span class="text-gray-700">m²</span>
              </div>
            </div>
          </div>
          <div class="space-y-2">
            <p class="text-gray-700"><span class="font-bold text-cyan-600">d.</span> Calcola la differenza tra il perimetro di un parallelogramma con la base di 137,6 cm e il lato di 83,02 cm e il perimetro di un rettangolo con la base di 2,89 dm e il lato di 14,03 dm.</p>
            <div class="flex items-center gap-2 justify-end">
              <span class="text-gray-700">Differenza =</span>
              <input type="text" data-correct-answer="102,4" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
              <span class="text-gray-700">cm</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
