<div class="max-w-6xl mx-auto bg-white dark:bg-gray-900 p-3 md:p-6 transition-colors duration-300"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">

    <!-- Problema 1: Campo di mele -->
    <div class="p-4 md:p-6 bg-orange-100 dark:bg-orange-900/30 rounded-2xl">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
            <%= numero_esercizio_badge(1) %>
            Scegli i dati che ti servono per risolvere il problema e rispondi.
          </p>
          <p class="text-gray-700 dark:text-gray-200 mb-2">
            Il campo di mele del signor Aurelio misura 37 m di lunghezza e 54 m di larghezza; quest'anno ha prodotto 3 456 mele, in parte gialle e in parte rosse.
          </p>
          <p class="text-gray-700 dark:text-gray-200 mb-2">
            Ogni mela pesa 130 g.
          </p>
          <p class="text-gray-700 dark:text-gray-200 mb-2">
            Per la raccolta e la spedizione al mercato Aurelio viene aiutato da 3 agricoltori e dai suoi 2 figli.
          </p>
          <p class="text-gray-700 dark:text-gray-200 mb-2">
            Per poter spedire le mele, è necessario rispettare alcune regole:
          </p>
          <ul class="list-disc pl-6 text-gray-700 dark:text-gray-200 mb-2 marker:text-<%= @pagina.base_color %>-500">
            <li>si devono mettere 12 mele in ogni contenitore;</li>
            <li>con 8 contenitori pieni si confeziona una cassetta;</li>
            <li>i contenitori e le cassette, per essere spediti, devono essere pieni.</li>
          </ul>
          <p class="text-gray-700 dark:text-gray-200 mb-4">
            Quante cassette si possono confezionare?
          </p>
          <div class="flex items-center gap-2 flex-wrap">
            <span class="font-bold text-gray-700 dark:text-gray-200">Risposta:</span>
            <input type="text" data-correct-answer="36 cassette" class="flex-1 min-w-0 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          </div>
        </div>
        <div class="flex items-center justify-center">
          <!-- Area calcoli a quadretti -->
          <div class="w-full h-64 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded" style="background-image: linear-gradient(#e5e5e5 1px, transparent 1px), linear-gradient(90deg, #e5e5e5 1px, transparent 1px); background-size: 20px 20px;"></div>
        </div>
      </div>
    </div>

    <!-- Problema 2: Le quattro amiche -->
    <div class="p-4 md:p-6 bg-orange-100 dark:bg-orange-900/30 rounded-2xl">
      <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
        <%= numero_esercizio_badge(2) %>
        Leggi e risolvi il problema. Nelle parole delle quattro amiche ci sono informazioni che ti servono per rispondere alla domanda? Se sì, cerchiale di rosso.
      </p>
      <p class="text-gray-700 dark:text-gray-200 mb-4">
        Al compleanno di Marco ho conosciuto quattro amiche; a me sembrava avessero la stessa età, ma loro hanno detto di no e si sono presentate così:
      </p>

      <div class="flex justify-center mb-4">
        <%= image_tag "nvi4_mat/p087/p087_01.jpg", class: "max-w-full h-auto dark:bg-white dark:rounded-lg dark:p-1" %>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <p class="text-gray-700 dark:text-gray-200 mb-4">
            In quale ordine sono nate le quattro amiche?
          </p>
          <p class="font-bold text-gray-700 dark:text-gray-200 mb-2">Risposta:</p>
          <div class="space-y-2">
            <div class="flex items-center gap-2">
              <span class="text-gray-700 dark:text-gray-200">1</span>
              <input type="text" data-correct-answer="Silvia" class="flex-1 min-w-0 border-b-2 border-dotted border-gray-400 dark:border-gray-500 font-bold bg-transparent dark:text-white">
            </div>
            <div class="flex items-center gap-2">
              <span class="text-gray-700 dark:text-gray-200">2</span>
              <input type="text" data-correct-answer="Anna" class="flex-1 min-w-0 border-b-2 border-dotted border-gray-400 dark:border-gray-500 font-bold bg-transparent dark:text-white">
            </div>
            <div class="flex items-center gap-2">
              <span class="text-gray-700 dark:text-gray-200">3</span>
              <input type="text" data-correct-answer="Noemi" class="flex-1 min-w-0 border-b-2 border-dotted border-gray-400 dark:border-gray-500 font-bold bg-transparent dark:text-white">
            </div>
            <div class="flex items-center gap-2">
              <span class="text-gray-700 dark:text-gray-200">4</span>
              <input type="text" data-correct-answer="Chiara" class="flex-1 min-w-0 border-b-2 border-dotted border-gray-400 dark:border-gray-500 font-bold bg-transparent dark:text-white">
            </div>
          </div>
        </div>
        <div></div>
      </div>
    </div>

    <!-- Problema 3: Aiuole di zia Carlotta -->
    <div class="p-4 md:p-6 bg-orange-100 dark:bg-orange-900/30 rounded-2xl">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <p class="font-bold text-gray-700 dark:text-gray-200 mb-4">
            <%= numero_esercizio_badge(3) %>
            Risolvi il problema.
          </p>
          <p class="text-gray-700 dark:text-gray-200 mb-2">
            Nel giardino di zia Carlotta ci sono delle aiuole di forma circolare o rettangolare.
          </p>
          <p class="text-gray-700 dark:text-gray-200 mb-2">
            5 aiuole hanno i fiori e di queste 3 hanno forma circolare. Tutte le aiuole rettangolari sono 8 di cui 2 con i fiori. Quante aiuole ci sono in tutto?
          </p>
          <div class="flex items-center gap-2 flex-wrap mt-4">
            <span class="font-bold text-gray-700 dark:text-gray-200">Risposta:</span>
            <input type="text" data-correct-answer="11 aiuole" class="flex-1 min-w-0 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-transparent dark:text-white">
          </div>
        </div>
        <div class="flex items-center justify-center">
          <!-- Area calcoli a quadretti -->
          <div class="w-full h-36 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded" style="background-image: linear-gradient(#e5e5e5 1px, transparent 1px), linear-gradient(90deg, #e5e5e5 1px, transparent 1px); background-size: 20px 20px;"></div>
        </div>
      </div>
    </div>

    <%= render 'shared/quaderno_link', pagine: [218, 219, 220, 221] %>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
