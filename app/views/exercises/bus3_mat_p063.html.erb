<% content_for :titolo, "#{@pagina.titolo} - #{@pagina.numero}" %>

<div class="max-w-7xl mx-auto p-3 md:p-6 bg-white dark:bg-gray-900 text-black dark:text-white transition-colors duration-300 font-mono"
     data-controller="exercise-checker fill-blanks auto-advance page-viewer text-toggle font-controls"
     data-page-viewer-image-url-value="<%= asset_path('bus3_mat/p063/page.png') %>"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <!-- Header -->
  <%= render 'shared/page_header', pagina: @pagina %>

  <!-- Continuazione mateVIVA -->
  <div class="bg-[#E8F5E9] dark:bg-green-900/30 p-4 md:p-6 -ml-3 md:-ml-0 -mr-3 md:mr-0 mb-8">
    <p class="text-green-700 dark:text-green-400 font-bold mb-4">MATEMATICA DI TUTTI I GIORNI</p>

    <div class="text-gray-700 dark:text-gray-200 mb-6">
      <p class="font-bold mb-2">PROVA TU!</p>
      <p>Oltre alla platea ci sono anche i palchi. Il palco di destra ha in tutto 6 file da 11 poltrone. Il palco di sinistra è identico.</p>
      <p class="mt-2">
        Quante poltrone ci sono in tutto nei palchi?
        <input type="text" data-fill-blanks-target="input" data-correct-answer="132"
               class="w-16 px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-white dark:bg-gray-800 dark:text-white"
               maxlength="4" inputmode="numeric">
      </p>
    </div>

    <div class="text-gray-700 dark:text-gray-200 mb-6">
      <p class="font-bold mb-2">Calcola qui in colonna</p>
      <div class="flex justify-center">
        <div class="dark:bg-white rounded-xl p-1">
          <%= image_tag "bus3_mat/p063/output-1743504902063_113_264_855_324.png", alt: "Spazio per calcolo in colonna", style: "width: 100%; max-width: 120%; height: auto;" %>
        </div>
      </div>
    </div>

    <div class="text-gray-700 dark:text-gray-200">
      <p>
        <span class="text-red-500 font-bold">•</span>
        Ora puoi calcolare quanti posti in tutto ci sono nel teatro:
        <input type="text" data-fill-blanks-target="input" data-correct-answer="222"
               class="w-16 px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-white dark:bg-gray-800 dark:text-white"
               maxlength="4" inputmode="numeric">
      </p>
    </div>
  </div>

  <!-- Biglietti venduti e incasso -->
  <div class="p-4 md:p-6 mb-8">
    <p class="text-gray-700 dark:text-gray-200 font-bold mb-4">Biglietti venduti e incasso</p>

    <!-- Box prezzi -->
    <div class="float-right ml-4 mb-4 p-4 bg-yellow-100 dark:bg-yellow-900/30 border-2 border-yellow-400 dark:border-yellow-500 rounded-lg text-center">
      <p class="font-bold">SPETTACOLO DI BOLLE</p>
      <p  class="mt-2">INGRESSO A TEATRO</p>
      <p>Biglietto intero € 10</p>
      <p>Biglietto ridotto (per bambine/i) € 6</p>
    </div>

    <div class="space-y-6 text-gray-700 dark:text-gray-200">
      <div>
        <p class="flex items-start gap-2">
          <span class="text-red-500 font-bold">•</span>
          <span>Per lo spettacolo di questa sera sono stati venduti 196 biglietti. Quanti posti in teatro rimarranno vuoti? Puoi calcolare con una
            <input type="text" data-fill-blanks-target="input" data-correct-answer="sottrazione"
                   class="w-28 px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-white dark:bg-gray-800 dark:text-white"
                   maxlength="15">.
          </span>
        </p>
        <p class="mt-2 ml-6">
          <input type="text" data-fill-blanks-target="input" data-correct-answer="222"
                 class="w-14 px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 bg-transparent dark:text-white text-center font-bold"
                 maxlength="4" inputmode="numeric">
          -
          <input type="text" data-fill-blanks-target="input" data-correct-answer="196"
                 class="w-14 px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 bg-transparent dark:text-white text-center font-bold"
                 maxlength="4" inputmode="numeric">
          =
          <input type="text" data-fill-blanks-target="input" data-correct-answer="26"
                 class="w-14 px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 bg-transparent dark:text-white text-center font-bold"
                 maxlength="4" inputmode="numeric">
        </p>
      </div>

      <div class="clear-both">
        <p class="flex items-start gap-2">
          <span class="text-red-500 font-bold">•</span>
          <span>L'incasso dei biglietti a prezzo ridotto è stato di 498 euro. Qual è il numero totale di bambine e bambini allo spettacolo? Puoi calcolare con una
            <input type="text" data-fill-blanks-target="input" data-correct-answer="divisione"
                   class="w-24 px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 text-center font-bold bg-white dark:bg-gray-800 dark:text-white"
                   maxlength="12">.
          </span>
        </p>
        <p class="mt-2 ml-6">
          <input type="text" data-fill-blanks-target="input" data-correct-answer="498"
                 class="w-14 px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 bg-transparent dark:text-white text-center font-bold"
                 maxlength="4" inputmode="numeric">
          :
          <input type="text" data-fill-blanks-target="input" data-correct-answer="6"
                 class="w-12 px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 bg-transparent dark:text-white text-center font-bold"
                 maxlength="2" inputmode="numeric">
          =
          <input type="text" data-fill-blanks-target="input" data-correct-answer="83"
                 class="w-14 px-2 py-1 border-b-2 border-dotted border-gray-400 dark:border-gray-500 bg-transparent dark:text-white text-center font-bold"
                 maxlength="4" inputmode="numeric">
        </p>
      </div>
    </div>
  </div>

  <!-- Footer con controlli -->
  <%= render 'shared/exercise_controls', color: 'blue' %>
</div>
