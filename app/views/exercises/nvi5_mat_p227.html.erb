<div class="max-w-6xl mx-auto bg-white p-3 md:p-6"
     data-controller="exercise-checker text-toggle font-controls"
     data-text-toggle-target="content"
     data-font-controls-target="content">

  <%= render 'shared/page_header', pagina: @pagina %>

  <div class="space-y-6">
    <!-- Esercizio 1: IMPARARE TUTTI -->
    <div class="p-4 bg-white rounded-2xl border-3 border-yellow-400">
      <p class="font-bold text-gray-700 mb-4">
        <%= imparare_tutti_badge(1) %>
        Esegui le equivalenze.
      </p>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
        <!-- Colonna lunghezza -->
        <div class="space-y-3">
          <div class="flex items-center gap-2 bg-cyan-50 p-2 rounded">
            <span class="text-gray-700 font-bold">291 cm =</span>
            <span class="font-bold text-cyan-600">2,91</span>
            <span class="text-gray-700">m</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-gray-700">7,3 km =</span>
            <input type="text" data-correct-answer="7300" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <span class="text-gray-700">m</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-gray-700">56,8 dm =</span>
            <input type="text" data-correct-answer="5,68" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <span class="text-gray-700">m</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-gray-700"><span class="whitespace-nowrap">14 984</span> mm =</span>
            <input type="text" data-correct-answer="14,984" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <span class="text-gray-700">m</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-gray-700">7,6 hm =</span>
            <input type="text" data-correct-answer="760" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <span class="text-gray-700">m</span>
          </div>
        </div>

        <!-- Colonna massa -->
        <div class="space-y-3">
          <div class="flex items-center gap-2">
            <span class="text-gray-700">9,72 kg =</span>
            <input type="text" data-correct-answer="9720" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <span class="text-gray-700">g</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-gray-700">5,31 dg =</span>
            <input type="text" data-correct-answer="0,531" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <span class="text-gray-700">g</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-gray-700">10,45 hg =</span>
            <input type="text" data-correct-answer="1045" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <span class="text-gray-700">g</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-gray-700">0,62 dag =</span>
            <input type="text" data-correct-answer="6,2" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <span class="text-gray-700">g</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-gray-700">103,48 cg =</span>
            <input type="text" data-correct-answer="1,0348" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <span class="text-gray-700">g</span>
          </div>
        </div>

        <!-- Colonna capacità -->
        <div class="space-y-3">
          <div class="flex items-center gap-2">
            <span class="text-gray-700">48 mℓ =</span>
            <input type="text" data-correct-answer="0,048" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <span class="text-gray-700">ℓ</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-gray-700">210 cℓ =</span>
            <input type="text" data-correct-answer="2,1" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <span class="text-gray-700">ℓ</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-gray-700">55 hℓ =</span>
            <input type="text" data-correct-answer="5500" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <span class="text-gray-700">ℓ</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-gray-700">233 daℓ =</span>
            <input type="text" data-correct-answer="2330" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <span class="text-gray-700">ℓ</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-gray-700">16 mℓ =</span>
            <input type="text" data-correct-answer="0,016" class="w-16 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <span class="text-gray-700">ℓ</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Esercizio 2 -->
    <div>
      <p class="font-bold text-gray-700 mb-4">
        <%= numero_esercizio_badge(2) %>
        Scrivi sul quaderno ciascun gruppo di misure in ordine decrescente.
      </p>

      <div class="space-y-3">
        <p class="text-gray-700"><span class="font-bold text-cyan-600">a.</span> 2,11 ℓ • 45,9 dℓ • <span class="whitespace-nowrap">4 592</span> mℓ • 459,01 dℓ • 460 cℓ • 0,231 daℓ</p>
        <p class="text-gray-700"><span class="font-bold text-cyan-600">b.</span> 8,45 hm • 98,043 dam • 890 m • <span class="whitespace-nowrap">98 200</span> cm • 920,1 dm • 0,891 km</p>
        <p class="text-gray-700"><span class="font-bold text-cyan-600">c.</span> 0,034 hg • 0,5 kg • 5,6 g • <span class="whitespace-nowrap">5 600</span> dag • <span class="whitespace-nowrap">5 612</span> dg • <span class="whitespace-nowrap">560 002</span> mg</p>
      </div>
    </div>

    <!-- Esercizio 3 -->
    <div>
      <p class="font-bold text-gray-700 mb-4">
        <%= numero_esercizio_badge(3) %>
        Completa con >, < oppure =.
      </p>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
        <!-- Colonna 1 -->
        <div class="space-y-3">
          <div class="flex items-center gap-2">
            <span class="text-gray-700">6,01 dam</span>
            <input type="text" data-correct-answer="=" class="w-10 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <span class="text-gray-700"><span class="whitespace-nowrap">6 100</span> cm</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-gray-700">34,8 hm</span>
            <input type="text" data-correct-answer=">" class="w-10 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <span class="text-gray-700">357 m</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-gray-700">25 dm</span>
            <input type="text" data-correct-answer=">" class="w-10 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <span class="text-gray-700"><span class="whitespace-nowrap">2 450</span> mm</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-gray-700"><span class="whitespace-nowrap">7 391</span> cm</span>
            <input type="text" data-correct-answer=">" class="w-10 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <span class="text-gray-700">73,9 m</span>
          </div>
        </div>

        <!-- Colonna 2 -->
        <div class="space-y-3">
          <div class="flex items-center gap-2">
            <span class="text-gray-700">407,3 ℓ</span>
            <input type="text" data-correct-answer=">" class="w-10 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <span class="text-gray-700"><span class="whitespace-nowrap">4 078</span> cℓ</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-gray-700">62,8 dℓ</span>
            <input type="text" data-correct-answer=">" class="w-10 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <span class="text-gray-700"><span class="whitespace-nowrap">6 180</span> mℓ</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-gray-700">915,2 cℓ</span>
            <input type="text" data-correct-answer="=" class="w-10 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <span class="text-gray-700">9,152 ℓ</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-gray-700"><span class="whitespace-nowrap">7 450</span> mℓ</span>
            <input type="text" data-correct-answer="=" class="w-10 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <span class="text-gray-700">7,45 daℓ</span>
          </div>
        </div>

        <!-- Colonna 3 -->
        <div class="space-y-3">
          <div class="flex items-center gap-2">
            <span class="text-gray-700"><span class="whitespace-nowrap">78 930</span> mg</span>
            <input type="text" data-correct-answer=">" class="w-10 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <span class="text-gray-700">73,9 g</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-gray-700">82,46 dag</span>
            <input type="text" data-correct-answer="<" class="w-10 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <span class="text-gray-700"><span class="whitespace-nowrap">8 246</span> hg</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-gray-700">6 Mg</span>
            <input type="text" data-correct-answer="=" class="w-10 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <span class="text-gray-700"><span class="whitespace-nowrap">6 000</span> kg</span>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-gray-700">439 dg</span>
            <input type="text" data-correct-answer="<" class="w-10 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent">
            <span class="text-gray-700">0,44 hg</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Esercizio 4 -->
    <div>
      <p class="font-bold text-gray-700 mb-4">
        <%= numero_esercizio_badge(4) %>
        Con quali banconote o monete puoi pagare queste somme utilizzando al massimo 5 pezzi?
      </p>

      <div class="space-y-3">
        <div class="flex items-center gap-2">
          <span class="text-gray-700">€ 3,75</span>
          <span class="text-cyan-500">→</span>
          <input type="text" class="flex-1 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent" placeholder="es: 2€ + 1€ + 0,50€ + 0,20€ + 0,05€">
        </div>
        <div class="flex items-center gap-2">
          <span class="text-gray-700">€ 16,52</span>
          <span class="text-cyan-500">→</span>
          <input type="text" class="flex-1 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent" placeholder="es: 10€ + 5€ + 1€ + 0,50€ + 0,02€">
        </div>
        <div class="flex items-center gap-2">
          <span class="text-gray-700">€ 40,31</span>
          <span class="text-cyan-500">→</span>
          <input type="text" class="flex-1 border-b-2 border-dotted border-gray-400 text-center font-bold bg-transparent" placeholder="es: 20€ + 20€ + 0,20€ + 0,10€ + 0,01€">
        </div>
      </div>
    </div>

    <!-- Esercizio 5 -->
    <div>
      <p class="font-bold text-gray-700 mb-4">
        <%= numero_esercizio_badge(5) %>
        Esegui sul quaderno.
      </p>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div class="space-y-2">
          <p class="text-gray-700">4 h 45 min + 6 h 16 min =</p>
          <p class="text-gray-700">2 h 17 min 35 s + 26 min 11 s =</p>
        </div>
        <div class="space-y-2">
          <p class="text-gray-700">7 h 43 min 22 s - 3 h 25 min 9 s =</p>
          <p class="text-gray-700">6 h 25 min 38 s - 3 h 35 min 21 s =</p>
        </div>
      </div>
    </div>

    <!-- Esercizio 6 -->
    <div>
      <p class="font-bold text-gray-700 mb-4">
        <%= numero_esercizio_badge(6) %>
        Risolvi sul quaderno.
      </p>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div class="p-4 bg-cyan-50 rounded-lg">
          <p class="text-gray-700">
            <span class="font-bold text-cyan-600">a.</span> In un supermercato vengono acquistati 48 pacchi di biscotti e vengono rivenduti guadagnando in tutto € 24. Per ogni pacco erano stati spesi € 1,40. A quanto è stato venduto ogni pacco di biscotti?
          </p>
        </div>
        <div class="p-4 bg-cyan-50 rounded-lg">
          <p class="text-gray-700">
            <span class="font-bold text-cyan-600">b.</span> Un negoziante acquista 160 vasi di ceramica a € 1,64 l'uno. Durante il trasporto si rompono 40 vasi. A quanto deve rivendere ogni vaso rimasto per avere un guadagno complessivo di € 92,80?
          </p>
        </div>
      </div>
    </div>

    <%= render 'shared/exercise_controls' %>
  </div>
</div>
