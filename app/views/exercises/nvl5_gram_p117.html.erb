<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8" data-controller="exercise-checker">

  <!-- Header con badge VERIFICA -->
  <%= render 'shared/page_header', pagina: @pagina %>


  <!-- Esercizio 5 - Sottolinea complementi -->
  <div class="bg-orange-50 border-2 border-orange-300 rounded-lg p-6 mb-8" data-controller="word-highlighter" data-word-highlighter-multi-color-value="true">
    <h2 class="text-lg md:text-xl font-bold text-gray-700 mb-4">
      <span class="bg-orange-500 text-white rounded-full w-8 h-8 md:w-10 md:h-10 inline-flex items-center justify-center mr-2">5</span>
      Sottolinea di <span class="text-blue-600 font-bold">blu il complemento oggetto<span class="inline-block w-6 h-6 bg-blue-300 rounded ml-1 align-middle cursor-pointer transition transform hover:scale-110" data-word-highlighter-target="colorBox" data-color="blue" data-action="click->word-highlighter#selectColor"></span></span> e di <span class="text-green-600 font-bold">verde il complemento di termine<span class="inline-block w-6 h-6 bg-green-300 rounded ml-1 align-middle cursor-pointer transition transform hover:scale-110" data-word-highlighter-target="colorBox" data-color="green" data-action="click->word-highlighter#selectColor"></span></span>. Fai attenzione: non tutte le frasi li hanno entrambi.
    </h2>

    <div class="flex justify-end mb-4">
      <div class="w-48 h-40">
        <svg viewBox="0 0 200 150" class="w-full h-full">
          <!-- Busta e penna -->
          <rect x="50" y="60" width="100" height="70" fill="#FFA500" stroke="#FF8C00" stroke-width="2"/>
          <polygon points="50,60 100,90 150,60" fill="#FFD700"/>
          <rect x="160" y="40" width="8" height="80" fill="#4169E1"/>
          <circle cx="164" cy="35" r="5" fill="#4169E1"/>
          <!-- Secchiello e paletta -->
          <rect x="20" y="110" width="30" height="25" fill="#FFD700"/>
          <rect x="10" y="100" width="10" height="40" fill="#FF6347"/>
          <ellipse cx="15" cy="140" rx="8" ry="3" fill="#FF6347"/>
        </svg>
      </div>
    </div>

    <div class="space-y-3 cursor-pointer">
      <div class="bg-white border-2 border-orange-200 rounded-xl px-4 py-3">
        <span class="text-gray-700">• Hai telefonato <span data-word-highlighter-target="word" data-correct="green" data-action="click->word-highlighter#toggleHighlight" class="px-1 rounded">al dentista</span> per disdire <span data-word-highlighter-target="word" data-correct="blue" data-action="click->word-highlighter#toggleHighlight" class="px-1 rounded">l'appuntamento</span>?</span>
      </div>

      <div class="bg-white border-2 border-orange-200 rounded-xl px-4 py-3">
        <span class="text-gray-700">• A Christian mancano <span data-word-highlighter-target="word" data-correct="blue" data-action="click->word-highlighter#toggleHighlight" class="px-1 rounded">gli amici</span> della vecchia scuola.</span>
      </div>

      <div class="bg-white border-2 border-orange-200 rounded-xl px-4 py-3">
        <span class="text-gray-700">• Fate firmare <span data-word-highlighter-target="word" data-correct="blue" data-action="click->word-highlighter#toggleHighlight" class="px-1 rounded">l'avviso</span> <span data-word-highlighter-target="word" data-correct="green" data-action="click->word-highlighter#toggleHighlight" class="px-1 rounded">ai vostri genitori</span>.</span>
      </div>

      <div class="bg-white border-2 border-orange-200 rounded-xl px-4 py-3">
        <span class="text-gray-700">• <span data-word-highlighter-target="word" data-correct="green" data-action="click->word-highlighter#toggleHighlight" class="px-1 rounded">Alla mamma</span> ho chiesto in regalo <span data-word-highlighter-target="word" data-correct="blue" data-action="click->word-highlighter#toggleHighlight" class="px-1 rounded">l'ultimo CD di Ghali</span>.</span>
      </div>

      <div class="bg-white border-2 border-orange-200 rounded-xl px-4 py-3">
        <span class="text-gray-700">• <span data-word-highlighter-target="word" data-correct="green" data-action="click->word-highlighter#toggleHighlight" class="px-1 rounded">Al cane di Giorgio</span> non piace essere accarezzato.</span>
      </div>

      <div class="bg-white border-2 border-orange-200 rounded-xl px-4 py-3">
        <span class="text-gray-700">• Al mare compreremo <span data-word-highlighter-target="word" data-correct="blue" data-action="click->word-highlighter#toggleHighlight" class="px-1 rounded">secchiello e palette</span>.</span>
      </div>
    </div>
  </div>

  <!-- Esercizio 6 - Completa con i complementi -->
  <div class="bg-white border-2 border-gray-300 rounded-lg p-6 mb-8" data-controller="fill-blanks">
    <h2 class="text-lg md:text-xl font-bold text-gray-700 mb-4">
      <span class="bg-orange-500 text-white rounded-full w-8 h-8 md:w-10 md:h-10 inline-flex items-center justify-center mr-2">6</span>
      Completa con i <strong class="underline">complementi</strong> indicati.
    </h2>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div class="bg-blue-50 border-2 border-blue-200 rounded-xl p-4">
        <p class="font-bold text-blue-700 mb-3">• Virginia studia...</p>
        <div class="space-y-2">
          <div>
            <span class="text-sm font-semibold text-blue-600">c. oggetto</span> →
            <input type="text"
                   class="ml-2 w-full px-3 py-2 border-b-2 border-dotted border-blue-400 focus:border-blue-600 focus:outline-none"
                   data-fill-blanks-target="input"
                   data-correct-answer="libera">
          </div>
          <div>
            <span class="text-sm font-semibold text-blue-600">c. di tempo</span> →
            <input type="text"
                   class="ml-2 w-full px-3 py-2 border-b-2 border-dotted border-blue-400 focus:border-blue-600 focus:outline-none"
                   data-fill-blanks-target="input"
                   data-correct-answer="libera">
          </div>
          <div>
            <span class="text-sm font-semibold text-blue-600">c. di luogo</span> →
            <input type="text"
                   class="ml-2 w-full px-3 py-2 border-b-2 border-dotted border-blue-400 focus:border-blue-600 focus:outline-none"
                   data-fill-blanks-target="input"
                   data-correct-answer="libera">
          </div>
        </div>
      </div>

      <div class="bg-green-50 border-2 border-green-200 rounded-xl p-4">
        <p class="font-bold text-green-700 mb-3">• Enrico ha mandato...</p>
        <div class="space-y-2">
          <div>
            <span class="text-sm font-semibold text-green-600">c. di tempo</span> →
            <input type="text"
                   class="ml-2 w-full px-3 py-2 border-b-2 border-dotted border-green-400 focus:border-green-600 focus:outline-none"
                   data-fill-blanks-target="input"
                   data-correct-answer="libera">
          </div>
          <div>
            <span class="text-sm font-semibold text-green-600">c. oggetto</span> →
            <input type="text"
                   class="ml-2 w-full px-3 py-2 border-b-2 border-dotted border-green-400 focus:border-green-600 focus:outline-none"
                   data-fill-blanks-target="input"
                   data-correct-answer="libera">
          </div>
          <div>
            <span class="text-sm font-semibold text-green-600">c. di termine</span> →
            <input type="text"
                   class="ml-2 w-full px-3 py-2 border-b-2 border-dotted border-green-400 focus:border-green-600 focus:outline-none"
                   data-fill-blanks-target="input"
                   data-correct-answer="libera">
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Esercizio 7 - Attributo e apposizione -->
  <div class="bg-purple-50 border-2 border-purple-300 rounded-lg p-6 mb-8" data-controller="multiple-choice">
    <h2 class="text-lg md:text-xl font-bold text-gray-700 mb-4">
      <span class="bg-orange-500 text-white rounded-full w-8 h-8 md:w-10 md:h-10 inline-flex items-center justify-center mr-2">7</span>
      Indica con una <span class="underline">X</span> la frase in cui sono presenti sia un <strong class="underline">attributo</strong> sia un'<strong class="underline">apposizione</strong>.
    </h2>

    <div class="space-y-3">
      <label class="flex items-start gap-3 p-4 bg-white rounded-lg cursor-pointer hover:bg-purple-100 transition">
        <input type="checkbox"
               data-multiple-choice-target="answer"
               data-correct-answer="false"
               class="w-5 h-5 mt-1 flex-shrink-0">
        <span class="text-gray-700">Maria ha comprato una bellissima sciarpa di seta.</span>
      </label>

      <label class="flex items-start gap-3 p-4 bg-white rounded-lg cursor-pointer hover:bg-purple-100 transition">
        <input type="checkbox"
               data-multiple-choice-target="answer"
               data-correct-answer="false"
               class="w-5 h-5 mt-1 flex-shrink-0">
        <span class="text-gray-700">Giulio ha la febbre, quindi abbiamo chiamato la dottoressa Carli.</span>
      </label>

      <label class="flex items-start gap-3 p-4 bg-white rounded-lg cursor-pointer hover:bg-purple-100 transition">
        <input type="checkbox"
               data-multiple-choice-target="answer"
               data-correct-answer="false"
               class="w-5 h-5 mt-1 flex-shrink-0">
        <span class="text-gray-700">Il cane Toby abbaia alle persone che non conosce.</span>
      </label>

      <label class="flex items-start gap-3 p-4 bg-white rounded-lg cursor-pointer hover:bg-purple-100 transition">
        <input type="checkbox"
               data-multiple-choice-target="answer"
               data-correct-answer="true"
               class="w-5 h-5 mt-1 flex-shrink-0">
        <span class="text-gray-700">Pierluigi, esperto archeologo, ha scoperto un'antica tomba etrusca.</span>
      </label>
    </div>
  </div>

  <!-- Le mie competenze -->
  <div class="bg-gradient-to-r from-orange-100 to-yellow-100 rounded-xl p-4 mb-6">
    <h3 class="text-xl font-bold text-orange-700">Le mie competenze</h3>
  </div>

  <!-- Esercizio 8 - Quale verbo NON può reggere... -->
  <div class="bg-yellow-50 border-2 border-yellow-300 rounded-lg p-6 mb-8" data-controller="multiple-choice">
    <h2 class="text-lg md:text-xl font-bold text-gray-700 mb-4">
      <span class="bg-orange-500 text-white rounded-full w-8 h-8 md:w-10 md:h-10 inline-flex items-center justify-center mr-2">8</span>
      Quale fra i seguenti verbi NON può reggere sia un complemento oggetto sia un complemento di termine?
    </h2>

    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
      <label class="flex items-center gap-3 p-4 bg-white rounded-lg cursor-pointer hover:bg-yellow-100 transition">
        <input type="radio"
               name="question_8"
               data-multiple-choice-target="answer"
               data-correct-answer="false"
               class="w-5 h-5">
        <span class="text-gray-700 font-semibold">Restituire</span>
      </label>

      <label class="flex items-center gap-3 p-4 bg-white rounded-lg cursor-pointer hover:bg-yellow-100 transition">
        <input type="radio"
               name="question_8"
               data-multiple-choice-target="answer"
               data-correct-answer="false"
               class="w-5 h-5">
        <span class="text-gray-700 font-semibold">Leggere</span>
      </label>

      <label class="flex items-center gap-3 p-4 bg-white rounded-lg cursor-pointer hover:bg-yellow-100 transition">
        <input type="radio"
               name="question_8"
               data-multiple-choice-target="answer"
               data-correct-answer="false"
               class="w-5 h-5">
        <span class="text-gray-700 font-semibold">Regalare</span>
      </label>

      <label class="flex items-center gap-3 p-4 bg-white rounded-lg cursor-pointer hover:bg-yellow-100 transition">
        <input type="radio"
               name="question_8"
               data-multiple-choice-target="answer"
               data-correct-answer="true"
               class="w-5 h-5">
        <span class="text-gray-700 font-semibold">Amare</span>
      </label>
    </div>
  </div>

  <!-- Esercizio 9 - Quale sintagma con "per" è complemento di luogo -->
  <div class="bg-green-50 border-2 border-green-300 rounded-lg p-6 mb-8" data-controller="multiple-choice">
    <h2 class="text-lg md:text-xl font-bold text-gray-700 mb-4">
      <span class="bg-orange-500 text-white rounded-full w-8 h-8 md:w-10 md:h-10 inline-flex items-center justify-center mr-2">9</span>
      Quale fra i seguenti sintagmi introdotti da <strong class="underline">per</strong> è un complemento di luogo?
    </h2>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <label class="flex items-start gap-3 p-4 bg-white rounded-lg cursor-pointer hover:bg-green-100 transition">
        <input type="radio"
               name="question_9"
               data-multiple-choice-target="answer"
               data-correct-answer="false"
               class="w-5 h-5 mt-1 flex-shrink-0">
        <span class="text-gray-700"><strong>Per l'ansia</strong> non ho dormito.</span>
      </label>

      <label class="flex items-start gap-3 p-4 bg-white rounded-lg cursor-pointer hover:bg-green-100 transition">
        <input type="radio"
               name="question_9"
               data-multiple-choice-target="answer"
               data-correct-answer="false"
               class="w-5 h-5 mt-1 flex-shrink-0">
        <span class="text-gray-700">Passa il filo <strong>per la manica</strong>.</span>
      </label>

      <label class="flex items-start gap-3 p-4 bg-white rounded-lg cursor-pointer hover:bg-green-100 transition">
        <input type="radio"
               name="question_9"
               data-multiple-choice-target="answer"
               data-correct-answer="false"
               class="w-5 h-5 mt-1 flex-shrink-0">
        <span class="text-gray-700"><strong>Per anni</strong> ho aspettato questo momento.</span>
      </label>

      <label class="flex items-start gap-3 p-4 bg-white rounded-lg cursor-pointer hover:bg-green-100 transition">
        <input type="radio"
               name="question_9"
               data-multiple-choice-target="answer"
               data-correct-answer="true"
               class="w-5 h-5 mt-1 flex-shrink-0">
        <span class="text-gray-700">La rivista mi è arrivata <strong>per posta</strong>.</span>
      </label>
    </div>
  </div>

  <!-- Exercise controls -->
  <%= render 'shared/exercise_controls', color: 'orange' %>
</div>
