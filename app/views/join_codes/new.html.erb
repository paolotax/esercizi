<div class="h-full flex items-start justify-center bg-cream dark:bg-gray-900 pt-16 pb-12 px-4 sm:px-6 lg:px-8">
  <div class="max-w-md w-full bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl rounded-3xl shadow-2xl shadow-gray-900/10 p-8 md:p-10 fade-in-up card-lift">
    <div class="text-center mb-8">
      <h2 class="text-3xl font-extrabold text-gray-900 dark:text-white">
        Unisciti a <%= @join_code.account.name %>
      </h2>
      <p class="mt-2 text-sm text-gray-600 dark:text-gray-400">
        Inserisci la tua email per unirti come <strong><%= @join_code.role %></strong>
      </p>
    </div>

    <% if flash[:alert] %>
      <div class="rounded-2xl bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 p-4 mb-6 fade-in-up delay-100">
        <p class="text-sm text-red-700 dark:text-red-400"><%= flash[:alert] %></p>
      </div>
    <% end %>

    <%= form_with url: join_path(code: params[:code], tenant: params[:tenant]), method: :post, class: "space-y-6" do |form| %>
      <div class="fade-in-up delay-200">
        <%= form.label :email_address, "Email", class: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" %>
        <%= form.email_field :email_address,
            required: true,
            autofocus: true,
            autocomplete: "email",
            value: Current.identity&.email_address,
            placeholder: "tu@esempio.com",
            class: "input-glow appearance-none block w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-600 rounded-2xl placeholder-gray-400 dark:placeholder-gray-500 bg-gray-50 dark:bg-gray-700/50 text-gray-900 dark:text-white focus:outline-none focus:border-transparent transition-all" %>
      </div>

      <div class="fade-in-up delay-300">
        <%= form.submit "Unisciti",
            class: "btn-press w-full flex justify-center py-3 px-4 border border-transparent text-sm font-bold rounded-2xl text-white bg-coral hover:bg-coral-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-coral shadow-lg hover:shadow-xl transition-all cursor-pointer" %>
      </div>
    <% end %>
  </div>
</div>
